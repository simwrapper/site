var ec=Object.defineProperty;var tc=(Ge,Ee,Xe)=>Ee in Ge?ec(Ge,Ee,{enumerable:!0,configurable:!0,writable:!0,value:Xe}):Ge[Ee]=Xe;var Je=(Ge,Ee,Xe)=>(tc(Ge,typeof Ee!="symbol"?Ee+"":Ee,Xe),Xe);(function(){"use strict";/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */function Ke(e){let t=e.length;for(;--t>=0;)e[t]=0}const ps=0,jn=1,gs=2,bs=3,As=258,Jt=29,et=256,tt=et+1+Jt,Ve=30,en=19,Qn=2*tt+1,$e=15,tn=16,Es=7,nn=256,qn=16,Jn=17,er=18,rn=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),mt=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),ws=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),tr=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ys=512,_e=new Array((tt+2)*2);Ke(_e);const nt=new Array(Ve*2);Ke(nt);const rt=new Array(ys);Ke(rt);const it=new Array(As-bs+1);Ke(it);const sn=new Array(Jt);Ke(sn);const St=new Array(Ve);Ke(St);function an(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}let nr,rr,ir;function on(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const sr=e=>e<256?rt[e]:rt[256+(e>>>7)],st=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},q=(e,t,n)=>{e.bi_valid>tn-n?(e.bi_buf|=t<<e.bi_valid&65535,st(e,e.bi_buf),e.bi_buf=t>>tn-e.bi_valid,e.bi_valid+=n-tn):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},ae=(e,t,n)=>{q(e,n[t*2],n[t*2+1])},ar=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},xs=e=>{e.bi_valid===16?(st(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},vs=(e,t)=>{const n=t.dyn_tree,i=t.max_code,r=t.stat_desc.static_tree,s=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,f=t.stat_desc.max_length;let l,u,h,c,d,p,A=0;for(c=0;c<=$e;c++)e.bl_count[c]=0;for(n[e.heap[e.heap_max]*2+1]=0,l=e.heap_max+1;l<Qn;l++)u=e.heap[l],c=n[n[u*2+1]*2+1]+1,c>f&&(c=f,A++),n[u*2+1]=c,!(u>i)&&(e.bl_count[c]++,d=0,u>=o&&(d=a[u-o]),p=n[u*2],e.opt_len+=p*(c+d),s&&(e.static_len+=p*(r[u*2+1]+d)));if(A!==0){do{for(c=f-1;e.bl_count[c]===0;)c--;e.bl_count[c]--,e.bl_count[c+1]+=2,e.bl_count[f]--,A-=2}while(A>0);for(c=f;c!==0;c--)for(u=e.bl_count[c];u!==0;)h=e.heap[--l],!(h>i)&&(n[h*2+1]!==c&&(e.opt_len+=(c-n[h*2+1])*n[h*2],n[h*2+1]=c),u--)}},or=(e,t,n)=>{const i=new Array($e+1);let r=0,s,a;for(s=1;s<=$e;s++)i[s]=r=r+n[s-1]<<1;for(a=0;a<=t;a++){let o=e[a*2+1];o!==0&&(e[a*2]=ar(i[o]++,o))}},Rs=()=>{let e,t,n,i,r;const s=new Array($e+1);for(n=0,i=0;i<Jt-1;i++)for(sn[i]=n,e=0;e<1<<rn[i];e++)it[n++]=i;for(it[n-1]=i,r=0,i=0;i<16;i++)for(St[i]=r,e=0;e<1<<mt[i];e++)rt[r++]=i;for(r>>=7;i<Ve;i++)for(St[i]=r<<7,e=0;e<1<<mt[i]-7;e++)rt[256+r++]=i;for(t=0;t<=$e;t++)s[t]=0;for(e=0;e<=143;)_e[e*2+1]=8,e++,s[8]++;for(;e<=255;)_e[e*2+1]=9,e++,s[9]++;for(;e<=279;)_e[e*2+1]=7,e++,s[7]++;for(;e<=287;)_e[e*2+1]=8,e++,s[8]++;for(or(_e,tt+1,s),e=0;e<Ve;e++)nt[e*2+1]=5,nt[e*2]=ar(e,5);nr=new an(_e,rn,et+1,tt,$e),rr=new an(nt,mt,0,Ve,$e),ir=new an(new Array(0),ws,0,en,Es)},lr=e=>{let t;for(t=0;t<tt;t++)e.dyn_ltree[t*2]=0;for(t=0;t<Ve;t++)e.dyn_dtree[t*2]=0;for(t=0;t<en;t++)e.bl_tree[t*2]=0;e.dyn_ltree[nn*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},fr=e=>{e.bi_valid>8?st(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},ms=(e,t,n,i)=>{fr(e),i&&(st(e,n),st(e,~n)),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},ur=(e,t,n,i)=>{const r=t*2,s=n*2;return e[r]<e[s]||e[r]===e[s]&&i[t]<=i[n]},ln=(e,t,n)=>{const i=e.heap[n];let r=n<<1;for(;r<=e.heap_len&&(r<e.heap_len&&ur(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!ur(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i},cr=(e,t,n)=>{let i,r,s=0,a,o;if(e.last_lit!==0)do i=e.pending_buf[e.d_buf+s*2]<<8|e.pending_buf[e.d_buf+s*2+1],r=e.pending_buf[e.l_buf+s],s++,i===0?ae(e,r,t):(a=it[r],ae(e,a+et+1,t),o=rn[a],o!==0&&(r-=sn[a],q(e,r,o)),i--,a=sr(i),ae(e,a,n),o=mt[a],o!==0&&(i-=St[a],q(e,i,o)));while(s<e.last_lit);ae(e,nn,t)},fn=(e,t)=>{const n=t.dyn_tree,i=t.stat_desc.static_tree,r=t.stat_desc.has_stree,s=t.stat_desc.elems;let a,o,f=-1,l;for(e.heap_len=0,e.heap_max=Qn,a=0;a<s;a++)n[a*2]!==0?(e.heap[++e.heap_len]=f=a,e.depth[a]=0):n[a*2+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=f<2?++f:0,n[l*2]=1,e.depth[l]=0,e.opt_len--,r&&(e.static_len-=i[l*2+1]);for(t.max_code=f,a=e.heap_len>>1;a>=1;a--)ln(e,n,a);l=s;do a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ln(e,n,1),o=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=o,n[l*2]=n[a*2]+n[o*2],e.depth[l]=(e.depth[a]>=e.depth[o]?e.depth[a]:e.depth[o])+1,n[a*2+1]=n[o*2+1]=l,e.heap[1]=l++,ln(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],vs(e,t),or(n,f,e.bl_count)},hr=(e,t,n)=>{let i,r=-1,s,a=t[0*2+1],o=0,f=7,l=4;for(a===0&&(f=138,l=3),t[(n+1)*2+1]=65535,i=0;i<=n;i++)s=a,a=t[(i+1)*2+1],!(++o<f&&s===a)&&(o<l?e.bl_tree[s*2]+=o:s!==0?(s!==r&&e.bl_tree[s*2]++,e.bl_tree[qn*2]++):o<=10?e.bl_tree[Jn*2]++:e.bl_tree[er*2]++,o=0,r=s,a===0?(f=138,l=3):s===a?(f=6,l=3):(f=7,l=4))},dr=(e,t,n)=>{let i,r=-1,s,a=t[0*2+1],o=0,f=7,l=4;for(a===0&&(f=138,l=3),i=0;i<=n;i++)if(s=a,a=t[(i+1)*2+1],!(++o<f&&s===a)){if(o<l)do ae(e,s,e.bl_tree);while(--o!==0);else s!==0?(s!==r&&(ae(e,s,e.bl_tree),o--),ae(e,qn,e.bl_tree),q(e,o-3,2)):o<=10?(ae(e,Jn,e.bl_tree),q(e,o-3,3)):(ae(e,er,e.bl_tree),q(e,o-11,7));o=0,r=s,a===0?(f=138,l=3):s===a?(f=6,l=3):(f=7,l=4)}},Ss=e=>{let t;for(hr(e,e.dyn_ltree,e.l_desc.max_code),hr(e,e.dyn_dtree,e.d_desc.max_code),fn(e,e.bl_desc),t=en-1;t>=3&&e.bl_tree[tr[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},Cs=(e,t,n,i)=>{let r;for(q(e,t-257,5),q(e,n-1,5),q(e,i-4,4),r=0;r<i;r++)q(e,e.bl_tree[tr[r]*2+1],3);dr(e,e.dyn_ltree,t-1),dr(e,e.dyn_dtree,n-1)},Ts=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return 0;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return 1;for(n=32;n<et;n++)if(e.dyn_ltree[n*2]!==0)return 1;return 0};let _r=!1;const Ns=e=>{_r||(Rs(),_r=!0),e.l_desc=new on(e.dyn_ltree,nr),e.d_desc=new on(e.dyn_dtree,rr),e.bl_desc=new on(e.bl_tree,ir),e.bi_buf=0,e.bi_valid=0,lr(e)},pr=(e,t,n,i)=>{q(e,(ps<<1)+(i?1:0),3),ms(e,t,n,!0)},ks=e=>{q(e,jn<<1,3),ae(e,nn,_e),xs(e)},$s=(e,t,n,i)=>{let r,s,a=0;e.level>0?(e.strm.data_type===2&&(e.strm.data_type=Ts(e)),fn(e,e.l_desc),fn(e,e.d_desc),a=Ss(e),r=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=r&&(r=s)):r=s=n+5,n+4<=r&&t!==-1?pr(e,t,n,i):e.strategy===4||s===r?(q(e,(jn<<1)+(i?1:0),3),cr(e,_e,nt)):(q(e,(gs<<1)+(i?1:0),3),Cs(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),cr(e,e.dyn_ltree,e.dyn_dtree)),lr(e),i&&fr(e)},Os=(e,t,n)=>(e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=n&255,e.last_lit++,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(it[n]+et+1)*2]++,e.dyn_dtree[sr(t)*2]++),e.last_lit===e.lit_bufsize-1);var Ls=Ns,Is=pr,Hs=$s,Ps=Os,Fs=ks,Ms={_tr_init:Ls,_tr_stored_block:Is,_tr_flush_block:Hs,_tr_tally:Ps,_tr_align:Fs},at=(e,t,n,i)=>{let r=e&65535|0,s=e>>>16&65535|0,a=0;for(;n!==0;){a=n>2e3?2e3:n,n-=a;do r=r+t[i++]|0,s=s+r|0;while(--a);r%=65521,s%=65521}return r|s<<16|0};const zs=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},Bs=new Uint32Array(zs());var D=(e,t,n,i)=>{const r=Bs,s=i+n;e^=-1;for(let a=i;a<s;a++)e=e>>>8^r[(e^t[a])&255];return e^-1},Oe={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Le={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Us,_tr_stored_block:Zs,_tr_flush_block:Gs,_tr_tally:we,_tr_align:Xs}=Ms,{Z_NO_FLUSH:Ie,Z_PARTIAL_FLUSH:Ks,Z_FULL_FLUSH:Vs,Z_FINISH:ye,Z_BLOCK:gr,Z_OK:oe,Z_STREAM_END:br,Z_STREAM_ERROR:ne,Z_DATA_ERROR:Ws,Z_BUF_ERROR:un,Z_DEFAULT_COMPRESSION:Ds,Z_FILTERED:Ys,Z_HUFFMAN_ONLY:Ct,Z_RLE:js,Z_FIXED:Qs,Z_DEFAULT_STRATEGY:qs,Z_UNKNOWN:Js,Z_DEFLATED:Tt}=Le,ea=9,ta=15,na=8,ra=29,cn=256+1+ra,ia=30,sa=19,aa=2*cn+1,oa=15,L=3,xe=258,ie=xe+L+1,la=32,Nt=42,hn=69,kt=73,$t=91,Ot=103,He=113,ot=666,V=1,lt=2,Pe=3,We=4,fa=3,ve=(e,t)=>(e.msg=Oe[t],t),Ar=e=>(e<<1)-(e>4?9:0),Re=e=>{let t=e.length;for(;--t>=0;)e[t]=0};let me=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const Se=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},Y=(e,t)=>{Gs(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Se(e.strm)},I=(e,t)=>{e.pending_buf[e.pending++]=t},ft=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},ua=(e,t,n,i)=>{let r=e.avail_in;return r>i&&(r=i),r===0?0:(e.avail_in-=r,t.set(e.input.subarray(e.next_in,e.next_in+r),n),e.state.wrap===1?e.adler=at(e.adler,t,r,n):e.state.wrap===2&&(e.adler=D(e.adler,t,r,n)),e.next_in+=r,e.total_in+=r,r)},Er=(e,t)=>{let n=e.max_chain_length,i=e.strstart,r,s,a=e.prev_length,o=e.nice_match;const f=e.strstart>e.w_size-ie?e.strstart-(e.w_size-ie):0,l=e.window,u=e.w_mask,h=e.prev,c=e.strstart+xe;let d=l[i+a-1],p=l[i+a];e.prev_length>=e.good_match&&(n>>=2),o>e.lookahead&&(o=e.lookahead);do if(r=t,!(l[r+a]!==p||l[r+a-1]!==d||l[r]!==l[i]||l[++r]!==l[i+1])){i+=2,r++;do;while(l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&i<c);if(s=xe-(c-i),i=c-xe,s>a){if(e.match_start=t,a=s,s>=o)break;d=l[i+a-1],p=l[i+a]}}while((t=h[t&u])>f&&--n!==0);return a<=e.lookahead?a:e.lookahead},Fe=e=>{const t=e.w_size;let n,i,r,s,a;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-ie)){e.window.set(e.window.subarray(t,t+t),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,i=e.hash_size,n=i;do r=e.head[--n],e.head[n]=r>=t?r-t:0;while(--i);i=t,n=i;do r=e.prev[--n],e.prev[n]=r>=t?r-t:0;while(--i);s+=t}if(e.strm.avail_in===0)break;if(i=ua(e.strm,e.window,e.strstart+e.lookahead,s),e.lookahead+=i,e.lookahead+e.insert>=L)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=me(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=me(e,e.ins_h,e.window[a+L-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<L)););}while(e.lookahead<ie&&e.strm.avail_in!==0)},ca=(e,t)=>{let n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Fe(e),e.lookahead===0&&t===Ie)return V;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;const i=e.block_start+n;if((e.strstart===0||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,Y(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-ie&&(Y(e,!1),e.strm.avail_out===0))return V}return e.insert=0,t===ye?(Y(e,!0),e.strm.avail_out===0?Pe:We):(e.strstart>e.block_start&&(Y(e,!1),e.strm.avail_out===0),V)},dn=(e,t)=>{let n,i;for(;;){if(e.lookahead<ie){if(Fe(e),e.lookahead<ie&&t===Ie)return V;if(e.lookahead===0)break}if(n=0,e.lookahead>=L&&(e.ins_h=me(e,e.ins_h,e.window[e.strstart+L-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-ie&&(e.match_length=Er(e,n)),e.match_length>=L)if(i=we(e,e.strstart-e.match_start,e.match_length-L),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=L){e.match_length--;do e.strstart++,e.ins_h=me(e,e.ins_h,e.window[e.strstart+L-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=me(e,e.ins_h,e.window[e.strstart+1]);else i=we(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(Y(e,!1),e.strm.avail_out===0))return V}return e.insert=e.strstart<L-1?e.strstart:L-1,t===ye?(Y(e,!0),e.strm.avail_out===0?Pe:We):e.last_lit&&(Y(e,!1),e.strm.avail_out===0)?V:lt},De=(e,t)=>{let n,i,r;for(;;){if(e.lookahead<ie){if(Fe(e),e.lookahead<ie&&t===Ie)return V;if(e.lookahead===0)break}if(n=0,e.lookahead>=L&&(e.ins_h=me(e,e.ins_h,e.window[e.strstart+L-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=L-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-ie&&(e.match_length=Er(e,n),e.match_length<=5&&(e.strategy===Ys||e.match_length===L&&e.strstart-e.match_start>4096)&&(e.match_length=L-1)),e.prev_length>=L&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-L,i=we(e,e.strstart-1-e.prev_match,e.prev_length-L),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=r&&(e.ins_h=me(e,e.ins_h,e.window[e.strstart+L-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=L-1,e.strstart++,i&&(Y(e,!1),e.strm.avail_out===0))return V}else if(e.match_available){if(i=we(e,0,e.window[e.strstart-1]),i&&Y(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return V}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=we(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<L-1?e.strstart:L-1,t===ye?(Y(e,!0),e.strm.avail_out===0?Pe:We):e.last_lit&&(Y(e,!1),e.strm.avail_out===0)?V:lt},ha=(e,t)=>{let n,i,r,s;const a=e.window;for(;;){if(e.lookahead<=xe){if(Fe(e),e.lookahead<=xe&&t===Ie)return V;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=L&&e.strstart>0&&(r=e.strstart-1,i=a[r],i===a[++r]&&i===a[++r]&&i===a[++r])){s=e.strstart+xe;do;while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<s);e.match_length=xe-(s-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=L?(n=we(e,1,e.match_length-L),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=we(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Y(e,!1),e.strm.avail_out===0))return V}return e.insert=0,t===ye?(Y(e,!0),e.strm.avail_out===0?Pe:We):e.last_lit&&(Y(e,!1),e.strm.avail_out===0)?V:lt},da=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(Fe(e),e.lookahead===0)){if(t===Ie)return V;break}if(e.match_length=0,n=we(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Y(e,!1),e.strm.avail_out===0))return V}return e.insert=0,t===ye?(Y(e,!0),e.strm.avail_out===0?Pe:We):e.last_lit&&(Y(e,!1),e.strm.avail_out===0)?V:lt};function le(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}const ut=[new le(0,0,0,0,ca),new le(4,4,8,4,dn),new le(4,5,16,8,dn),new le(4,6,32,32,dn),new le(4,4,16,16,De),new le(8,16,32,32,De),new le(8,16,128,128,De),new le(8,32,128,256,De),new le(32,128,258,1024,De),new le(32,258,258,4096,De)],_a=e=>{e.window_size=2*e.w_size,Re(e.head),e.max_lazy_match=ut[e.level].max_lazy,e.good_match=ut[e.level].good_length,e.nice_match=ut[e.level].nice_length,e.max_chain_length=ut[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=L-1,e.match_available=0,e.ins_h=0};function pa(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Tt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(aa*2),this.dyn_dtree=new Uint16Array((2*ia+1)*2),this.bl_tree=new Uint16Array((2*sa+1)*2),Re(this.dyn_ltree),Re(this.dyn_dtree),Re(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(oa+1),this.heap=new Uint16Array(2*cn+1),Re(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*cn+1),Re(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const wr=e=>{if(!e||!e.state)return ve(e,ne);e.total_in=e.total_out=0,e.data_type=Js;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?Nt:He,e.adler=t.wrap===2?0:1,t.last_flush=Ie,Us(t),oe},yr=e=>{const t=wr(e);return t===oe&&_a(e.state),t},ga=(e,t)=>!e||!e.state||e.state.wrap!==2?ne:(e.state.gzhead=t,oe),xr=(e,t,n,i,r,s)=>{if(!e)return ne;let a=1;if(t===Ds&&(t=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),r<1||r>ea||n!==Tt||i<8||i>15||t<0||t>9||s<0||s>Qs)return ve(e,ne);i===8&&(i=9);const o=new pa;return e.state=o,o.strm=e,o.wrap=a,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=r+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+L-1)/L),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<r+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=(1+2)*o.lit_bufsize,o.level=t,o.strategy=s,o.method=n,yr(e)},ba=(e,t)=>xr(e,t,Tt,ta,na,qs),Aa=(e,t)=>{let n,i;if(!e||!e.state||t>gr||t<0)return e?ve(e,ne):ne;const r=e.state;if(!e.output||!e.input&&e.avail_in!==0||r.status===ot&&t!==ye)return ve(e,e.avail_out===0?un:ne);r.strm=e;const s=r.last_flush;if(r.last_flush=t,r.status===Nt)if(r.wrap===2)e.adler=0,I(r,31),I(r,139),I(r,8),r.gzhead?(I(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),I(r,r.gzhead.time&255),I(r,r.gzhead.time>>8&255),I(r,r.gzhead.time>>16&255),I(r,r.gzhead.time>>24&255),I(r,r.level===9?2:r.strategy>=Ct||r.level<2?4:0),I(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(I(r,r.gzhead.extra.length&255),I(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=D(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=hn):(I(r,0),I(r,0),I(r,0),I(r,0),I(r,0),I(r,r.level===9?2:r.strategy>=Ct||r.level<2?4:0),I(r,fa),r.status=He);else{let a=Tt+(r.w_bits-8<<4)<<8,o=-1;r.strategy>=Ct||r.level<2?o=0:r.level<6?o=1:r.level===6?o=2:o=3,a|=o<<6,r.strstart!==0&&(a|=la),a+=31-a%31,r.status=He,ft(r,a),r.strstart!==0&&(ft(r,e.adler>>>16),ft(r,e.adler&65535)),e.adler=1}if(r.status===hn)if(r.gzhead.extra){for(n=r.pending;r.gzindex<(r.gzhead.extra.length&65535)&&!(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(e.adler=D(e.adler,r.pending_buf,r.pending-n,n)),Se(e),n=r.pending,r.pending===r.pending_buf_size));)I(r,r.gzhead.extra[r.gzindex]&255),r.gzindex++;r.gzhead.hcrc&&r.pending>n&&(e.adler=D(e.adler,r.pending_buf,r.pending-n,n)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=kt)}else r.status=kt;if(r.status===kt)if(r.gzhead.name){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(e.adler=D(e.adler,r.pending_buf,r.pending-n,n)),Se(e),n=r.pending,r.pending===r.pending_buf_size)){i=1;break}r.gzindex<r.gzhead.name.length?i=r.gzhead.name.charCodeAt(r.gzindex++)&255:i=0,I(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>n&&(e.adler=D(e.adler,r.pending_buf,r.pending-n,n)),i===0&&(r.gzindex=0,r.status=$t)}else r.status=$t;if(r.status===$t)if(r.gzhead.comment){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(e.adler=D(e.adler,r.pending_buf,r.pending-n,n)),Se(e),n=r.pending,r.pending===r.pending_buf_size)){i=1;break}r.gzindex<r.gzhead.comment.length?i=r.gzhead.comment.charCodeAt(r.gzindex++)&255:i=0,I(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>n&&(e.adler=D(e.adler,r.pending_buf,r.pending-n,n)),i===0&&(r.status=Ot)}else r.status=Ot;if(r.status===Ot&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&Se(e),r.pending+2<=r.pending_buf_size&&(I(r,e.adler&255),I(r,e.adler>>8&255),e.adler=0,r.status=He)):r.status=He),r.pending!==0){if(Se(e),e.avail_out===0)return r.last_flush=-1,oe}else if(e.avail_in===0&&Ar(t)<=Ar(s)&&t!==ye)return ve(e,un);if(r.status===ot&&e.avail_in!==0)return ve(e,un);if(e.avail_in!==0||r.lookahead!==0||t!==Ie&&r.status!==ot){let a=r.strategy===Ct?da(r,t):r.strategy===js?ha(r,t):ut[r.level].func(r,t);if((a===Pe||a===We)&&(r.status=ot),a===V||a===Pe)return e.avail_out===0&&(r.last_flush=-1),oe;if(a===lt&&(t===Ks?Xs(r):t!==gr&&(Zs(r,0,0,!1),t===Vs&&(Re(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),Se(e),e.avail_out===0))return r.last_flush=-1,oe}return t!==ye?oe:r.wrap<=0?br:(r.wrap===2?(I(r,e.adler&255),I(r,e.adler>>8&255),I(r,e.adler>>16&255),I(r,e.adler>>24&255),I(r,e.total_in&255),I(r,e.total_in>>8&255),I(r,e.total_in>>16&255),I(r,e.total_in>>24&255)):(ft(r,e.adler>>>16),ft(r,e.adler&65535)),Se(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?oe:br)},Ea=e=>{if(!e||!e.state)return ne;const t=e.state.status;return t!==Nt&&t!==hn&&t!==kt&&t!==$t&&t!==Ot&&t!==He&&t!==ot?ve(e,ne):(e.state=null,t===He?ve(e,Ws):oe)},wa=(e,t)=>{let n=t.length;if(!e||!e.state)return ne;const i=e.state,r=i.wrap;if(r===2||r===1&&i.status!==Nt||i.lookahead)return ne;if(r===1&&(e.adler=at(e.adler,t,n,0)),i.wrap=0,n>=i.w_size){r===0&&(Re(i.head),i.strstart=0,i.block_start=0,i.insert=0);let f=new Uint8Array(i.w_size);f.set(t.subarray(n-i.w_size,n),0),t=f,n=i.w_size}const s=e.avail_in,a=e.next_in,o=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Fe(i);i.lookahead>=L;){let f=i.strstart,l=i.lookahead-(L-1);do i.ins_h=me(i,i.ins_h,i.window[f+L-1]),i.prev[f&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=f,f++;while(--l);i.strstart=f,i.lookahead=L-1,Fe(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=L-1,i.match_available=0,e.next_in=a,e.input=o,e.avail_in=s,i.wrap=r,oe};var ya=ba,xa=xr,va=yr,Ra=wr,ma=ga,Sa=Aa,Ca=Ea,Ta=wa,Na="pako deflate (from Nodeca project)",ct={deflateInit:ya,deflateInit2:xa,deflateReset:va,deflateResetKeep:Ra,deflateSetHeader:ma,deflate:Sa,deflateEnd:Ca,deflateSetDictionary:Ta,deflateInfo:Na};const ka=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var $a=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const i in n)ka(n,i)&&(e[i]=n[i])}}return e},Oa=e=>{let t=0;for(let i=0,r=e.length;i<r;i++)t+=e[i].length;const n=new Uint8Array(t);for(let i=0,r=0,s=e.length;i<s;i++){let a=e[i];n.set(a,r),r+=a.length}return n},Lt={assign:$a,flattenChunks:Oa};let vr=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{vr=!1}const ht=new Uint8Array(256);for(let e=0;e<256;e++)ht[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;ht[254]=ht[254]=1;var La=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,i,r,s,a=e.length,o=0;for(r=0;r<a;r++)n=e.charCodeAt(r),(n&64512)===55296&&r+1<a&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),r++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(o),s=0,r=0;s<o;r++)n=e.charCodeAt(r),(n&64512)===55296&&r+1<a&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),r++)),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|n&63):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|n&63):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|n&63);return t};const Ia=(e,t)=>{if(t<65534&&e.subarray&&vr)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n};var Ha=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let i,r;const s=new Array(n*2);for(r=0,i=0;i<n;){let a=e[i++];if(a<128){s[r++]=a;continue}let o=ht[a];if(o>4){s[r++]=65533,i+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&i<n;)a=a<<6|e[i++]&63,o--;if(o>1){s[r++]=65533;continue}a<65536?s[r++]=a:(a-=65536,s[r++]=55296|a>>10&1023,s[r++]=56320|a&1023)}return Ia(s,r)},Pa=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+ht[e[n]]>t?n:t},dt={string2buf:La,buf2string:Ha,utf8border:Pa};function Fa(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Rr=Fa;const mr=Object.prototype.toString,{Z_NO_FLUSH:Ma,Z_SYNC_FLUSH:za,Z_FULL_FLUSH:Ba,Z_FINISH:Ua,Z_OK:It,Z_STREAM_END:Za,Z_DEFAULT_COMPRESSION:Ga,Z_DEFAULT_STRATEGY:Xa,Z_DEFLATED:Ka}=Le;function _t(e){this.options=Lt.assign({level:Ga,method:Ka,chunkSize:16384,windowBits:15,memLevel:8,strategy:Xa},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Rr,this.strm.avail_out=0;let n=ct.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==It)throw new Error(Oe[n]);if(t.header&&ct.deflateSetHeader(this.strm,t.header),t.dictionary){let i;if(typeof t.dictionary=="string"?i=dt.string2buf(t.dictionary):mr.call(t.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(t.dictionary):i=t.dictionary,n=ct.deflateSetDictionary(this.strm,i),n!==It)throw new Error(Oe[n]);this._dict_set=!0}}_t.prototype.push=function(e,t){const n=this.strm,i=this.options.chunkSize;let r,s;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?Ua:Ma,typeof e=="string"?n.input=dt.string2buf(e):mr.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),(s===za||s===Ba)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(r=ct.deflate(n,s),r===Za)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),r=ct.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===It;if(n.avail_out===0){this.onData(n.output);continue}if(s>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0},_t.prototype.onData=function(e){this.chunks.push(e)},_t.prototype.onEnd=function(e){e===It&&(this.result=Lt.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function _n(e,t){const n=new _t(t);if(n.push(e,!0),n.err)throw n.msg||Oe[n.err];return n.result}function Va(e,t){return t=t||{},t.raw=!0,_n(e,t)}function Wa(e,t){return t=t||{},t.gzip=!0,_n(e,t)}var Da=_t,Ya=_n,ja=Va,Qa=Wa,qa=Le,Ja={Deflate:Da,deflate:Ya,deflateRaw:ja,gzip:Qa,constants:qa};const Ht=30,eo=12;var to=function(t,n){let i,r,s,a,o,f,l,u,h,c,d,p,A,x,m,k,S,E,N,M,R,y,C,T;const _=t.state;i=t.next_in,C=t.input,r=i+(t.avail_in-5),s=t.next_out,T=t.output,a=s-(n-t.avail_out),o=s+(t.avail_out-257),f=_.dmax,l=_.wsize,u=_.whave,h=_.wnext,c=_.window,d=_.hold,p=_.bits,A=_.lencode,x=_.distcode,m=(1<<_.lenbits)-1,k=(1<<_.distbits)-1;e:do{p<15&&(d+=C[i++]<<p,p+=8,d+=C[i++]<<p,p+=8),S=A[d&m];t:for(;;){if(E=S>>>24,d>>>=E,p-=E,E=S>>>16&255,E===0)T[s++]=S&65535;else if(E&16){N=S&65535,E&=15,E&&(p<E&&(d+=C[i++]<<p,p+=8),N+=d&(1<<E)-1,d>>>=E,p-=E),p<15&&(d+=C[i++]<<p,p+=8,d+=C[i++]<<p,p+=8),S=x[d&k];n:for(;;){if(E=S>>>24,d>>>=E,p-=E,E=S>>>16&255,E&16){if(M=S&65535,E&=15,p<E&&(d+=C[i++]<<p,p+=8,p<E&&(d+=C[i++]<<p,p+=8)),M+=d&(1<<E)-1,M>f){t.msg="invalid distance too far back",_.mode=Ht;break e}if(d>>>=E,p-=E,E=s-a,M>E){if(E=M-E,E>u&&_.sane){t.msg="invalid distance too far back",_.mode=Ht;break e}if(R=0,y=c,h===0){if(R+=l-E,E<N){N-=E;do T[s++]=c[R++];while(--E);R=s-M,y=T}}else if(h<E){if(R+=l+h-E,E-=h,E<N){N-=E;do T[s++]=c[R++];while(--E);if(R=0,h<N){E=h,N-=E;do T[s++]=c[R++];while(--E);R=s-M,y=T}}}else if(R+=h-E,E<N){N-=E;do T[s++]=c[R++];while(--E);R=s-M,y=T}for(;N>2;)T[s++]=y[R++],T[s++]=y[R++],T[s++]=y[R++],N-=3;N&&(T[s++]=y[R++],N>1&&(T[s++]=y[R++]))}else{R=s-M;do T[s++]=T[R++],T[s++]=T[R++],T[s++]=T[R++],N-=3;while(N>2);N&&(T[s++]=T[R++],N>1&&(T[s++]=T[R++]))}}else if(E&64){t.msg="invalid distance code",_.mode=Ht;break e}else{S=x[(S&65535)+(d&(1<<E)-1)];continue n}break}}else if(E&64)if(E&32){_.mode=eo;break e}else{t.msg="invalid literal/length code",_.mode=Ht;break e}else{S=A[(S&65535)+(d&(1<<E)-1)];continue t}break}}while(i<r&&s<o);N=p>>3,i-=N,p-=N<<3,d&=(1<<p)-1,t.next_in=i,t.next_out=s,t.avail_in=i<r?5+(r-i):5-(i-r),t.avail_out=s<o?257+(o-s):257-(s-o),_.hold=d,_.bits=p};const Ye=15,Sr=852,Cr=592,Tr=0,pn=1,Nr=2,no=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ro=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),io=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),so=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var pt=(e,t,n,i,r,s,a,o)=>{const f=o.bits;let l=0,u=0,h=0,c=0,d=0,p=0,A=0,x=0,m=0,k=0,S,E,N,M,R,y=null,C=0,T;const _=new Uint16Array(Ye+1),H=new Uint16Array(Ye+1);let F=null,se=0,b,g,K;for(l=0;l<=Ye;l++)_[l]=0;for(u=0;u<i;u++)_[t[n+u]]++;for(d=f,c=Ye;c>=1&&_[c]===0;c--);if(d>c&&(d=c),c===0)return r[s++]=1<<24|64<<16|0,r[s++]=1<<24|64<<16|0,o.bits=1,0;for(h=1;h<c&&_[h]===0;h++);for(d<h&&(d=h),x=1,l=1;l<=Ye;l++)if(x<<=1,x-=_[l],x<0)return-1;if(x>0&&(e===Tr||c!==1))return-1;for(H[1]=0,l=1;l<Ye;l++)H[l+1]=H[l]+_[l];for(u=0;u<i;u++)t[n+u]!==0&&(a[H[t[n+u]]++]=u);if(e===Tr?(y=F=a,T=19):e===pn?(y=no,C-=257,F=ro,se-=257,T=256):(y=io,F=so,T=-1),k=0,u=0,l=h,R=s,p=d,A=0,N=-1,m=1<<d,M=m-1,e===pn&&m>Sr||e===Nr&&m>Cr)return 1;for(;;){b=l-A,a[u]<T?(g=0,K=a[u]):a[u]>T?(g=F[se+a[u]],K=y[C+a[u]]):(g=32+64,K=0),S=1<<l-A,E=1<<p,h=E;do E-=S,r[R+(k>>A)+E]=b<<24|g<<16|K|0;while(E!==0);for(S=1<<l-1;k&S;)S>>=1;if(S!==0?(k&=S-1,k+=S):k=0,u++,--_[l]===0){if(l===c)break;l=t[n+a[u]]}if(l>d&&(k&M)!==N){for(A===0&&(A=d),R+=h,p=l-A,x=1<<p;p+A<c&&(x-=_[p+A],!(x<=0));)p++,x<<=1;if(m+=1<<p,e===pn&&m>Sr||e===Nr&&m>Cr)return 1;N=k&M,r[N]=d<<24|p<<16|R-s|0}}return k!==0&&(r[R+k]=l-A<<24|64<<16|0),o.bits=d,0};const ao=0,kr=1,$r=2,{Z_FINISH:Or,Z_BLOCK:oo,Z_TREES:Pt,Z_OK:Me,Z_STREAM_END:lo,Z_NEED_DICT:fo,Z_STREAM_ERROR:re,Z_DATA_ERROR:Lr,Z_MEM_ERROR:Ir,Z_BUF_ERROR:uo,Z_DEFLATED:Hr}=Le,Pr=1,Fr=2,Mr=3,zr=4,Br=5,Ur=6,Zr=7,Gr=8,Xr=9,Kr=10,Ft=11,pe=12,gn=13,Vr=14,bn=15,Wr=16,Dr=17,Yr=18,jr=19,Mt=20,zt=21,Qr=22,qr=23,Jr=24,ei=25,ti=26,An=27,ni=28,ri=29,U=30,ii=31,co=32,ho=852,_o=592,po=15,si=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function go(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ai=e=>{if(!e||!e.state)return re;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Pr,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(ho),t.distcode=t.distdyn=new Int32Array(_o),t.sane=1,t.back=-1,Me},oi=e=>{if(!e||!e.state)return re;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,ai(e)},li=(e,t)=>{let n;if(!e||!e.state)return re;const i=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15)?re:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,oi(e))},fi=(e,t)=>{if(!e)return re;const n=new go;e.state=n,n.window=null;const i=li(e,t);return i!==Me&&(e.state=null),i},bo=e=>fi(e,po);let ui=!0,En,wn;const Ao=e=>{if(ui){En=new Int32Array(512),wn=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(pt(kr,e.lens,0,288,En,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;pt($r,e.lens,0,32,wn,0,e.work,{bits:5}),ui=!1}e.lencode=En,e.lenbits=9,e.distcode=wn,e.distbits=5},ci=(e,t,n,i)=>{let r;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(s.window.set(t.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(r=s.wsize-s.wnext,r>i&&(r=i),s.window.set(t.subarray(n-i,n-i+r),s.wnext),i-=r,i?(s.window.set(t.subarray(n-i,n),0),s.wnext=i,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0},Eo=(e,t)=>{let n,i,r,s,a,o,f,l,u,h,c,d,p,A,x=0,m,k,S,E,N,M,R,y;const C=new Uint8Array(4);let T,_;const H=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return re;n=e.state,n.mode===pe&&(n.mode=gn),a=e.next_out,r=e.output,f=e.avail_out,s=e.next_in,i=e.input,o=e.avail_in,l=n.hold,u=n.bits,h=o,c=f,y=Me;e:for(;;)switch(n.mode){case Pr:if(n.wrap===0){n.mode=gn;break}for(;u<16;){if(o===0)break e;o--,l+=i[s++]<<u,u+=8}if(n.wrap&2&&l===35615){n.check=0,C[0]=l&255,C[1]=l>>>8&255,n.check=D(n.check,C,2,0),l=0,u=0,n.mode=Fr;break}if(n.flags=0,n.head&&(n.head.done=!1),!(n.wrap&1)||(((l&255)<<8)+(l>>8))%31){e.msg="incorrect header check",n.mode=U;break}if((l&15)!==Hr){e.msg="unknown compression method",n.mode=U;break}if(l>>>=4,u-=4,R=(l&15)+8,n.wbits===0)n.wbits=R;else if(R>n.wbits){e.msg="invalid window size",n.mode=U;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=l&512?Kr:pe,l=0,u=0;break;case Fr:for(;u<16;){if(o===0)break e;o--,l+=i[s++]<<u,u+=8}if(n.flags=l,(n.flags&255)!==Hr){e.msg="unknown compression method",n.mode=U;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=U;break}n.head&&(n.head.text=l>>8&1),n.flags&512&&(C[0]=l&255,C[1]=l>>>8&255,n.check=D(n.check,C,2,0)),l=0,u=0,n.mode=Mr;case Mr:for(;u<32;){if(o===0)break e;o--,l+=i[s++]<<u,u+=8}n.head&&(n.head.time=l),n.flags&512&&(C[0]=l&255,C[1]=l>>>8&255,C[2]=l>>>16&255,C[3]=l>>>24&255,n.check=D(n.check,C,4,0)),l=0,u=0,n.mode=zr;case zr:for(;u<16;){if(o===0)break e;o--,l+=i[s++]<<u,u+=8}n.head&&(n.head.xflags=l&255,n.head.os=l>>8),n.flags&512&&(C[0]=l&255,C[1]=l>>>8&255,n.check=D(n.check,C,2,0)),l=0,u=0,n.mode=Br;case Br:if(n.flags&1024){for(;u<16;){if(o===0)break e;o--,l+=i[s++]<<u,u+=8}n.length=l,n.head&&(n.head.extra_len=l),n.flags&512&&(C[0]=l&255,C[1]=l>>>8&255,n.check=D(n.check,C,2,0)),l=0,u=0}else n.head&&(n.head.extra=null);n.mode=Ur;case Ur:if(n.flags&1024&&(d=n.length,d>o&&(d=o),d&&(n.head&&(R=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(s,s+d),R)),n.flags&512&&(n.check=D(n.check,i,d,s)),o-=d,s+=d,n.length-=d),n.length))break e;n.length=0,n.mode=Zr;case Zr:if(n.flags&2048){if(o===0)break e;d=0;do R=i[s+d++],n.head&&R&&n.length<65536&&(n.head.name+=String.fromCharCode(R));while(R&&d<o);if(n.flags&512&&(n.check=D(n.check,i,d,s)),o-=d,s+=d,R)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Gr;case Gr:if(n.flags&4096){if(o===0)break e;d=0;do R=i[s+d++],n.head&&R&&n.length<65536&&(n.head.comment+=String.fromCharCode(R));while(R&&d<o);if(n.flags&512&&(n.check=D(n.check,i,d,s)),o-=d,s+=d,R)break e}else n.head&&(n.head.comment=null);n.mode=Xr;case Xr:if(n.flags&512){for(;u<16;){if(o===0)break e;o--,l+=i[s++]<<u,u+=8}if(l!==(n.check&65535)){e.msg="header crc mismatch",n.mode=U;break}l=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=pe;break;case Kr:for(;u<32;){if(o===0)break e;o--,l+=i[s++]<<u,u+=8}e.adler=n.check=si(l),l=0,u=0,n.mode=Ft;case Ft:if(n.havedict===0)return e.next_out=a,e.avail_out=f,e.next_in=s,e.avail_in=o,n.hold=l,n.bits=u,fo;e.adler=n.check=1,n.mode=pe;case pe:if(t===oo||t===Pt)break e;case gn:if(n.last){l>>>=u&7,u-=u&7,n.mode=An;break}for(;u<3;){if(o===0)break e;o--,l+=i[s++]<<u,u+=8}switch(n.last=l&1,l>>>=1,u-=1,l&3){case 0:n.mode=Vr;break;case 1:if(Ao(n),n.mode=Mt,t===Pt){l>>>=2,u-=2;break e}break;case 2:n.mode=Dr;break;case 3:e.msg="invalid block type",n.mode=U}l>>>=2,u-=2;break;case Vr:for(l>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,l+=i[s++]<<u,u+=8}if((l&65535)!==(l>>>16^65535)){e.msg="invalid stored block lengths",n.mode=U;break}if(n.length=l&65535,l=0,u=0,n.mode=bn,t===Pt)break e;case bn:n.mode=Wr;case Wr:if(d=n.length,d){if(d>o&&(d=o),d>f&&(d=f),d===0)break e;r.set(i.subarray(s,s+d),a),o-=d,s+=d,f-=d,a+=d,n.length-=d;break}n.mode=pe;break;case Dr:for(;u<14;){if(o===0)break e;o--,l+=i[s++]<<u,u+=8}if(n.nlen=(l&31)+257,l>>>=5,u-=5,n.ndist=(l&31)+1,l>>>=5,u-=5,n.ncode=(l&15)+4,l>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=U;break}n.have=0,n.mode=Yr;case Yr:for(;n.have<n.ncode;){for(;u<3;){if(o===0)break e;o--,l+=i[s++]<<u,u+=8}n.lens[H[n.have++]]=l&7,l>>>=3,u-=3}for(;n.have<19;)n.lens[H[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,T={bits:n.lenbits},y=pt(ao,n.lens,0,19,n.lencode,0,n.work,T),n.lenbits=T.bits,y){e.msg="invalid code lengths set",n.mode=U;break}n.have=0,n.mode=jr;case jr:for(;n.have<n.nlen+n.ndist;){for(;x=n.lencode[l&(1<<n.lenbits)-1],m=x>>>24,k=x>>>16&255,S=x&65535,!(m<=u);){if(o===0)break e;o--,l+=i[s++]<<u,u+=8}if(S<16)l>>>=m,u-=m,n.lens[n.have++]=S;else{if(S===16){for(_=m+2;u<_;){if(o===0)break e;o--,l+=i[s++]<<u,u+=8}if(l>>>=m,u-=m,n.have===0){e.msg="invalid bit length repeat",n.mode=U;break}R=n.lens[n.have-1],d=3+(l&3),l>>>=2,u-=2}else if(S===17){for(_=m+3;u<_;){if(o===0)break e;o--,l+=i[s++]<<u,u+=8}l>>>=m,u-=m,R=0,d=3+(l&7),l>>>=3,u-=3}else{for(_=m+7;u<_;){if(o===0)break e;o--,l+=i[s++]<<u,u+=8}l>>>=m,u-=m,R=0,d=11+(l&127),l>>>=7,u-=7}if(n.have+d>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=U;break}for(;d--;)n.lens[n.have++]=R}}if(n.mode===U)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=U;break}if(n.lenbits=9,T={bits:n.lenbits},y=pt(kr,n.lens,0,n.nlen,n.lencode,0,n.work,T),n.lenbits=T.bits,y){e.msg="invalid literal/lengths set",n.mode=U;break}if(n.distbits=6,n.distcode=n.distdyn,T={bits:n.distbits},y=pt($r,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,T),n.distbits=T.bits,y){e.msg="invalid distances set",n.mode=U;break}if(n.mode=Mt,t===Pt)break e;case Mt:n.mode=zt;case zt:if(o>=6&&f>=258){e.next_out=a,e.avail_out=f,e.next_in=s,e.avail_in=o,n.hold=l,n.bits=u,to(e,c),a=e.next_out,r=e.output,f=e.avail_out,s=e.next_in,i=e.input,o=e.avail_in,l=n.hold,u=n.bits,n.mode===pe&&(n.back=-1);break}for(n.back=0;x=n.lencode[l&(1<<n.lenbits)-1],m=x>>>24,k=x>>>16&255,S=x&65535,!(m<=u);){if(o===0)break e;o--,l+=i[s++]<<u,u+=8}if(k&&!(k&240)){for(E=m,N=k,M=S;x=n.lencode[M+((l&(1<<E+N)-1)>>E)],m=x>>>24,k=x>>>16&255,S=x&65535,!(E+m<=u);){if(o===0)break e;o--,l+=i[s++]<<u,u+=8}l>>>=E,u-=E,n.back+=E}if(l>>>=m,u-=m,n.back+=m,n.length=S,k===0){n.mode=ti;break}if(k&32){n.back=-1,n.mode=pe;break}if(k&64){e.msg="invalid literal/length code",n.mode=U;break}n.extra=k&15,n.mode=Qr;case Qr:if(n.extra){for(_=n.extra;u<_;){if(o===0)break e;o--,l+=i[s++]<<u,u+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=qr;case qr:for(;x=n.distcode[l&(1<<n.distbits)-1],m=x>>>24,k=x>>>16&255,S=x&65535,!(m<=u);){if(o===0)break e;o--,l+=i[s++]<<u,u+=8}if(!(k&240)){for(E=m,N=k,M=S;x=n.distcode[M+((l&(1<<E+N)-1)>>E)],m=x>>>24,k=x>>>16&255,S=x&65535,!(E+m<=u);){if(o===0)break e;o--,l+=i[s++]<<u,u+=8}l>>>=E,u-=E,n.back+=E}if(l>>>=m,u-=m,n.back+=m,k&64){e.msg="invalid distance code",n.mode=U;break}n.offset=S,n.extra=k&15,n.mode=Jr;case Jr:if(n.extra){for(_=n.extra;u<_;){if(o===0)break e;o--,l+=i[s++]<<u,u+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=U;break}n.mode=ei;case ei:if(f===0)break e;if(d=c-f,n.offset>d){if(d=n.offset-d,d>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=U;break}d>n.wnext?(d-=n.wnext,p=n.wsize-d):p=n.wnext-d,d>n.length&&(d=n.length),A=n.window}else A=r,p=a-n.offset,d=n.length;d>f&&(d=f),f-=d,n.length-=d;do r[a++]=A[p++];while(--d);n.length===0&&(n.mode=zt);break;case ti:if(f===0)break e;r[a++]=n.length,f--,n.mode=zt;break;case An:if(n.wrap){for(;u<32;){if(o===0)break e;o--,l|=i[s++]<<u,u+=8}if(c-=f,e.total_out+=c,n.total+=c,c&&(e.adler=n.check=n.flags?D(n.check,r,c,a-c):at(n.check,r,c,a-c)),c=f,(n.flags?l:si(l))!==n.check){e.msg="incorrect data check",n.mode=U;break}l=0,u=0}n.mode=ni;case ni:if(n.wrap&&n.flags){for(;u<32;){if(o===0)break e;o--,l+=i[s++]<<u,u+=8}if(l!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=U;break}l=0,u=0}n.mode=ri;case ri:y=lo;break e;case U:y=Lr;break e;case ii:return Ir;case co:default:return re}return e.next_out=a,e.avail_out=f,e.next_in=s,e.avail_in=o,n.hold=l,n.bits=u,(n.wsize||c!==e.avail_out&&n.mode<U&&(n.mode<An||t!==Or))&&ci(e,e.output,e.next_out,c-e.avail_out),h-=e.avail_in,c-=e.avail_out,e.total_in+=h,e.total_out+=c,n.total+=c,n.wrap&&c&&(e.adler=n.check=n.flags?D(n.check,r,c,e.next_out-c):at(n.check,r,c,e.next_out-c)),e.data_type=n.bits+(n.last?64:0)+(n.mode===pe?128:0)+(n.mode===Mt||n.mode===bn?256:0),(h===0&&c===0||t===Or)&&y===Me&&(y=uo),y},wo=e=>{if(!e||!e.state)return re;let t=e.state;return t.window&&(t.window=null),e.state=null,Me},yo=(e,t)=>{if(!e||!e.state)return re;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,Me):re},xo=(e,t)=>{const n=t.length;let i,r,s;return!e||!e.state||(i=e.state,i.wrap!==0&&i.mode!==Ft)?re:i.mode===Ft&&(r=1,r=at(r,t,n,0),r!==i.check)?Lr:(s=ci(e,t,n,n),s?(i.mode=ii,Ir):(i.havedict=1,Me))};var vo=oi,Ro=li,mo=ai,So=bo,Co=fi,To=Eo,No=wo,ko=yo,$o=xo,Oo="pako inflate (from Nodeca project)",ge={inflateReset:vo,inflateReset2:Ro,inflateResetKeep:mo,inflateInit:So,inflateInit2:Co,inflate:To,inflateEnd:No,inflateGetHeader:ko,inflateSetDictionary:$o,inflateInfo:Oo};function Lo(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Io=Lo;const hi=Object.prototype.toString,{Z_NO_FLUSH:Ho,Z_FINISH:Po,Z_OK:gt,Z_STREAM_END:yn,Z_NEED_DICT:xn,Z_STREAM_ERROR:Fo,Z_DATA_ERROR:di,Z_MEM_ERROR:Mo}=Le;function bt(e){this.options=Lt.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Rr,this.strm.avail_out=0;let n=ge.inflateInit2(this.strm,t.windowBits);if(n!==gt)throw new Error(Oe[n]);if(this.header=new Io,ge.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=dt.string2buf(t.dictionary):hi.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=ge.inflateSetDictionary(this.strm,t.dictionary),n!==gt)))throw new Error(Oe[n])}bt.prototype.push=function(e,t){const n=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?Po:Ho,hi.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),s=ge.inflate(n,a),s===xn&&r&&(s=ge.inflateSetDictionary(n,r),s===gt?s=ge.inflate(n,a):s===di&&(s=xn));n.avail_in>0&&s===yn&&n.state.wrap>0&&e[n.next_in]!==0;)ge.inflateReset(n),s=ge.inflate(n,a);switch(s){case Fo:case di:case xn:case Mo:return this.onEnd(s),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||s===yn))if(this.options.to==="string"){let f=dt.utf8border(n.output,n.next_out),l=n.next_out-f,u=dt.buf2string(n.output,f);n.next_out=l,n.avail_out=i-l,l&&n.output.set(n.output.subarray(f,f+l),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===gt&&o===0)){if(s===yn)return s=ge.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0},bt.prototype.onData=function(e){this.chunks.push(e)},bt.prototype.onEnd=function(e){e===gt&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Lt.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function vn(e,t){const n=new bt(t);if(n.push(e),n.err)throw n.msg||Oe[n.err];return n.result}function zo(e,t){return t=t||{},t.raw=!0,vn(e,t)}var Bo=bt,Uo=vn,Zo=zo,Go=vn,Xo=Le,Ko={Inflate:Bo,inflate:Uo,inflateRaw:Zo,ungzip:Go,constants:Xo};const{Deflate:Vo,deflate:Wo,deflateRaw:Do,gzip:Yo}=Ja,{Inflate:jo,inflate:Qo,inflateRaw:qo,ungzip:Jo}=Ko;var el=Vo,tl=Wo,nl=Do,rl=Yo,il=jo,sl=Qo,al=qo,ol=Jo,ll=Le,_i={Deflate:el,deflate:tl,deflateRaw:nl,gzip:rl,Inflate:il,inflate:sl,inflateRaw:al,ungzip:ol,constants:ll};function fl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ul(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var r=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return e[i]}})}),n}var cl={},hl=Object.freeze({__proto__:null,default:cl}),pi=ul(hl),Bt={};(function(e){e.isInteger=t=>typeof t=="number"?Number.isInteger(t):typeof t=="string"&&t.trim()!==""?Number.isInteger(Number(t)):!1,e.find=(t,n)=>t.nodes.find(i=>i.type===n),e.exceedsLimit=(t,n,i=1,r)=>r===!1||!e.isInteger(t)||!e.isInteger(n)?!1:(Number(n)-Number(t))/Number(i)>=r,e.escapeNode=(t,n=0,i)=>{const r=t.nodes[n];r&&(i&&r.type===i||r.type==="open"||r.type==="close")&&r.escaped!==!0&&(r.value="\\"+r.value,r.escaped=!0)},e.encloseBrace=t=>t.type!=="brace"||t.commas>>0+t.ranges>>0?!1:(t.invalid=!0,!0),e.isInvalidBrace=t=>t.type!=="brace"?!1:t.invalid===!0||t.dollar?!0:!(t.commas>>0+t.ranges>>0)||t.open!==!0||t.close!==!0?(t.invalid=!0,!0):!1,e.isOpenOrClose=t=>t.type==="open"||t.type==="close"?!0:t.open===!0||t.close===!0,e.reduce=t=>t.reduce((n,i)=>(i.type==="text"&&n.push(i.value),i.type==="range"&&(i.type="text"),n),[]),e.flatten=(...t)=>{const n=[],i=r=>{for(let s=0;s<r.length;s++){const a=r[s];if(Array.isArray(a)){i(a);continue}a!==void 0&&n.push(a)}return n};return i(t),n}})(Bt);const gi=Bt;var Rn=(e,t={})=>{const n=(i,r={})=>{const s=t.escapeInvalid&&gi.isInvalidBrace(r),a=i.invalid===!0&&t.escapeInvalid===!0;let o="";if(i.value)return(s||a)&&gi.isOpenOrClose(i)?"\\"+i.value:i.value;if(i.value)return i.value;if(i.nodes)for(const f of i.nodes)o+=n(f);return o};return n(e)};/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */var dl=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1};/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const bi=dl,ze=(e,t,n)=>{if(bi(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(bi(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let i={relaxZeros:!0,...n};typeof i.strictZeros=="boolean"&&(i.relaxZeros=i.strictZeros===!1);let r=String(i.relaxZeros),s=String(i.shorthand),a=String(i.capture),o=String(i.wrap),f=e+":"+t+"="+r+s+a+o;if(ze.cache.hasOwnProperty(f))return ze.cache[f].result;let l=Math.min(e,t),u=Math.max(e,t);if(Math.abs(l-u)===1){let A=e+"|"+t;return i.capture?`(${A})`:i.wrap===!1?A:`(?:${A})`}let h=vi(e)||vi(t),c={min:e,max:t,a:l,b:u},d=[],p=[];if(h&&(c.isPadded=h,c.maxLen=String(c.max).length),l<0){let A=u<0?Math.abs(u):1;p=Ai(A,Math.abs(l),c,i),l=c.a=0}return u>=0&&(d=Ai(l,u,c,i)),c.negatives=p,c.positives=d,c.result=_l(p,d),i.capture===!0?c.result=`(${c.result})`:i.wrap!==!1&&d.length+p.length>1&&(c.result=`(?:${c.result})`),ze.cache[f]=c,c.result};function _l(e,t,n){let i=mn(e,t,"-",!1)||[],r=mn(t,e,"",!1)||[],s=mn(e,t,"-?",!0)||[];return i.concat(s).concat(r).join("|")}function pl(e,t){let n=1,i=1,r=wi(e,n),s=new Set([t]);for(;e<=r&&r<=t;)s.add(r),n+=1,r=wi(e,n);for(r=yi(t+1,i)-1;e<r&&r<=t;)s.add(r),i+=1,r=yi(t+1,i)-1;return s=[...s],s.sort(Al),s}function gl(e,t,n){if(e===t)return{pattern:e,count:[],digits:0};let i=bl(e,t),r=i.length,s="",a=0;for(let o=0;o<r;o++){let[f,l]=i[o];f===l?s+=f:f!=="0"||l!=="9"?s+=El(f,l):a++}return a&&(s+=n.shorthand===!0?"\\d":"[0-9]"),{pattern:s,count:[a],digits:r}}function Ai(e,t,n,i){let r=pl(e,t),s=[],a=e,o;for(let f=0;f<r.length;f++){let l=r[f],u=gl(String(a),String(l),i),h="";if(!n.isPadded&&o&&o.pattern===u.pattern){o.count.length>1&&o.count.pop(),o.count.push(u.count[0]),o.string=o.pattern+xi(o.count),a=l+1;continue}n.isPadded&&(h=wl(l,n,i)),u.string=h+u.pattern+xi(u.count),s.push(u),a=l+1,o=u}return s}function mn(e,t,n,i,r){let s=[];for(let a of e){let{string:o}=a;!i&&!Ei(t,"string",o)&&s.push(n+o),i&&Ei(t,"string",o)&&s.push(n+o)}return s}function bl(e,t){let n=[];for(let i=0;i<e.length;i++)n.push([e[i],t[i]]);return n}function Al(e,t){return e>t?1:t>e?-1:0}function Ei(e,t,n){return e.some(i=>i[t]===n)}function wi(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function yi(e,t){return e-e%Math.pow(10,t)}function xi(e){let[t=0,n=""]=e;return n||t>1?`{${t+(n?","+n:"")}}`:""}function El(e,t,n){return`[${e}${t-e===1?"":"-"}${t}]`}function vi(e){return/^-?(0+)\d/.test(e)}function wl(e,t,n){if(!t.isPadded)return e;let i=Math.abs(t.maxLen-String(e).length),r=n.relaxZeros!==!1;switch(i){case 0:return"";case 1:return r?"0?":"0";case 2:return r?"0{0,2}":"00";default:return r?`0{0,${i}}`:`0{${i}}`}}ze.cache={},ze.clearCache=()=>ze.cache={};var yl=ze;/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const xl=pi,Ri=yl,mi=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),vl=e=>t=>e===!0?Number(t):String(t),Sn=e=>typeof e=="number"||typeof e=="string"&&e!=="",At=e=>Number.isInteger(+e),Cn=e=>{let t=`${e}`,n=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++n]==="0";);return n>0},Rl=(e,t,n)=>typeof e=="string"||typeof t=="string"?!0:n.stringify===!0,ml=(e,t,n)=>{if(t>0){let i=e[0]==="-"?"-":"";i&&(e=e.slice(1)),e=i+e.padStart(i?t-1:t,"0")}return n===!1?String(e):e},Ut=(e,t)=>{let n=e[0]==="-"?"-":"";for(n&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return n?"-"+e:e},Sl=(e,t,n)=>{e.negatives.sort((o,f)=>o<f?-1:o>f?1:0),e.positives.sort((o,f)=>o<f?-1:o>f?1:0);let i=t.capture?"":"?:",r="",s="",a;return e.positives.length&&(r=e.positives.map(o=>Ut(String(o),n)).join("|")),e.negatives.length&&(s=`-(${i}${e.negatives.map(o=>Ut(String(o),n)).join("|")})`),r&&s?a=`${r}|${s}`:a=r||s,t.wrap?`(${i}${a})`:a},Si=(e,t,n,i)=>{if(n)return Ri(e,t,{wrap:!1,...i});let r=String.fromCharCode(e);if(e===t)return r;let s=String.fromCharCode(t);return`[${r}-${s}]`},Ci=(e,t,n)=>{if(Array.isArray(e)){let i=n.wrap===!0,r=n.capture?"":"?:";return i?`(${r}${e.join("|")})`:e.join("|")}return Ri(e,t,n)},Ti=(...e)=>new RangeError("Invalid range arguments: "+xl.inspect(...e)),Ni=(e,t,n)=>{if(n.strictRanges===!0)throw Ti([e,t]);return[]},Cl=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},Tl=(e,t,n=1,i={})=>{let r=Number(e),s=Number(t);if(!Number.isInteger(r)||!Number.isInteger(s)){if(i.strictRanges===!0)throw Ti([e,t]);return[]}r===0&&(r=0),s===0&&(s=0);let a=r>s,o=String(e),f=String(t),l=String(n);n=Math.max(Math.abs(n),1);let u=Cn(o)||Cn(f)||Cn(l),h=u?Math.max(o.length,f.length,l.length):0,c=u===!1&&Rl(e,t,i)===!1,d=i.transform||vl(c);if(i.toRegex&&n===1)return Si(Ut(e,h),Ut(t,h),!0,i);let p={negatives:[],positives:[]},A=k=>p[k<0?"negatives":"positives"].push(Math.abs(k)),x=[],m=0;for(;a?r>=s:r<=s;)i.toRegex===!0&&n>1?A(r):x.push(ml(d(r,m),h,c)),r=a?r-n:r+n,m++;return i.toRegex===!0?n>1?Sl(p,i,h):Ci(x,null,{wrap:!1,...i}):x},Nl=(e,t,n=1,i={})=>{if(!At(e)&&e.length>1||!At(t)&&t.length>1)return Ni(e,t,i);let r=i.transform||(c=>String.fromCharCode(c)),s=`${e}`.charCodeAt(0),a=`${t}`.charCodeAt(0),o=s>a,f=Math.min(s,a),l=Math.max(s,a);if(i.toRegex&&n===1)return Si(f,l,!1,i);let u=[],h=0;for(;o?s>=a:s<=a;)u.push(r(s,h)),s=o?s-n:s+n,h++;return i.toRegex===!0?Ci(u,null,{wrap:!1,options:i}):u},Zt=(e,t,n,i={})=>{if(t==null&&Sn(e))return[e];if(!Sn(e)||!Sn(t))return Ni(e,t,i);if(typeof n=="function")return Zt(e,t,1,{transform:n});if(mi(n))return Zt(e,t,0,n);let r={...i};return r.capture===!0&&(r.wrap=!0),n=n||r.step||1,At(n)?At(e)&&At(t)?Tl(e,t,n,r):Nl(e,t,Math.max(Math.abs(n),1),r):n!=null&&!mi(n)?Cl(n,r):Zt(e,t,1,n)};var ki=Zt;const kl=ki,$i=Bt;var $l=(e,t={})=>{const n=(i,r={})=>{const s=$i.isInvalidBrace(r),a=i.invalid===!0&&t.escapeInvalid===!0,o=s===!0||a===!0,f=t.escapeInvalid===!0?"\\":"";let l="";if(i.isOpen===!0)return f+i.value;if(i.isClose===!0)return console.log("node.isClose",f,i.value),f+i.value;if(i.type==="open")return o?f+i.value:"(";if(i.type==="close")return o?f+i.value:")";if(i.type==="comma")return i.prev.type==="comma"?"":o?i.value:"|";if(i.value)return i.value;if(i.nodes&&i.ranges>0){const u=$i.reduce(i.nodes),h=kl(...u,{...t,wrap:!1,toRegex:!0,strictZeros:!0});if(h.length!==0)return u.length>1&&h.length>1?`(${h})`:h}if(i.nodes)for(const u of i.nodes)l+=n(u,i);return l};return n(e)};const Ol=ki,Oi=Rn,je=Bt,Be=(e="",t="",n=!1)=>{const i=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return n?je.flatten(t).map(r=>`{${r}}`):t;for(const r of e)if(Array.isArray(r))for(const s of r)i.push(Be(s,t,n));else for(let s of t)n===!0&&typeof s=="string"&&(s=`{${s}}`),i.push(Array.isArray(s)?Be(r,s,n):r+s);return je.flatten(i)};var Ll=(e,t={})=>{const n=t.rangeLimit===void 0?1e3:t.rangeLimit,i=(r,s={})=>{r.queue=[];let a=s,o=s.queue;for(;a.type!=="brace"&&a.type!=="root"&&a.parent;)a=a.parent,o=a.queue;if(r.invalid||r.dollar){o.push(Be(o.pop(),Oi(r,t)));return}if(r.type==="brace"&&r.invalid!==!0&&r.nodes.length===2){o.push(Be(o.pop(),["{}"]));return}if(r.nodes&&r.ranges>0){const h=je.reduce(r.nodes);if(je.exceedsLimit(...h,t.step,n))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let c=Ol(...h,t);c.length===0&&(c=Oi(r,t)),o.push(Be(o.pop(),c)),r.nodes=[];return}const f=je.encloseBrace(r);let l=r.queue,u=r;for(;u.type!=="brace"&&u.type!=="root"&&u.parent;)u=u.parent,l=u.queue;for(let h=0;h<r.nodes.length;h++){const c=r.nodes[h];if(c.type==="comma"&&r.type==="brace"){h===1&&l.push(""),l.push("");continue}if(c.type==="close"){o.push(Be(o.pop(),l,f));continue}if(c.value&&c.type!=="open"){l.push(Be(l.pop(),c.value));continue}c.nodes&&i(c,r)}return l};return je.flatten(i(e))},Il={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"};const Hl=Rn,{MAX_LENGTH:Li,CHAR_BACKSLASH:Tn,CHAR_BACKTICK:Pl,CHAR_COMMA:Fl,CHAR_DOT:Ml,CHAR_LEFT_PARENTHESES:zl,CHAR_RIGHT_PARENTHESES:Bl,CHAR_LEFT_CURLY_BRACE:Ul,CHAR_RIGHT_CURLY_BRACE:Zl,CHAR_LEFT_SQUARE_BRACKET:Ii,CHAR_RIGHT_SQUARE_BRACKET:Hi,CHAR_DOUBLE_QUOTE:Gl,CHAR_SINGLE_QUOTE:Xl,CHAR_NO_BREAK_SPACE:Kl,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Vl}=Il;var Wl=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");const n=t||{},i=typeof n.maxLength=="number"?Math.min(Li,n.maxLength):Li;if(e.length>i)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${i})`);const r={type:"root",input:e,nodes:[]},s=[r];let a=r,o=r,f=0;const l=e.length;let u=0,h=0,c;const d=()=>e[u++],p=A=>{if(A.type==="text"&&o.type==="dot"&&(o.type="text"),o&&o.type==="text"&&A.type==="text"){o.value+=A.value;return}return a.nodes.push(A),A.parent=a,A.prev=o,o=A,A};for(p({type:"bos"});u<l;)if(a=s[s.length-1],c=d(),!(c===Vl||c===Kl)){if(c===Tn){p({type:"text",value:(t.keepEscaping?c:"")+d()});continue}if(c===Hi){p({type:"text",value:"\\"+c});continue}if(c===Ii){f++;let A;for(;u<l&&(A=d());){if(c+=A,A===Ii){f++;continue}if(A===Tn){c+=d();continue}if(A===Hi&&(f--,f===0))break}p({type:"text",value:c});continue}if(c===zl){a=p({type:"paren",nodes:[]}),s.push(a),p({type:"text",value:c});continue}if(c===Bl){if(a.type!=="paren"){p({type:"text",value:c});continue}a=s.pop(),p({type:"text",value:c}),a=s[s.length-1];continue}if(c===Gl||c===Xl||c===Pl){const A=c;let x;for(t.keepQuotes!==!0&&(c="");u<l&&(x=d());){if(x===Tn){c+=x+d();continue}if(x===A){t.keepQuotes===!0&&(c+=x);break}c+=x}p({type:"text",value:c});continue}if(c===Ul){h++;const x={type:"brace",open:!0,close:!1,dollar:o.value&&o.value.slice(-1)==="$"||a.dollar===!0,depth:h,commas:0,ranges:0,nodes:[]};a=p(x),s.push(a),p({type:"open",value:c});continue}if(c===Zl){if(a.type!=="brace"){p({type:"text",value:c});continue}const A="close";a=s.pop(),a.close=!0,p({type:A,value:c}),h--,a=s[s.length-1];continue}if(c===Fl&&h>0){if(a.ranges>0){a.ranges=0;const A=a.nodes.shift();a.nodes=[A,{type:"text",value:Hl(a)}]}p({type:"comma",value:c}),a.commas++;continue}if(c===Ml&&h>0&&a.commas===0){const A=a.nodes;if(h===0||A.length===0){p({type:"text",value:c});continue}if(o.type==="dot"){if(a.range=[],o.value+=c,o.type="range",a.nodes.length!==3&&a.nodes.length!==5){a.invalid=!0,a.ranges=0,o.type="text";continue}a.ranges++,a.args=[];continue}if(o.type==="range"){A.pop();const x=A[A.length-1];x.value+=o.value+c,o=x,a.ranges--;continue}p({type:"dot",value:c});continue}p({type:"text",value:c})}do if(a=s.pop(),a.type!=="root"){a.nodes.forEach(m=>{m.nodes||(m.type==="open"&&(m.isOpen=!0),m.type==="close"&&(m.isClose=!0),m.nodes||(m.type="text"),m.invalid=!0)});const A=s[s.length-1],x=A.nodes.indexOf(a);A.nodes.splice(x,1,...a.nodes)}while(s.length>0);return p({type:"eos"}),r};const Pi=Rn,Dl=$l,Yl=Ll,jl=Wl,J=(e,t={})=>{let n=[];if(Array.isArray(e))for(const i of e){const r=J.create(i,t);Array.isArray(r)?n.push(...r):n.push(r)}else n=[].concat(J.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(n=[...new Set(n)]),n};J.parse=(e,t={})=>jl(e,t),J.stringify=(e,t={})=>Pi(typeof e=="string"?J.parse(e,t):e,t),J.compile=(e,t={})=>(typeof e=="string"&&(e=J.parse(e,t)),Dl(e,t)),J.expand=(e,t={})=>{typeof e=="string"&&(e=J.parse(e,t));let n=Yl(e,t);return t.noempty===!0&&(n=n.filter(Boolean)),t.nodupes===!0&&(n=[...new Set(n)]),n},J.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?J.compile(e,t):J.expand(e,t);var Ql=J;function fe(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function Fi(e,t){for(var n="",i=0,r=-1,s=0,a,o=0;o<=e.length;++o){if(o<e.length)a=e.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(r===o-1||s===1))if(r!==o-1&&s===2){if(n.length<2||i!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var f=n.lastIndexOf("/");if(f!==n.length-1){f===-1?(n="",i=0):(n=n.slice(0,f),i=n.length-1-n.lastIndexOf("/")),r=o,s=0;continue}}else if(n.length===2||n.length===1){n="",i=0,r=o,s=0;continue}}t&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+e.slice(r+1,o):n=e.slice(r+1,o),i=o-r-1;r=o,s=0}else a===46&&s!==-1?++s:s=-1}return n}function ql(e,t){var n=t.dir||t.root,i=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+i:n+e+i:i}var Qe={resolve:function(){for(var t="",n=!1,i,r=arguments.length-1;r>=-1&&!n;r--){var s;r>=0?s=arguments[r]:(i===void 0&&(i=process.cwd()),s=i),fe(s),s.length!==0&&(t=s+"/"+t,n=s.charCodeAt(0)===47)}return t=Fi(t,!n),n?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(t){if(fe(t),t.length===0)return".";var n=t.charCodeAt(0)===47,i=t.charCodeAt(t.length-1)===47;return t=Fi(t,!n),t.length===0&&!n&&(t="."),t.length>0&&i&&(t+="/"),n?"/"+t:t},isAbsolute:function(t){return fe(t),t.length>0&&t.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var t,n=0;n<arguments.length;++n){var i=arguments[n];fe(i),i.length>0&&(t===void 0?t=i:t+="/"+i)}return t===void 0?".":Qe.normalize(t)},relative:function(t,n){if(fe(t),fe(n),t===n||(t=Qe.resolve(t),n=Qe.resolve(n),t===n))return"";for(var i=1;i<t.length&&t.charCodeAt(i)===47;++i);for(var r=t.length,s=r-i,a=1;a<n.length&&n.charCodeAt(a)===47;++a);for(var o=n.length,f=o-a,l=s<f?s:f,u=-1,h=0;h<=l;++h){if(h===l){if(f>l){if(n.charCodeAt(a+h)===47)return n.slice(a+h+1);if(h===0)return n.slice(a+h)}else s>l&&(t.charCodeAt(i+h)===47?u=h:h===0&&(u=0));break}var c=t.charCodeAt(i+h),d=n.charCodeAt(a+h);if(c!==d)break;c===47&&(u=h)}var p="";for(h=i+u+1;h<=r;++h)(h===r||t.charCodeAt(h)===47)&&(p.length===0?p+="..":p+="/..");return p.length>0?p+n.slice(a+u):(a+=u,n.charCodeAt(a)===47&&++a,n.slice(a))},_makeLong:function(t){return t},dirname:function(t){if(fe(t),t.length===0)return".";for(var n=t.charCodeAt(0),i=n===47,r=-1,s=!0,a=t.length-1;a>=1;--a)if(n=t.charCodeAt(a),n===47){if(!s){r=a;break}}else s=!1;return r===-1?i?"/":".":i&&r===1?"//":t.slice(0,r)},basename:function(t,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');fe(t);var i=0,r=-1,s=!0,a;if(n!==void 0&&n.length>0&&n.length<=t.length){if(n.length===t.length&&n===t)return"";var o=n.length-1,f=-1;for(a=t.length-1;a>=0;--a){var l=t.charCodeAt(a);if(l===47){if(!s){i=a+1;break}}else f===-1&&(s=!1,f=a+1),o>=0&&(l===n.charCodeAt(o)?--o===-1&&(r=a):(o=-1,r=f))}return i===r?r=f:r===-1&&(r=t.length),t.slice(i,r)}else{for(a=t.length-1;a>=0;--a)if(t.charCodeAt(a)===47){if(!s){i=a+1;break}}else r===-1&&(s=!1,r=a+1);return r===-1?"":t.slice(i,r)}},extname:function(t){fe(t);for(var n=-1,i=0,r=-1,s=!0,a=0,o=t.length-1;o>=0;--o){var f=t.charCodeAt(o);if(f===47){if(!s){i=o+1;break}continue}r===-1&&(s=!1,r=o+1),f===46?n===-1?n=o:a!==1&&(a=1):n!==-1&&(a=-1)}return n===-1||r===-1||a===0||a===1&&n===r-1&&n===i+1?"":t.slice(n,r)},format:function(t){if(t===null||typeof t!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return ql("/",t)},parse:function(t){fe(t);var n={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return n;var i=t.charCodeAt(0),r=i===47,s;r?(n.root="/",s=1):s=0;for(var a=-1,o=0,f=-1,l=!0,u=t.length-1,h=0;u>=s;--u){if(i=t.charCodeAt(u),i===47){if(!l){o=u+1;break}continue}f===-1&&(l=!1,f=u+1),i===46?a===-1?a=u:h!==1&&(h=1):a!==-1&&(h=-1)}return a===-1||f===-1||h===0||h===1&&a===f-1&&a===o+1?f!==-1&&(o===0&&r?n.base=n.name=t.slice(1,f):n.base=n.name=t.slice(o,f)):(o===0&&r?(n.name=t.slice(1,a),n.base=t.slice(1,f)):(n.name=t.slice(o,a),n.base=t.slice(o,f)),n.ext=t.slice(a,f)),o>0?n.dir=t.slice(0,o-1):r&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};Qe.posix=Qe;var Nn=Qe,Et={};const Jl=Nn,ue="\\\\/",Mi=`[^${ue}]`,be="\\.",ef="\\+",tf="\\?",Gt="\\/",nf="(?=.)",zi="[^/]",kn=`(?:${Gt}|$)`,Bi=`(?:^|${Gt})`,$n=`${be}{1,2}${kn}`,rf=`(?!${be})`,sf=`(?!${Bi}${$n})`,af=`(?!${be}{0,1}${kn})`,of=`(?!${$n})`,lf=`[^.${Gt}]`,ff=`${zi}*?`,Ui={DOT_LITERAL:be,PLUS_LITERAL:ef,QMARK_LITERAL:tf,SLASH_LITERAL:Gt,ONE_CHAR:nf,QMARK:zi,END_ANCHOR:kn,DOTS_SLASH:$n,NO_DOT:rf,NO_DOTS:sf,NO_DOT_SLASH:af,NO_DOTS_SLASH:of,QMARK_NO_DOT:lf,STAR:ff,START_ANCHOR:Bi},uf={...Ui,SLASH_LITERAL:`[${ue}]`,QMARK:Mi,STAR:`${Mi}*?`,DOTS_SLASH:`${be}{1,2}(?:[${ue}]|$)`,NO_DOT:`(?!${be})`,NO_DOTS:`(?!(?:^|[${ue}])${be}{1,2}(?:[${ue}]|$))`,NO_DOT_SLASH:`(?!${be}{0,1}(?:[${ue}]|$))`,NO_DOTS_SLASH:`(?!${be}{1,2}(?:[${ue}]|$))`,QMARK_NO_DOT:`[^.${ue}]`,START_ANCHOR:`(?:^|[${ue}])`,END_ANCHOR:`(?:[${ue}]|$)`},cf={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};var Xt={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:cf,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:Jl.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?uf:Ui}};(function(e){const t=Nn,{REGEX_BACKSLASH:n,REGEX_REMOVE_BACKSLASH:i,REGEX_SPECIAL_CHARS:r,REGEX_SPECIAL_CHARS_GLOBAL:s}=Xt;e.isObject=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),e.hasRegexChars=a=>r.test(a),e.isRegexChar=a=>a.length===1&&e.hasRegexChars(a),e.escapeRegex=a=>a.replace(s,"\\$1"),e.toPosixSlashes=a=>a.replace(n,"/"),e.removeBackslashes=a=>a.replace(i,o=>o==="\\"?"":o),e.supportsLookbehinds=()=>{const a=process.version.slice(1).split(".").map(Number);return a.length===3&&a[0]>=9||a[0]===8&&a[1]>=10},e.isWindows=a=>a&&typeof a.windows=="boolean"?a.windows:t.sep==="\\",e.escapeLast=(a,o,f)=>{const l=a.lastIndexOf(o,f);return l===-1?a:a[l-1]==="\\"?e.escapeLast(a,o,l-1):`${a.slice(0,l)}\\${a.slice(l)}`},e.removePrefix=(a,o={})=>{let f=a;return f.startsWith("./")&&(f=f.slice(2),o.prefix="./"),f},e.wrapOutput=(a,o={},f={})=>{const l=f.contains?"":"^",u=f.contains?"":"$";let h=`${l}(?:${a})${u}`;return o.negated===!0&&(h=`(?:^(?!${h}).*$)`),h}})(Et);const Zi=Et,{CHAR_ASTERISK:On,CHAR_AT:hf,CHAR_BACKWARD_SLASH:wt,CHAR_COMMA:df,CHAR_DOT:Ln,CHAR_EXCLAMATION_MARK:In,CHAR_FORWARD_SLASH:Gi,CHAR_LEFT_CURLY_BRACE:Hn,CHAR_LEFT_PARENTHESES:Pn,CHAR_LEFT_SQUARE_BRACKET:_f,CHAR_PLUS:pf,CHAR_QUESTION_MARK:Xi,CHAR_RIGHT_CURLY_BRACE:gf,CHAR_RIGHT_PARENTHESES:Ki,CHAR_RIGHT_SQUARE_BRACKET:bf}=Xt,Vi=e=>e===Gi||e===wt,Wi=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)};var Af=(e,t)=>{const n=t||{},i=e.length-1,r=n.parts===!0||n.scanToEnd===!0,s=[],a=[],o=[];let f=e,l=-1,u=0,h=0,c=!1,d=!1,p=!1,A=!1,x=!1,m=!1,k=!1,S=!1,E=!1,N=!1,M=0,R,y,C={value:"",depth:0,isGlob:!1};const T=()=>l>=i,_=()=>f.charCodeAt(l+1),H=()=>(R=y,f.charCodeAt(++l));for(;l<i;){y=H();let K;if(y===wt){k=C.backslashes=!0,y=H(),y===Hn&&(m=!0);continue}if(m===!0||y===Hn){for(M++;T()!==!0&&(y=H());){if(y===wt){k=C.backslashes=!0,H();continue}if(y===Hn){M++;continue}if(m!==!0&&y===Ln&&(y=H())===Ln){if(c=C.isBrace=!0,p=C.isGlob=!0,N=!0,r===!0)continue;break}if(m!==!0&&y===df){if(c=C.isBrace=!0,p=C.isGlob=!0,N=!0,r===!0)continue;break}if(y===gf&&(M--,M===0)){m=!1,c=C.isBrace=!0,N=!0;break}}if(r===!0)continue;break}if(y===Gi){if(s.push(l),a.push(C),C={value:"",depth:0,isGlob:!1},N===!0)continue;if(R===Ln&&l===u+1){u+=2;continue}h=l+1;continue}if(n.noext!==!0&&(y===pf||y===hf||y===On||y===Xi||y===In)===!0&&_()===Pn){if(p=C.isGlob=!0,A=C.isExtglob=!0,N=!0,y===In&&l===u&&(E=!0),r===!0){for(;T()!==!0&&(y=H());){if(y===wt){k=C.backslashes=!0,y=H();continue}if(y===Ki){p=C.isGlob=!0,N=!0;break}}continue}break}if(y===On){if(R===On&&(x=C.isGlobstar=!0),p=C.isGlob=!0,N=!0,r===!0)continue;break}if(y===Xi){if(p=C.isGlob=!0,N=!0,r===!0)continue;break}if(y===_f){for(;T()!==!0&&(K=H());){if(K===wt){k=C.backslashes=!0,H();continue}if(K===bf){d=C.isBracket=!0,p=C.isGlob=!0,N=!0;break}}if(r===!0)continue;break}if(n.nonegate!==!0&&y===In&&l===u){S=C.negated=!0,u++;continue}if(n.noparen!==!0&&y===Pn){if(p=C.isGlob=!0,r===!0){for(;T()!==!0&&(y=H());){if(y===Pn){k=C.backslashes=!0,y=H();continue}if(y===Ki){N=!0;break}}continue}break}if(p===!0){if(N=!0,r===!0)continue;break}}n.noext===!0&&(A=!1,p=!1);let F=f,se="",b="";u>0&&(se=f.slice(0,u),f=f.slice(u),h-=u),F&&p===!0&&h>0?(F=f.slice(0,h),b=f.slice(h)):p===!0?(F="",b=f):F=f,F&&F!==""&&F!=="/"&&F!==f&&Vi(F.charCodeAt(F.length-1))&&(F=F.slice(0,-1)),n.unescape===!0&&(b&&(b=Zi.removeBackslashes(b)),F&&k===!0&&(F=Zi.removeBackslashes(F)));const g={prefix:se,input:e,start:u,base:F,glob:b,isBrace:c,isBracket:d,isGlob:p,isExtglob:A,isGlobstar:x,negated:S,negatedExtglob:E};if(n.tokens===!0&&(g.maxDepth=0,Vi(y)||a.push(C),g.tokens=a),n.parts===!0||n.tokens===!0){let K;for(let P=0;P<s.length;P++){const he=K?K+1:u,de=s[P],te=e.slice(he,de);n.tokens&&(P===0&&u!==0?(a[P].isPrefix=!0,a[P].value=se):a[P].value=te,Wi(a[P]),g.maxDepth+=a[P].depth),(P!==0||te!=="")&&o.push(te),K=de}if(K&&K+1<e.length){const P=e.slice(K+1);o.push(P),n.tokens&&(a[a.length-1].value=P,Wi(a[a.length-1]),g.maxDepth+=a[a.length-1].depth)}g.slashes=s,g.parts=o}return g};const Kt=Xt,ee=Et,{MAX_LENGTH:Vt,POSIX_REGEX_SOURCE:Ef,REGEX_NON_SPECIAL_CHARS:wf,REGEX_SPECIAL_CHARS_BACKREF:yf,REPLACEMENTS:Di}=Kt,xf=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();const n=`[${e.join("-")}]`;try{new RegExp(n)}catch{return e.map(r=>ee.escapeRegex(r)).join("..")}return n},qe=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,Fn=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=Di[e]||e;const n={...t},i=typeof n.maxLength=="number"?Math.min(Vt,n.maxLength):Vt;let r=e.length;if(r>i)throw new SyntaxError(`Input length: ${r}, exceeds maximum allowed length: ${i}`);const s={type:"bos",value:"",output:n.prepend||""},a=[s],o=n.capture?"":"?:",f=ee.isWindows(t),l=Kt.globChars(f),u=Kt.extglobChars(l),{DOT_LITERAL:h,PLUS_LITERAL:c,SLASH_LITERAL:d,ONE_CHAR:p,DOTS_SLASH:A,NO_DOT:x,NO_DOT_SLASH:m,NO_DOTS_SLASH:k,QMARK:S,QMARK_NO_DOT:E,STAR:N,START_ANCHOR:M}=l,R=v=>`(${o}(?:(?!${M}${v.dot?A:h}).)*?)`,y=n.dot?"":x,C=n.dot?S:E;let T=n.bash===!0?R(n):N;n.capture&&(T=`(${T})`),typeof n.noext=="boolean"&&(n.noextglob=n.noext);const _={input:e,index:-1,start:0,dot:n.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:a};e=ee.removePrefix(e,_),r=e.length;const H=[],F=[],se=[];let b=s,g;const K=()=>_.index===r-1,P=_.peek=(v=1)=>e[_.index+v],he=_.advance=()=>e[++_.index]||"",de=()=>e.slice(_.index+1),te=(v="",B=0)=>{_.consumed+=v,_.index+=B},Yt=v=>{_.output+=v.output!=null?v.output:v.value,te(v.value)},qu=()=>{let v=1;for(;P()==="!"&&(P(2)!=="("||P(3)==="?");)he(),_.start++,v++;return v%2===0?!1:(_.negated=!0,_.start++,!0)},jt=v=>{_[v]++,se.push(v)},Ze=v=>{_[v]--,se.pop()},O=v=>{if(b.type==="globstar"){const B=_.braces>0&&(v.type==="comma"||v.type==="brace"),w=v.extglob===!0||H.length&&(v.type==="pipe"||v.type==="paren");v.type!=="slash"&&v.type!=="paren"&&!B&&!w&&(_.output=_.output.slice(0,-b.output.length),b.type="star",b.value="*",b.output=T,_.output+=b.output)}if(H.length&&v.type!=="paren"&&(H[H.length-1].inner+=v.value),(v.value||v.output)&&Yt(v),b&&b.type==="text"&&v.type==="text"){b.value+=v.value,b.output=(b.output||"")+v.value;return}v.prev=b,a.push(v),b=v},Qt=(v,B)=>{const w={...u[B],conditions:1,inner:""};w.prev=b,w.parens=_.parens,w.output=_.output;const $=(n.capture?"(":"")+w.open;jt("parens"),O({type:v,value:B,output:_.output?"":p}),O({type:"paren",extglob:!0,value:he(),output:$}),H.push(w)},Ju=v=>{let B=v.close+(n.capture?")":""),w;if(v.type==="negate"){let $=T;if(v.inner&&v.inner.length>1&&v.inner.includes("/")&&($=R(n)),($!==T||K()||/^\)+$/.test(de()))&&(B=v.close=`)$))${$}`),v.inner.includes("*")&&(w=de())&&/^\.[^\\/.]+$/.test(w)){const Z=Fn(w,{...t,fastpaths:!1}).output;B=v.close=`)${Z})${$})`}v.prev.type==="bos"&&(_.negatedExtglob=!0)}O({type:"paren",extglob:!0,value:g,output:B}),Ze("parens")};if(n.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let v=!1,B=e.replace(yf,(w,$,Z,Q,W,Yn)=>Q==="\\"?(v=!0,w):Q==="?"?$?$+Q+(W?S.repeat(W.length):""):Yn===0?C+(W?S.repeat(W.length):""):S.repeat(Z.length):Q==="."?h.repeat(Z.length):Q==="*"?$?$+Q+(W?T:""):T:$?w:`\\${w}`);return v===!0&&(n.unescape===!0?B=B.replace(/\\/g,""):B=B.replace(/\\+/g,w=>w.length%2===0?"\\\\":w?"\\":"")),B===e&&n.contains===!0?(_.output=e,_):(_.output=ee.wrapOutput(B,_,t),_)}for(;!K();){if(g=he(),g==="\0")continue;if(g==="\\"){const w=P();if(w==="/"&&n.bash!==!0||w==="."||w===";")continue;if(!w){g+="\\",O({type:"text",value:g});continue}const $=/^\\+/.exec(de());let Z=0;if($&&$[0].length>2&&(Z=$[0].length,_.index+=Z,Z%2!==0&&(g+="\\")),n.unescape===!0?g=he():g+=he(),_.brackets===0){O({type:"text",value:g});continue}}if(_.brackets>0&&(g!=="]"||b.value==="["||b.value==="[^")){if(n.posix!==!1&&g===":"){const w=b.value.slice(1);if(w.includes("[")&&(b.posix=!0,w.includes(":"))){const $=b.value.lastIndexOf("["),Z=b.value.slice(0,$),Q=b.value.slice($+2),W=Ef[Q];if(W){b.value=Z+W,_.backtrack=!0,he(),!s.output&&a.indexOf(b)===1&&(s.output=p);continue}}}(g==="["&&P()!==":"||g==="-"&&P()==="]")&&(g=`\\${g}`),g==="]"&&(b.value==="["||b.value==="[^")&&(g=`\\${g}`),n.posix===!0&&g==="!"&&b.value==="["&&(g="^"),b.value+=g,Yt({value:g});continue}if(_.quotes===1&&g!=='"'){g=ee.escapeRegex(g),b.value+=g,Yt({value:g});continue}if(g==='"'){_.quotes=_.quotes===1?0:1,n.keepQuotes===!0&&O({type:"text",value:g});continue}if(g==="("){jt("parens"),O({type:"paren",value:g});continue}if(g===")"){if(_.parens===0&&n.strictBrackets===!0)throw new SyntaxError(qe("opening","("));const w=H[H.length-1];if(w&&_.parens===w.parens+1){Ju(H.pop());continue}O({type:"paren",value:g,output:_.parens?")":"\\)"}),Ze("parens");continue}if(g==="["){if(n.nobracket===!0||!de().includes("]")){if(n.nobracket!==!0&&n.strictBrackets===!0)throw new SyntaxError(qe("closing","]"));g=`\\${g}`}else jt("brackets");O({type:"bracket",value:g});continue}if(g==="]"){if(n.nobracket===!0||b&&b.type==="bracket"&&b.value.length===1){O({type:"text",value:g,output:`\\${g}`});continue}if(_.brackets===0){if(n.strictBrackets===!0)throw new SyntaxError(qe("opening","["));O({type:"text",value:g,output:`\\${g}`});continue}Ze("brackets");const w=b.value.slice(1);if(b.posix!==!0&&w[0]==="^"&&!w.includes("/")&&(g=`/${g}`),b.value+=g,Yt({value:g}),n.literalBrackets===!1||ee.hasRegexChars(w))continue;const $=ee.escapeRegex(b.value);if(_.output=_.output.slice(0,-b.value.length),n.literalBrackets===!0){_.output+=$,b.value=$;continue}b.value=`(${o}${$}|${b.value})`,_.output+=b.value;continue}if(g==="{"&&n.nobrace!==!0){jt("braces");const w={type:"brace",value:g,output:"(",outputIndex:_.output.length,tokensIndex:_.tokens.length};F.push(w),O(w);continue}if(g==="}"){const w=F[F.length-1];if(n.nobrace===!0||!w){O({type:"text",value:g,output:g});continue}let $=")";if(w.dots===!0){const Z=a.slice(),Q=[];for(let W=Z.length-1;W>=0&&(a.pop(),Z[W].type!=="brace");W--)Z[W].type!=="dots"&&Q.unshift(Z[W].value);$=xf(Q,n),_.backtrack=!0}if(w.comma!==!0&&w.dots!==!0){const Z=_.output.slice(0,w.outputIndex),Q=_.tokens.slice(w.tokensIndex);w.value=w.output="\\{",g=$="\\}",_.output=Z;for(const W of Q)_.output+=W.output||W.value}O({type:"brace",value:g,output:$}),Ze("braces"),F.pop();continue}if(g==="|"){H.length>0&&H[H.length-1].conditions++,O({type:"text",value:g});continue}if(g===","){let w=g;const $=F[F.length-1];$&&se[se.length-1]==="braces"&&($.comma=!0,w="|"),O({type:"comma",value:g,output:w});continue}if(g==="/"){if(b.type==="dot"&&_.index===_.start+1){_.start=_.index+1,_.consumed="",_.output="",a.pop(),b=s;continue}O({type:"slash",value:g,output:d});continue}if(g==="."){if(_.braces>0&&b.type==="dot"){b.value==="."&&(b.output=h);const w=F[F.length-1];b.type="dots",b.output+=g,b.value+=g,w.dots=!0;continue}if(_.braces+_.parens===0&&b.type!=="bos"&&b.type!=="slash"){O({type:"text",value:g,output:h});continue}O({type:"dot",value:g,output:h});continue}if(g==="?"){if(!(b&&b.value==="(")&&n.noextglob!==!0&&P()==="("&&P(2)!=="?"){Qt("qmark",g);continue}if(b&&b.type==="paren"){const $=P();let Z=g;if($==="<"&&!ee.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(b.value==="("&&!/[!=<:]/.test($)||$==="<"&&!/<([!=]|\w+>)/.test(de()))&&(Z=`\\${g}`),O({type:"text",value:g,output:Z});continue}if(n.dot!==!0&&(b.type==="slash"||b.type==="bos")){O({type:"qmark",value:g,output:E});continue}O({type:"qmark",value:g,output:S});continue}if(g==="!"){if(n.noextglob!==!0&&P()==="("&&(P(2)!=="?"||!/[!=<:]/.test(P(3)))){Qt("negate",g);continue}if(n.nonegate!==!0&&_.index===0){qu();continue}}if(g==="+"){if(n.noextglob!==!0&&P()==="("&&P(2)!=="?"){Qt("plus",g);continue}if(b&&b.value==="("||n.regex===!1){O({type:"plus",value:g,output:c});continue}if(b&&(b.type==="bracket"||b.type==="paren"||b.type==="brace")||_.parens>0){O({type:"plus",value:g});continue}O({type:"plus",value:c});continue}if(g==="@"){if(n.noextglob!==!0&&P()==="("&&P(2)!=="?"){O({type:"at",extglob:!0,value:g,output:""});continue}O({type:"text",value:g});continue}if(g!=="*"){(g==="$"||g==="^")&&(g=`\\${g}`);const w=wf.exec(de());w&&(g+=w[0],_.index+=w[0].length),O({type:"text",value:g});continue}if(b&&(b.type==="globstar"||b.star===!0)){b.type="star",b.star=!0,b.value+=g,b.output=T,_.backtrack=!0,_.globstar=!0,te(g);continue}let v=de();if(n.noextglob!==!0&&/^\([^?]/.test(v)){Qt("star",g);continue}if(b.type==="star"){if(n.noglobstar===!0){te(g);continue}const w=b.prev,$=w.prev,Z=w.type==="slash"||w.type==="bos",Q=$&&($.type==="star"||$.type==="globstar");if(n.bash===!0&&(!Z||v[0]&&v[0]!=="/")){O({type:"star",value:g,output:""});continue}const W=_.braces>0&&(w.type==="comma"||w.type==="brace"),Yn=H.length&&(w.type==="pipe"||w.type==="paren");if(!Z&&w.type!=="paren"&&!W&&!Yn){O({type:"star",value:g,output:""});continue}for(;v.slice(0,3)==="/**";){const qt=e[_.index+4];if(qt&&qt!=="/")break;v=v.slice(3),te("/**",3)}if(w.type==="bos"&&K()){b.type="globstar",b.value+=g,b.output=R(n),_.output=b.output,_.globstar=!0,te(g);continue}if(w.type==="slash"&&w.prev.type!=="bos"&&!Q&&K()){_.output=_.output.slice(0,-(w.output+b.output).length),w.output=`(?:${w.output}`,b.type="globstar",b.output=R(n)+(n.strictSlashes?")":"|$)"),b.value+=g,_.globstar=!0,_.output+=w.output+b.output,te(g);continue}if(w.type==="slash"&&w.prev.type!=="bos"&&v[0]==="/"){const qt=v[1]!==void 0?"|$":"";_.output=_.output.slice(0,-(w.output+b.output).length),w.output=`(?:${w.output}`,b.type="globstar",b.output=`${R(n)}${d}|${d}${qt})`,b.value+=g,_.output+=w.output+b.output,_.globstar=!0,te(g+he()),O({type:"slash",value:"/",output:""});continue}if(w.type==="bos"&&v[0]==="/"){b.type="globstar",b.value+=g,b.output=`(?:^|${d}|${R(n)}${d})`,_.output=b.output,_.globstar=!0,te(g+he()),O({type:"slash",value:"/",output:""});continue}_.output=_.output.slice(0,-b.output.length),b.type="globstar",b.output=R(n),b.value+=g,_.output+=b.output,_.globstar=!0,te(g);continue}const B={type:"star",value:g,output:T};if(n.bash===!0){B.output=".*?",(b.type==="bos"||b.type==="slash")&&(B.output=y+B.output),O(B);continue}if(b&&(b.type==="bracket"||b.type==="paren")&&n.regex===!0){B.output=g,O(B);continue}(_.index===_.start||b.type==="slash"||b.type==="dot")&&(b.type==="dot"?(_.output+=m,b.output+=m):n.dot===!0?(_.output+=k,b.output+=k):(_.output+=y,b.output+=y),P()!=="*"&&(_.output+=p,b.output+=p)),O(B)}for(;_.brackets>0;){if(n.strictBrackets===!0)throw new SyntaxError(qe("closing","]"));_.output=ee.escapeLast(_.output,"["),Ze("brackets")}for(;_.parens>0;){if(n.strictBrackets===!0)throw new SyntaxError(qe("closing",")"));_.output=ee.escapeLast(_.output,"("),Ze("parens")}for(;_.braces>0;){if(n.strictBrackets===!0)throw new SyntaxError(qe("closing","}"));_.output=ee.escapeLast(_.output,"{"),Ze("braces")}if(n.strictSlashes!==!0&&(b.type==="star"||b.type==="bracket")&&O({type:"maybe_slash",value:"",output:`${d}?`}),_.backtrack===!0){_.output="";for(const v of _.tokens)_.output+=v.output!=null?v.output:v.value,v.suffix&&(_.output+=v.suffix)}return _};Fn.fastpaths=(e,t)=>{const n={...t},i=typeof n.maxLength=="number"?Math.min(Vt,n.maxLength):Vt,r=e.length;if(r>i)throw new SyntaxError(`Input length: ${r}, exceeds maximum allowed length: ${i}`);e=Di[e]||e;const s=ee.isWindows(t),{DOT_LITERAL:a,SLASH_LITERAL:o,ONE_CHAR:f,DOTS_SLASH:l,NO_DOT:u,NO_DOTS:h,NO_DOTS_SLASH:c,STAR:d,START_ANCHOR:p}=Kt.globChars(s),A=n.dot?h:u,x=n.dot?c:u,m=n.capture?"":"?:",k={negated:!1,prefix:""};let S=n.bash===!0?".*?":d;n.capture&&(S=`(${S})`);const E=y=>y.noglobstar===!0?S:`(${m}(?:(?!${p}${y.dot?l:a}).)*?)`,N=y=>{switch(y){case"*":return`${A}${f}${S}`;case".*":return`${a}${f}${S}`;case"*.*":return`${A}${S}${a}${f}${S}`;case"*/*":return`${A}${S}${o}${f}${x}${S}`;case"**":return A+E(n);case"**/*":return`(?:${A}${E(n)}${o})?${x}${f}${S}`;case"**/*.*":return`(?:${A}${E(n)}${o})?${x}${S}${a}${f}${S}`;case"**/.*":return`(?:${A}${E(n)}${o})?${a}${f}${S}`;default:{const C=/^(.*?)\.(\w+)$/.exec(y);if(!C)return;const T=N(C[1]);return T?T+a+C[2]:void 0}}},M=ee.removePrefix(e,k);let R=N(M);return R&&n.strictSlashes!==!0&&(R+=`${o}?`),R};var vf=Fn;const Rf=Nn,mf=Af,Mn=vf,zn=Et,Sf=Xt,Cf=e=>e&&typeof e=="object"&&!Array.isArray(e),G=(e,t,n=!1)=>{if(Array.isArray(e)){const u=e.map(c=>G(c,t,n));return c=>{for(const d of u){const p=d(c);if(p)return p}return!1}}const i=Cf(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!i)throw new TypeError("Expected pattern to be a non-empty string");const r=t||{},s=zn.isWindows(t),a=i?G.compileRe(e,t):G.makeRe(e,t,!1,!0),o=a.state;delete a.state;let f=()=>!1;if(r.ignore){const u={...t,ignore:null,onMatch:null,onResult:null};f=G(r.ignore,u,n)}const l=(u,h=!1)=>{const{isMatch:c,match:d,output:p}=G.test(u,a,t,{glob:e,posix:s}),A={glob:e,state:o,regex:a,posix:s,input:u,output:p,match:d,isMatch:c};return typeof r.onResult=="function"&&r.onResult(A),c===!1?(A.isMatch=!1,h?A:!1):f(u)?(typeof r.onIgnore=="function"&&r.onIgnore(A),A.isMatch=!1,h?A:!1):(typeof r.onMatch=="function"&&r.onMatch(A),h?A:!0)};return n&&(l.state=o),l};G.test=(e,t,n,{glob:i,posix:r}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};const s=n||{},a=s.format||(r?zn.toPosixSlashes:null);let o=e===i,f=o&&a?a(e):e;return o===!1&&(f=a?a(e):e,o=f===i),(o===!1||s.capture===!0)&&(s.matchBase===!0||s.basename===!0?o=G.matchBase(e,t,n,r):o=t.exec(f)),{isMatch:!!o,match:o,output:f}},G.matchBase=(e,t,n,i=zn.isWindows(n))=>(t instanceof RegExp?t:G.makeRe(t,n)).test(Rf.basename(e)),G.isMatch=(e,t,n)=>G(t,n)(e),G.parse=(e,t)=>Array.isArray(e)?e.map(n=>G.parse(n,t)):Mn(e,{...t,fastpaths:!1}),G.scan=(e,t)=>mf(e,t),G.compileRe=(e,t,n=!1,i=!1)=>{if(n===!0)return e.output;const r=t||{},s=r.contains?"":"^",a=r.contains?"":"$";let o=`${s}(?:${e.output})${a}`;e&&e.negated===!0&&(o=`^(?!${o}).*$`);const f=G.toRegex(o,t);return i===!0&&(f.state=e),f},G.makeRe=(e,t={},n=!1,i=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let r={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(r.output=Mn.fastpaths(e,t)),r.output||(r=Mn(e,t)),G.compileRe(r,t,n,i)},G.toRegex=(e,t)=>{try{const n=t||{};return new RegExp(e,n.flags||(n.nocase?"i":""))}catch(n){if(t&&t.debug===!0)throw n;return/$^/}},G.constants=Sf;var Tf=G,Nf=Tf;const Yi=pi,ji=Ql,ce=Nf,Bn=Et,Qi=e=>e===""||e==="./",qi=e=>{const t=e.indexOf("{");return t>-1&&e.indexOf("}",t)>-1},z=(e,t,n)=>{t=[].concat(t),e=[].concat(e);let i=new Set,r=new Set,s=new Set,a=0,o=u=>{s.add(u.output),n&&n.onResult&&n.onResult(u)};for(let u=0;u<t.length;u++){let h=ce(String(t[u]),{...n,onResult:o},!0),c=h.state.negated||h.state.negatedExtglob;c&&a++;for(let d of e){let p=h(d,!0);(c?!p.isMatch:p.isMatch)&&(c?i.add(p.output):(i.delete(p.output),r.add(p.output)))}}let l=(a===t.length?[...s]:[...r]).filter(u=>!i.has(u));if(n&&l.length===0){if(n.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(n.nonull===!0||n.nullglob===!0)return n.unescape?t.map(u=>u.replace(/\\/g,"")):t}return l};z.match=z,z.matcher=(e,t)=>ce(e,t),z.isMatch=(e,t,n)=>ce(t,n)(e),z.any=z.isMatch,z.not=(e,t,n={})=>{t=[].concat(t).map(String);let i=new Set,r=[],s=o=>{n.onResult&&n.onResult(o),r.push(o.output)},a=new Set(z(e,t,{...n,onResult:s}));for(let o of r)a.has(o)||i.add(o);return[...i]},z.contains=(e,t,n)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${Yi.inspect(e)}"`);if(Array.isArray(t))return t.some(i=>z.contains(e,i,n));if(typeof t=="string"){if(Qi(e)||Qi(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return z.isMatch(e,t,{...n,contains:!0})},z.matchKeys=(e,t,n)=>{if(!Bn.isObject(e))throw new TypeError("Expected the first argument to be an object");let i=z(Object.keys(e),t,n),r={};for(let s of i)r[s]=e[s];return r},z.some=(e,t,n)=>{let i=[].concat(e);for(let r of[].concat(t)){let s=ce(String(r),n);if(i.some(a=>s(a)))return!0}return!1},z.every=(e,t,n)=>{let i=[].concat(e);for(let r of[].concat(t)){let s=ce(String(r),n);if(!i.every(a=>s(a)))return!1}return!0},z.all=(e,t,n)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${Yi.inspect(e)}"`);return[].concat(t).every(i=>ce(i,n)(e))},z.capture=(e,t,n)=>{let i=Bn.isWindows(n),s=ce.makeRe(String(e),{...n,capture:!0}).exec(i?Bn.toPosixSlashes(t):t);if(s)return s.slice(1).map(a=>a===void 0?"":a)},z.makeRe=(...e)=>ce.makeRe(...e),z.scan=(...e)=>ce.scan(...e),z.parse=(e,t)=>{let n=[];for(let i of[].concat(e||[]))for(let r of ji(String(i),t))n.push(ce.parse(r,t));return n},z.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!qi(e)?[e]:ji(e,t)},z.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return z.braces(e,{...t,expand:!0})},z.hasBraces=qi;var kf=z,Wt=fl(kf),Un={},Dt={};(function(e){const t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",i="["+t+"]["+n+"]*",r=new RegExp("^"+i+"$"),s=function(o,f){const l=[];let u=f.exec(o);for(;u;){const h=[];h.startIndex=f.lastIndex-u[0].length;const c=u.length;for(let d=0;d<c;d++)h.push(u[d]);l.push(h),u=f.exec(o)}return l},a=function(o){const f=r.exec(o);return!(f===null||typeof f>"u")};e.isExist=function(o){return typeof o<"u"},e.isEmptyObject=function(o){return Object.keys(o).length===0},e.merge=function(o,f,l){if(f){const u=Object.keys(f),h=u.length;for(let c=0;c<h;c++)l==="strict"?o[u[c]]=[f[u[c]]]:o[u[c]]=f[u[c]]}},e.getValue=function(o){return e.isExist(o)?o:""},e.isName=a,e.getAllMatches=s,e.nameRegexp=i})(Dt);const Zn=Dt,$f={allowBooleanAttributes:!1,unpairedTags:[]};Un.validate=function(e,t){t=Object.assign({},$f,t);const n=[];let i=!1,r=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=es(e,s),s.err)return s}else if(e[s]==="<"){let a=s;if(s++,e[s]==="!"){s=ts(e,s);continue}else{let o=!1;e[s]==="/"&&(o=!0,s++);let f="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)f+=e[s];if(f=f.trim(),f[f.length-1]==="/"&&(f=f.substring(0,f.length-1),s--),!zf(f)){let h;return f.trim().length===0?h="Invalid space after '<'.":h="Tag '"+f+"' is an invalid name.",X("InvalidTag",h,j(e,s))}const l=If(e,s);if(l===!1)return X("InvalidAttr","Attributes for '"+f+"' have open quote.",j(e,s));let u=l.value;if(s=l.index,u[u.length-1]==="/"){const h=s-u.length;u=u.substring(0,u.length-1);const c=ns(u,t);if(c===!0)i=!0;else return X(c.err.code,c.err.msg,j(e,h+c.err.line))}else if(o)if(l.tagClosed){if(u.trim().length>0)return X("InvalidTag","Closing tag '"+f+"' can't have attributes or invalid starting.",j(e,a));if(n.length===0)return X("InvalidTag","Closing tag '"+f+"' has not been opened.",j(e,a));{const h=n.pop();if(f!==h.tagName){let c=j(e,h.tagStartPos);return X("InvalidTag","Expected closing tag '"+h.tagName+"' (opened in line "+c.line+", col "+c.col+") instead of closing tag '"+f+"'.",j(e,a))}n.length==0&&(r=!0)}}else return X("InvalidTag","Closing tag '"+f+"' doesn't have proper closing.",j(e,s));else{const h=ns(u,t);if(h!==!0)return X(h.err.code,h.err.msg,j(e,s-u.length+h.err.line));if(r===!0)return X("InvalidXml","Multiple possible root nodes found.",j(e,s));t.unpairedTags.indexOf(f)!==-1||n.push({tagName:f,tagStartPos:a}),i=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=ts(e,s);continue}else if(e[s+1]==="?"){if(s=es(e,++s),s.err)return s}else break;else if(e[s]==="&"){const h=Ff(e,s);if(h==-1)return X("InvalidChar","char '&' is not expected.",j(e,s));s=h}else if(r===!0&&!Ji(e[s]))return X("InvalidXml","Extra text at the end",j(e,s));e[s]==="<"&&s--}}else{if(Ji(e[s]))continue;return X("InvalidChar","char '"+e[s]+"' is not expected.",j(e,s))}if(i){if(n.length==1)return X("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",j(e,n[0].tagStartPos));if(n.length>0)return X("InvalidXml","Invalid '"+JSON.stringify(n.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return X("InvalidXml","Start tag expected.",1);return!0};function Ji(e){return e===" "||e==="	"||e===`
`||e==="\r"}function es(e,t){const n=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){const i=e.substr(n,t-n);if(t>5&&i==="xml")return X("InvalidXml","XML declaration allowed only at the start of the document.",j(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function ts(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let n=1;for(t+=8;t<e.length;t++)if(e[t]==="<")n++;else if(e[t]===">"&&(n--,n===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}const Of='"',Lf="'";function If(e,t){let n="",i="",r=!1;for(;t<e.length;t++){if(e[t]===Of||e[t]===Lf)i===""?i=e[t]:i!==e[t]||(i="");else if(e[t]===">"&&i===""){r=!0;break}n+=e[t]}return i!==""?!1:{value:n,index:t,tagClosed:r}}const Hf=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function ns(e,t){const n=Zn.getAllMatches(e,Hf),i={};for(let r=0;r<n.length;r++){if(n[r][1].length===0)return X("InvalidAttr","Attribute '"+n[r][2]+"' has no space in starting.",yt(n[r]));if(n[r][3]!==void 0&&n[r][4]===void 0)return X("InvalidAttr","Attribute '"+n[r][2]+"' is without value.",yt(n[r]));if(n[r][3]===void 0&&!t.allowBooleanAttributes)return X("InvalidAttr","boolean attribute '"+n[r][2]+"' is not allowed.",yt(n[r]));const s=n[r][2];if(!Mf(s))return X("InvalidAttr","Attribute '"+s+"' is an invalid name.",yt(n[r]));if(!i.hasOwnProperty(s))i[s]=1;else return X("InvalidAttr","Attribute '"+s+"' is repeated.",yt(n[r]))}return!0}function Pf(e,t){let n=/\d/;for(e[t]==="x"&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(n))break}return-1}function Ff(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,Pf(e,t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(e[t]===";")break;return-1}return t}function X(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function Mf(e){return Zn.isName(e)}function zf(e){return Zn.isName(e)}function j(e,t){const n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function yt(e){return e.startIndex+e[1].length}var Gn={};const rs={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,n){return e}},Bf=function(e){return Object.assign({},rs,e)};Gn.buildOptions=Bf,Gn.defaultOptions=rs;class Uf{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,n){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:n})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}}var Zf=Uf;const Gf=Dt;function Xf(e,t){const n={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let i=1,r=!1,s=!1,a="";for(;t<e.length;t++)if(e[t]==="<"&&!s){if(r&&Wf(e,t))t+=7,[entityName,val,t]=Kf(e,t+1),val.indexOf("&")===-1&&(n[Qf(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(r&&Df(e,t))t+=8;else if(r&&Yf(e,t))t+=8;else if(r&&jf(e,t))t+=9;else if(Vf)s=!0;else throw new Error("Invalid DOCTYPE");i++,a=""}else if(e[t]===">"){if(s?e[t-1]==="-"&&e[t-2]==="-"&&(s=!1,i--):i--,i===0)break}else e[t]==="["?r=!0:a+=e[t];if(i!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:n,i:t}}function Kf(e,t){let n="";for(;t<e.length&&e[t]!=="'"&&e[t]!=='"';t++)n+=e[t];if(n=n.trim(),n.indexOf(" ")!==-1)throw new Error("External entites are not supported");const i=e[t++];let r="";for(;t<e.length&&e[t]!==i;t++)r+=e[t];return[n,r,t]}function Vf(e,t){return e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-"}function Wf(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y"}function Df(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T"}function Yf(e,t){return e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T"}function jf(e,t){return e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N"}function Qf(e){if(Gf.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}var qf=Xf;const Jf=/^[-+]?0x[a-fA-F0-9]+$/,eu=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const tu={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function nu(e,t={}){if(t=Object.assign({},tu,t),!e||typeof e!="string")return e;let n=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(n))return e;if(t.hex&&Jf.test(n))return Number.parseInt(n,16);{const i=eu.exec(n);if(i){const r=i[1],s=i[2];let a=ru(i[3]);const o=i[4]||i[6];if(!t.leadingZeros&&s.length>0&&r&&n[2]!==".")return e;if(!t.leadingZeros&&s.length>0&&!r&&n[1]!==".")return e;{const f=Number(n),l=""+f;return l.search(/[eE]/)!==-1||o?t.eNotation?f:e:n.indexOf(".")!==-1?l==="0"&&a===""||l===a||r&&l==="-"+a?f:e:s?a===l||r+a===l?f:e:n===l||n===r+l?f:e}}else return e}}function ru(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}var iu=nu;const is=Dt,xt=Zf,su=qf,au=iu;let ou=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(n,i)=>String.fromCharCode(Number.parseInt(i,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(n,i)=>String.fromCharCode(Number.parseInt(i,16))}},this.addExternalEntities=lu,this.parseXml=du,this.parseTextData=fu,this.resolveNameSpace=uu,this.buildAttributesMap=hu,this.isItStopNode=bu,this.replaceEntitiesValue=pu,this.readStopNodeData=Eu,this.saveTextToParentTag=gu,this.addChild=_u}};function lu(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const i=t[n];this.lastEntities[i]={regex:new RegExp("&"+i+";","g"),val:e[i]}}}function fu(e,t,n,i,r,s,a){if(e!==void 0&&(this.options.trimValues&&!i&&(e=e.trim()),e.length>0)){a||(e=this.replaceEntitiesValue(e));const o=this.options.tagValueProcessor(t,e,n,r,s);return o==null?e:typeof o!=typeof e||o!==e?o:this.options.trimValues?Kn(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?Kn(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function uu(e){if(this.options.removeNSPrefix){const t=e.split(":"),n=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=n+t[1])}return e}const cu=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function hu(e,t,n){if(!this.options.ignoreAttributes&&typeof e=="string"){const i=is.getAllMatches(e,cu),r=i.length,s={};for(let a=0;a<r;a++){const o=this.resolveNameSpace(i[a][1]);let f=i[a][4],l=this.options.attributeNamePrefix+o;if(o.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),f!==void 0){this.options.trimValues&&(f=f.trim()),f=this.replaceEntitiesValue(f);const u=this.options.attributeValueProcessor(o,f,t);u==null?s[l]=f:typeof u!=typeof f||u!==f?s[l]=u:s[l]=Kn(f,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[l]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){const a={};return a[this.options.attributesGroupName]=s,a}return s}}const du=function(e){e=e.replace(/\r\n?/g,`
`);const t=new xt("!xml");let n=t,i="",r="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){const o=Ue(e,">",s,"Closing Tag is not closed.");let f=e.substring(s+2,o).trim();if(this.options.removeNSPrefix){const h=f.indexOf(":");h!==-1&&(f=f.substr(h+1))}this.options.transformTagName&&(f=this.options.transformTagName(f)),n&&(i=this.saveTextToParentTag(i,n,r));const l=r.substring(r.lastIndexOf(".")+1);if(f&&this.options.unpairedTags.indexOf(f)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${f}>`);let u=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(u=r.lastIndexOf(".",r.lastIndexOf(".")-1),this.tagsNodeStack.pop()):u=r.lastIndexOf("."),r=r.substring(0,u),n=this.tagsNodeStack.pop(),i="",s=o}else if(e[s+1]==="?"){let o=Xn(e,s,!1,"?>");if(!o)throw new Error("Pi Tag is not closed.");if(i=this.saveTextToParentTag(i,n,r),!(this.options.ignoreDeclaration&&o.tagName==="?xml"||this.options.ignorePiTags)){const f=new xt(o.tagName);f.add(this.options.textNodeName,""),o.tagName!==o.tagExp&&o.attrExpPresent&&(f[":@"]=this.buildAttributesMap(o.tagExp,r,o.tagName)),this.addChild(n,f,r)}s=o.closeIndex+1}else if(e.substr(s+1,3)==="!--"){const o=Ue(e,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){const f=e.substring(s+4,o-2);i=this.saveTextToParentTag(i,n,r),n.add(this.options.commentPropName,[{[this.options.textNodeName]:f}])}s=o}else if(e.substr(s+1,2)==="!D"){const o=su(e,s);this.docTypeEntities=o.entities,s=o.i}else if(e.substr(s+1,2)==="!["){const o=Ue(e,"]]>",s,"CDATA is not closed.")-2,f=e.substring(s+9,o);i=this.saveTextToParentTag(i,n,r);let l=this.parseTextData(f,n.tagname,r,!0,!1,!0,!0);l==null&&(l=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:f}]):n.add(this.options.textNodeName,l),s=o+2}else{let o=Xn(e,s,this.options.removeNSPrefix),f=o.tagName;const l=o.rawTagName;let u=o.tagExp,h=o.attrExpPresent,c=o.closeIndex;this.options.isFirefox&&(f==="link"||f=="node")&&console.log(f),this.options.transformTagName&&(f=this.options.transformTagName(f)),n&&i&&n.tagname!=="!xml"&&(i=this.saveTextToParentTag(i,n,r,!1));const d=n;if(d&&this.options.unpairedTags.indexOf(d.tagname)!==-1&&(n=this.tagsNodeStack.pop(),r=r.substring(0,r.lastIndexOf("."))),f!==t.tagname&&(r+=r?"."+f:f),this.isItStopNode(this.options.stopNodes,r,f)){let p="";if(u.length>0&&u.lastIndexOf("/")===u.length-1)f[f.length-1]==="/"?(f=f.substr(0,f.length-1),r=r.substr(0,r.length-1),u=f):u=u.substr(0,u.length-1),s=o.closeIndex;else if(this.options.unpairedTags.indexOf(f)!==-1)s=o.closeIndex;else{const x=this.readStopNodeData(e,l,c+1);if(!x)throw new Error(`Unexpected end of ${l}`);s=x.i,p=x.tagContent}const A=new xt(f);f!==u&&h&&(A[":@"]=this.buildAttributesMap(u,r,f)),p&&(p=this.parseTextData(p,f,r,!0,h,!0,!0)),r=r.substr(0,r.lastIndexOf(".")),A.add(this.options.textNodeName,p),this.addChild(n,A,r)}else{if(u.length>0&&u.lastIndexOf("/")===u.length-1){f[f.length-1]==="/"?(f=f.substr(0,f.length-1),r=r.substr(0,r.length-1),u=f):u=u.substr(0,u.length-1),this.options.transformTagName&&(f=this.options.transformTagName(f));const p=new xt(f);f!==u&&h&&(p[":@"]=this.buildAttributesMap(u,r,f)),this.addChild(n,p,r),r=r.substr(0,r.lastIndexOf("."))}else{const p=new xt(f);this.tagsNodeStack.push(n),f!==u&&h&&(p[":@"]=this.buildAttributesMap(u,r,f)),this.addChild(n,p,r),n=p}i="",s=c}}else i+=e[s];return t.child};function _u(e,t,n){const i=this.options.updateTag(t.tagname,n,t[":@"]);i===!1||(typeof i=="string"&&(t.tagname=i),e.addChild(t))}const pu=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const n=this.docTypeEntities[t];e=e.replace(n.regx,n.val)}for(let t in this.lastEntities){const n=this.lastEntities[t];e=e.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const n=this.htmlEntities[t];e=e.replace(n.regex,n.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function gu(e,t,n,i){return e&&(i===void 0&&(i=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,n,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,i),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function bu(e,t,n){const i="*."+n;for(const r in e){const s=e[r];if(i===s||t===s)return!0}return!1}function Au(e,t,n=">"){let i,r="";for(let s=t;s<e.length;s++){let a=e[s];if(i)a===i&&(i="");else if(a==='"'||a==="'")i=a;else if(a===n[0])if(n[1]){if(e[s+1]===n[1])return{data:r,index:s}}else return{data:r,index:s};else a==="	"&&(a=" ");r+=a}}function Ue(e,t,n,i){const r=e.indexOf(t,n);if(r===-1)throw new Error(i);return r+t.length-1}function Xn(e,t,n,i=">"){const r=Au(e,t+1,i);if(!r)return;let s=r.data;const a=r.index,o=s.search(/\s/);let f=s,l=!0;o!==-1&&(f=s.substring(0,o),s=s.substring(o+1).trimStart());const u=f;if(n){const h=f.indexOf(":");h!==-1&&(f=f.substr(h+1),l=f!==r.data.substr(h+1))}return{tagName:f,tagExp:s,closeIndex:a,attrExpPresent:l,rawTagName:u}}function Eu(e,t,n){const i=n;let r=1;for(;n<e.length;n++)if(e[n]==="<")if(e[n+1]==="/"){const s=Ue(e,">",n,`${t} is not closed`);if(e.substring(n+2,s).trim()===t&&(r--,r===0))return{tagContent:e.substring(i,n),i:s};n=s}else if(e[n+1]==="?")n=Ue(e,"?>",n+1,"StopNode is not closed.");else if(e.substr(n+1,3)==="!--")n=Ue(e,"-->",n+3,"StopNode is not closed.");else if(e.substr(n+1,2)==="![")n=Ue(e,"]]>",n,"StopNode is not closed.")-2;else{const s=Xn(e,n,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&r++,n=s.closeIndex)}}function Kn(e,t,n){if(t&&typeof e=="string"){const i=e.trim();return i==="true"?!0:i==="false"?!1:au(e,n)}else return is.isExist(e)?e:""}var wu=ou,ss={};function yu(e,t){return as(e,t)}function as(e,t,n){let i;const r={};for(let s=0;s<e.length;s++){const a=e[s],o=xu(a);let f="";if(n===void 0?f=o:f=n+"."+o,o===t.textNodeName)i===void 0?i=a[o]:i+=""+a[o];else{if(o===void 0)continue;if(a[o]){let l=as(a[o],t,f);const u=Ru(l,t);a[":@"]?vu(l,a[":@"],f,t):Object.keys(l).length===1&&l[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?l=l[t.textNodeName]:Object.keys(l).length===0&&(t.alwaysCreateTextNode?l[t.textNodeName]="":l=""),r[o]!==void 0&&r.hasOwnProperty(o)?(Array.isArray(r[o])||(r[o]=[r[o]]),r[o].push(l)):t.isArray(o,f,u)?r[o]=[l]:r[o]=l}}}return typeof i=="string"?i.length>0&&(r[t.textNodeName]=i):i!==void 0&&(r[t.textNodeName]=i),r}function xu(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const i=t[n];if(i!==":@")return i}}function vu(e,t,n,i){if(t){const r=Object.keys(t),s=r.length;for(let a=0;a<s;a++){const o=r[a];i.isArray(o,n+"."+o,!0,!0)?e[o]=[t[o]]:e[o]=t[o]}}}function Ru(e,t){const{textNodeName:n}=t,i=Object.keys(e).length;return!!(i===0||i===1&&(e[n]||typeof e[n]=="boolean"||e[n]===0))}ss.prettify=yu;const{buildOptions:mu}=Gn,Su=wu,{prettify:Cu}=ss,Tu=Un;var Nu=class{constructor(t){this.externalEntities={},this.options=mu(t)}parse(t,n){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(n){n===!0&&(n={});const s=Tu.validate(t,n);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}const i=new Su(this.options);i.addExternalEntities(this.externalEntities);const r=i.parseXml(t);return this.options.preserveOrder||r===void 0?r:Cu(r,this.options)}addEntity(t,n){if(n.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(n==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=n}};const ku=`
`;function $u(e,t){let n="";return t.format&&t.indentBy.length>0&&(n=ku),os(e,t,"",n)}function os(e,t,n,i){let r="",s=!1;for(let a=0;a<e.length;a++){const o=e[a],f=Ou(o);if(f===void 0)continue;let l="";if(n.length===0?l=f:l=`${n}.${f}`,f===t.textNodeName){let p=o[f];Lu(l,t)||(p=t.tagValueProcessor(f,p),p=fs(p,t)),s&&(r+=i),r+=p,s=!1;continue}else if(f===t.cdataPropName){s&&(r+=i),r+=`<![CDATA[${o[f][0][t.textNodeName]}]]>`,s=!1;continue}else if(f===t.commentPropName){r+=i+`<!--${o[f][0][t.textNodeName]}-->`,s=!0;continue}else if(f[0]==="?"){const p=ls(o[":@"],t),A=f==="?xml"?"":i;let x=o[f][0][t.textNodeName];x=x.length!==0?" "+x:"",r+=A+`<${f}${x}${p}?>`,s=!0;continue}let u=i;u!==""&&(u+=t.indentBy);const h=ls(o[":@"],t),c=i+`<${f}${h}`,d=os(o[f],t,l,u);t.unpairedTags.indexOf(f)!==-1?t.suppressUnpairedNode?r+=c+">":r+=c+"/>":(!d||d.length===0)&&t.suppressEmptyNode?r+=c+"/>":d&&d.endsWith(">")?r+=c+`>${d}${i}</${f}>`:(r+=c+">",d&&i!==""&&(d.includes("/>")||d.includes("</"))?r+=i+t.indentBy+d+i:r+=d,r+=`</${f}>`),s=!0}return r}function Ou(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const i=t[n];if(e.hasOwnProperty(i)&&i!==":@")return i}}function ls(e,t){let n="";if(e&&!t.ignoreAttributes)for(let i in e){if(!e.hasOwnProperty(i))continue;let r=t.attributeValueProcessor(i,e[i]);r=fs(r,t),r===!0&&t.suppressBooleanAttributes?n+=` ${i.substr(t.attributeNamePrefix.length)}`:n+=` ${i.substr(t.attributeNamePrefix.length)}="${r}"`}return n}function Lu(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let n=e.substr(e.lastIndexOf(".")+1);for(let i in t.stopNodes)if(t.stopNodes[i]===e||t.stopNodes[i]==="*."+n)return!0;return!1}function fs(e,t){if(e&&e.length>0&&t.processEntities)for(let n=0;n<t.entities.length;n++){const i=t.entities[n];e=e.replace(i.regex,i.val)}return e}var Iu=$u;const Hu=Iu,Pu={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Ce(e){this.options=Object.assign({},Pu,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=zu),this.processTextOrObjNode=Fu,this.options.format?(this.indentate=Mu,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Ce.prototype.build=function(e){return this.options.preserveOrder?Hu(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)},Ce.prototype.j2x=function(e,t){let n="",i="";for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r))if(typeof e[r]>"u")this.isAttribute(r)&&(i+="");else if(e[r]===null)this.isAttribute(r)?i+="":r[0]==="?"?i+=this.indentate(t)+"<"+r+"?"+this.tagEndChar:i+=this.indentate(t)+"<"+r+"/"+this.tagEndChar;else if(e[r]instanceof Date)i+=this.buildTextValNode(e[r],r,"",t);else if(typeof e[r]!="object"){const s=this.isAttribute(r);if(s)n+=this.buildAttrPairStr(s,""+e[r]);else if(r===this.options.textNodeName){let a=this.options.tagValueProcessor(r,""+e[r]);i+=this.replaceEntitiesValue(a)}else i+=this.buildTextValNode(e[r],r,"",t)}else if(Array.isArray(e[r])){const s=e[r].length;let a="",o="";for(let f=0;f<s;f++){const l=e[r][f];if(!(typeof l>"u"))if(l===null)r[0]==="?"?i+=this.indentate(t)+"<"+r+"?"+this.tagEndChar:i+=this.indentate(t)+"<"+r+"/"+this.tagEndChar;else if(typeof l=="object")if(this.options.oneListGroup){const u=this.j2x(l,t+1);a+=u.val,this.options.attributesGroupName&&l.hasOwnProperty(this.options.attributesGroupName)&&(o+=u.attrStr)}else a+=this.processTextOrObjNode(l,r,t);else if(this.options.oneListGroup){let u=this.options.tagValueProcessor(r,l);u=this.replaceEntitiesValue(u),a+=u}else a+=this.buildTextValNode(l,r,"",t)}this.options.oneListGroup&&(a=this.buildObjectNode(a,r,o,t)),i+=a}else if(this.options.attributesGroupName&&r===this.options.attributesGroupName){const s=Object.keys(e[r]),a=s.length;for(let o=0;o<a;o++)n+=this.buildAttrPairStr(s[o],""+e[r][s[o]])}else i+=this.processTextOrObjNode(e[r],r,t);return{attrStr:n,val:i}},Ce.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function Fu(e,t,n){const i=this.j2x(e,n+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,i.attrStr,n):this.buildObjectNode(i.val,t,i.attrStr,n)}Ce.prototype.buildObjectNode=function(e,t,n,i){if(e==="")return t[0]==="?"?this.indentate(i)+"<"+t+n+"?"+this.tagEndChar:this.indentate(i)+"<"+t+n+this.closeTag(t)+this.tagEndChar;{let r="</"+t+this.tagEndChar,s="";return t[0]==="?"&&(s="?",r=""),(n||n==="")&&e.indexOf("<")===-1?this.indentate(i)+"<"+t+n+s+">"+e+r:this.options.commentPropName!==!1&&t===this.options.commentPropName&&s.length===0?this.indentate(i)+`<!--${e}-->`+this.newLine:this.indentate(i)+"<"+t+n+s+this.tagEndChar+e+this.indentate(i)+r}},Ce.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t},Ce.prototype.buildTextValNode=function(e,t,n,i){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(i)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(i)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(i)+"<"+t+n+"?"+this.tagEndChar;{let r=this.options.tagValueProcessor(t,e);return r=this.replaceEntitiesValue(r),r===""?this.indentate(i)+"<"+t+n+this.closeTag(t)+this.tagEndChar:this.indentate(i)+"<"+t+n+">"+r+"</"+t+this.tagEndChar}},Ce.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){const n=this.options.entities[t];e=e.replace(n.regex,n.val)}return e};function Mu(e){return this.options.indentBy.repeat(e)}function zu(e){return e.startsWith(this.options.attributeNamePrefix)&&e!==this.options.textNodeName?e.substr(this.attrPrefixLen):!1}var Bu=Ce,Uu={XMLParser:Nu,XMLValidator:Un,XMLBuilder:Bu};async function Zu(e,t={}){const n={ignoreAttributes:!1,preserveOrder:!1,attributeNamePrefix:"$",isArray:void 0};t.alwaysArray?n.isArray=(s,a)=>{if(t.alwaysArray.indexOf(a)!==-1)return!0}:delete n.isArray;const i=Object.assign(n,t),r=new Uu.XMLParser(i);return new Promise((s,a)=>{try{const o=r.parse(e);s(o)}catch(o){a(o)}})}const Gu=["simwrapper",".simwrapper"],vt={};class Xu{constructor(t,n){Je(this,"baseUrl");Je(this,"urlId");Je(this,"needsAuth");Je(this,"fsHandle");Je(this,"store");this.urlId=t.slug,this.needsAuth=!!t.needPassword,this.fsHandle=t.handle||null,this.store=n||null,this.baseUrl=t.baseURL,t.baseURL.endsWith("/")||(this.baseUrl+="/"),vt[this.urlId]||(vt[this.urlId]={})}hasHandle(){return!!this.fsHandle}async getChromePermission(t){return t&&await t.queryPermission({mode:"read"})!=="granted"&&this.store?await new Promise(s=>{this.store.commit("setFileHandleForPermissionRequest",{handle:t,resolve:s})}):!0}clearCache(){vt[this.urlId]={}}cleanURL(t){let n=this.baseUrl+t.replace(/^0-9a-zA-Z_\-\/:+/i,"");return n=n.replaceAll("//","/"),n=n.replaceAll("//","/"),n=n.replace("https:/","https://"),n=n.replace("http:/","http://"),n=new URL(n).href,n}async _getFileResponse(t){return this.fsHandle?this._getFileFromChromeFileSystem(t):this._getFileFetchResponse(t)}async _getFileFetchResponse(t){const n=this.cleanURL(t),i={},r=new Request(n,{headers:i});return await fetch(r).then(a=>{if(a.status!=200)throw console.log("Status:",a.status),a;return a})}async _getFileFromChromeFileSystem(t){let n=t.replace(/^0-9a-zA-Z_\-\/:+/i,"");n=n.replaceAll("//","/"),n=new URL(`http://local/${n}`).href,n=n.substring(13);const i=n.lastIndexOf("/"),r=n.substring(0,i),s=n.substring(i+1),o=(await this.getDirectory(r)).handles[s];if(!o)throw Error(`File ${s} missing`);const f=await o.getFile();return f.json=()=>new Promise(async(l,u)=>{const h=await f.text(),c=JSON.parse(h);l(c)}),f.blob=()=>new Promise(async(l,u)=>{l(f)}),new Promise((l,u)=>{l(f)})}async getFileText(t){return(await this._getFileResponse(t)).text()}async getFileJson(t){const r=await(await(await this._getFileResponse(t)).blob()).arrayBuffer(),s=this.gUnzip(r),a=new TextDecoder("utf-8").decode(s);return JSON.parse(a)}async getFileBlob(t){return(await this._getFileResponse(t)).blob()}async getFileStream(t){return this.fsHandle?await this._getFileFromChromeFileSystem(t).then(i=>i.blob()).then(i=>i.stream()):await this._getFileFetchResponse(t).then(i=>i.body)}async getDirectory(t){let n=t.replaceAll("//","/");n.endsWith("/")||(n+="/");const i=vt[this.urlId][n];if(i)return i;try{const r=this.fsHandle?await this.getDirectoryFromHandle(n):await this.getDirectoryFromURL(n);return vt[this.urlId][n]=r,r}catch(r){throw Error(""+r)}}async getDirectoryFromHandle(t,n){const i={files:[],dirs:[],handles:{}};if(!this.fsHandle||!await this.getChromePermission(this.fsHandle))return i;let s=t.split("/").filter(l=>!!l);function a(l){const u=l.indexOf("..");if(u<=0)return l;const h=l.filter((c,d)=>d!==u-1&&d!==u);return a(h)}const o=a(s);let f=this.fsHandle;if(o.length)for(const l of o){let u=!1;for await(let[h,c]of f)if(h===l){f=c,u=!0;break}if(!u)throw Error(`Could not find folder "${l}"`)}for await(let l of f.values())i.handles&&(i.handles[l.name]=l),l.kind==="file"?i.files.push(l.name):i.dirs.push(l.name);return i}async getDirectoryFromURL(t){const i=await(await this._getFileResponse(t).then()).text();return this.buildListFromHtml(i)}async findAllYamlConfigs(t){const n={dashboards:{},topsheets:{},vizes:{},configs:{}},i=[];let r="/";const a=(t.startsWith("/")?t:"/"+t).split("/");for(const h of a.slice(0,a.length-1)){r=`${r}${h}/`.replaceAll("//","/");try{const{dirs:c}=await this.getDirectory(r);for(const d of c)Gu.includes(d.toLocaleLowerCase())&&i.push(`${r}/${d}`.replaceAll("//","/"))}catch{}}i.push(t);const o="dashboard*.y?(a)ml",f="(topsheet|table)*.y?(a)ml",l="viz*.y?(a)ml",u="simwrapper-config.y?(a)ml";for(const h of i){const{files:c}=await this.getDirectory(h);Wt.match(c,o).map(d=>n.dashboards[d]=`${h}/${d}`.replaceAll("//","/")),Wt.match(c,f).map(d=>n.topsheets[d]=`${h}/${d}`.replaceAll("//","/")),Wt.match(c,l).map(d=>n.vizes[d]=`${h}/${d}`.replaceAll("//","/")),Wt.match(c,u).map(d=>n.configs[d]=`${h}/${d}`.replaceAll("//","/"))}return n.dashboards=Object.fromEntries(Object.entries(n.dashboards).sort((h,c)=>h[0]>c[0]?1:-1)),n.topsheets=Object.fromEntries(Object.entries(n.topsheets).sort((h,c)=>h[0]>c[0]?1:-1)),n.vizes=Object.fromEntries(Object.entries(n.vizes).sort((h,c)=>h[0]>c[0]?1:-1)),n.configs=Object.fromEntries(Object.entries(n.configs).sort((h,c)=>h[0]>c[0]?1:-1)),n}buildListFromHtml(t){return t.indexOf("SimpleWebServer")>-1?this.buildListFromSimpleWebServer(t):t.indexOf("<ul>")>-1?this.buildListFromSVN(t):t.indexOf("<table>")>-1?this.buildListFromApache24(t):t.indexOf(`
<a `)>-1?this.buildListFromNGINX(t):{dirs:[],files:[],handles:{}}}buildListFromSimpleWebServer(t){const n=/">(.*?)<\/a/,i=[],r=[],s=t.split(`
`);for(const a of s){if(a.indexOf('<li><a href="')<0)continue;const f=a.match(n);if(!f)continue;const l=f[1];l.endsWith("/")?i.push(l.substring(0,l.length-1)):r.push(l)}return{dirs:i,files:r,handles:{}}}buildListFromSVN(t){const n=/"(.*?)"/,i=[],r=[],s=t.split(`
`);for(const a of s){if(a.indexOf('<li><a href="')<0)continue;const f=a.match(n);if(!f)continue;let l=f[1];l!=="../"&&(l.startsWith("./")&&(l=l.substring(2)),l.endsWith("/")?i.push(l.substring(0,l.length-1)):r.push(l))}return{dirs:i,files:r,handles:{}}}buildListFromApache24(t){const n=/"(.*?)"/,i=[],r=[],s=t.split(`
`);for(const a of s){if(a.indexOf('<th "')>-1||a.indexOf("[PARENTDIR]")>-1)continue;const o=a.indexOf('<td><a href="');if(o<0)continue;const f=a.substring(o).match(n);if(!f)continue;const l=f[1];l!=="../"&&(l.endsWith("/")?i.push(l.substring(0,l.length-1)):r.push(l))}return{dirs:i,files:r,handles:{}}}buildListFromNGINX(t){const n=/"(.*?)"/,i=[],r=[],s=t.split(`
`);for(const a of s){const o=a.indexOf('<a href="');if(o<0)continue;const f=a.substring(o).match(n);if(!f)continue;const l=f[1];l!=="../"&&(l.endsWith("/")?i.push(l.substring(0,l.length-1)):r.push(l))}return{dirs:i,files:r,handles:{}}}gUnzip(t){const n=new Uint8Array(t.slice(0,2));return n[0]===31&&n[1]===139?this.gUnzip(_i.inflate(t)):t}}const us=self,Ku=new CountQueuingStrategy({highWaterMark:1}),cs=1024*1024*8,Rt=1200127;onmessage=async({data:{filePath:e,fileSystem:t}})=>{await Vu(e,t)};async function Vu(e,t){try{console.log(e);const i=await new Xu(t).getFileStream(e);if(!i)throw Error("STREAM is null");await i.pipeTo(Yu),us.postMessage({finished:!0})}catch{us.postMessage({error:"Error loading "+e})}}let Vn=0,Wu=0,hs="",Du=new TextDecoder,Te=[],Ae=new Float32Array(Rt).fill(NaN),Ne=[],ke={},ds=!1;const Wn=new _i.Inflate({to:"string",chunkSize:524288}),Dn=[];Wn.onData=e=>{Dn.push(e)},Wn.onEnd=e=>{console.log("gzipper onEnd",e)};const _s=async e=>{let t=hs+e;const n=t.lastIndexOf(`
`);hs=t.slice(n+1),t=t.slice(0,n);const i=t.split(`
`),r=await Qu(i);if(ju(r),Te.push(...r),Te.length>Rt){const s=Te.slice(0,Rt);Ae.set(s.map(a=>a.time)),postMessage({events:s,times:Ae,vehicleTrips:Ne},[Ae.buffer]),Te=Te.slice(Rt),Ae=new Float32Array(Rt),Ne=[]}},Yu=new WritableStream({write(e){return new Promise(async(t,n)=>{const i=async(s,a)=>{if(Vn==1){const o=new Uint8Array(s.buffer.slice(0,2));o[0]===31&&o[1]===139&&(ds=!0)}if(ds)for(Wn.push(s);Dn.length;){const o=Dn.shift();await _s(o)}else{const o=Du.decode(s);_s(o)}};Vn++,Wu+=e.length;let r=0;for(console.log("got chunk",Vn);r<e.length;){const s=e.subarray(r,r+cs);s.length&&await i(s),r+=cs}t()})},close(){console.log("STREAM FINISHED! Orphans:",Object.keys(ke).length),console.log("final vehicle trips:",Ne.length,Ne[Ne.length-1]),Ae.set(Te.map(e=>e.time)),Ae=Ae.subarray(0,Te.length),postMessage({events:Te,times:Ae,vehicleTrips:Ne},[Ae.buffer])},abort(e){console.log("STREAM error:",e)}},Ku);function ju(e){for(const t of e)switch(t.type){case"vehicle enters traffic":case"entered link":ke[t.vehicle]=t.time;break;case"left link":t.vehicle in ke&&(Ne.push({link:t.link,t0:ke[t.vehicle],t1:t.time}),ke[t.vehicle]=t.time);case"vehicle leaves traffic":t.vehicle in ke&&Ne.push({link:t.link,t0:ke[t.vehicle],t1:t.time}),delete ke[t.vehicle];break}}async function Qu(e){const t=[],n=/<event /;for(const i of e)if(n.test(i)){const r=await Zu(i,{alwaysArray:[],attributeNamePrefix:""});r.event.time=parseFloat(r.event.time),t.push(r.event)}return t}})();
//# sourceMappingURL=MATSimEventStreamer.worker-1968cd1e.js.map
