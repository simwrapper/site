import{m as cr}from"./HTTPFileSystem-017e7593.js";import{f as ur}from"./fxp-b80b6d05.js";var u=Uint8Array,T=Uint16Array,d=Uint32Array,rr=new u([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),er=new u([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),sr=new u([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),nr=function(r,e){for(var n=new T(31),a=0;a<31;++a)n[a]=e+=1<<r[a-1];for(var i=new d(n[30]),a=1;a<30;++a)for(var l=n[a];l<n[a+1];++l)i[l]=l-n[a]<<5|a;return[n,i]},ar=nr(rr,2),ir=ar[0],wr=ar[1];ir[28]=258,wr[258]=28;var yr=nr(er,0),hr=yr[0],G=new T(32768);for(var o=0;o<32768;++o){var m=(o&43690)>>>1|(o&21845)<<1;m=(m&52428)>>>2|(m&13107)<<2,m=(m&61680)>>>4|(m&3855)<<4,G[o]=((m&65280)>>>8|(m&255)<<8)>>>1}var S=function(r,e,n){for(var a=r.length,i=0,l=new T(e);i<a;++i)r[i]&&++l[r[i]-1];var c=new T(e);for(i=0;i<e;++i)c[i]=c[i-1]+l[i-1]<<1;var v;if(n){v=new T(1<<e);var t=15-e;for(i=0;i<a;++i)if(r[i])for(var f=i<<4|r[i],h=e-r[i],p=c[r[i]-1]++<<h,F=p|(1<<h)-1;p<=F;++p)v[G[p]>>>t]=f}else for(v=new T(a),i=0;i<a;++i)r[i]&&(v[i]=G[c[r[i]-1]++]>>>15-r[i]);return v},z=new u(288);for(var o=0;o<144;++o)z[o]=8;for(var o=144;o<256;++o)z[o]=9;for(var o=256;o<280;++o)z[o]=7;for(var o=280;o<288;++o)z[o]=8;var tr=new u(32);for(var o=0;o<32;++o)tr[o]=5;var gr=S(z,9,1),pr=S(tr,5,1),X=function(r){for(var e=r[0],n=1;n<r.length;++n)r[n]>e&&(e=r[n]);return e},w=function(r,e,n){var a=e/8|0;return(r[a]|r[a+1]<<8)>>(e&7)&n},Y=function(r,e){var n=e/8|0;return(r[n]|r[n+1]<<8|r[n+2]<<16)>>(e&7)},Ar=function(r){return(r+7)/8|0},mr=function(r,e,n){(e==null||e<0)&&(e=0),(n==null||n>r.length)&&(n=r.length);var a=new(r.BYTES_PER_ELEMENT==2?T:r.BYTES_PER_ELEMENT==4?d:u)(n-e);return a.set(r.subarray(e,n)),a},Fr=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],y=function(r,e,n){var a=new Error(e||Fr[r]);if(a.code=r,Error.captureStackTrace&&Error.captureStackTrace(a,y),!n)throw a;return a},I=function(r,e,n){var a=r.length;if(!a||n&&n.f&&!n.l)return e||new u(0);var i=!e||n,l=!n||n.i;n||(n={}),e||(e=new u(a*3));var c=function(V){var W=e.length;if(V>W){var Z=new u(Math.max(W*2,V));Z.set(e),e=Z}},v=n.f||0,t=n.p||0,f=n.b||0,h=n.l,p=n.d,F=n.m,U=n.n,O=a*8;do{if(!h){v=w(r,t,1);var C=w(r,t+1,3);if(t+=3,C)if(C==1)h=gr,p=pr,F=9,U=5;else if(C==2){var _=w(r,t,31)+257,$=w(r,t+10,15)+4,j=_+w(r,t+5,31)+1;t+=14;for(var x=new u(j),D=new u(19),s=0;s<$;++s)D[sr[s]]=w(r,t+s*3,7);t+=$*3;for(var q=X(D),or=(1<<q)-1,fr=S(D,q,1),s=0;s<j;){var H=fr[w(r,t,or)];t+=H&15;var g=H>>>4;if(g<16)x[s++]=g;else{var b=0,B=0;for(g==16?(B=3+w(r,t,3),t+=2,b=x[s-1]):g==17?(B=3+w(r,t,7),t+=3):g==18&&(B=11+w(r,t,127),t+=7);B--;)x[s++]=b}}var J=x.subarray(0,_),A=x.subarray(_);F=X(J),U=X(A),h=S(J,F,1),p=S(A,U,1)}else y(1);else{var g=Ar(t)+4,M=r[g-4]|r[g-3]<<8,P=g+M;if(P>a){l&&y(0);break}i&&c(f+M),e.set(r.subarray(g,P),f),n.b=f+=M,n.p=t=P*8,n.f=v;continue}if(t>O){l&&y(0);break}}i&&c(f+131072);for(var lr=(1<<F)-1,vr=(1<<U)-1,R=t;;R=t){var b=h[Y(r,t)&lr],E=b>>>4;if(t+=b&15,t>O){l&&y(0);break}if(b||y(2),E<256)e[f++]=E;else if(E==256){R=t,h=null;break}else{var K=E-254;if(E>264){var s=E-257,k=rr[s];K=w(r,t,(1<<k)-1)+ir[s],t+=k}var L=p[Y(r,t)&vr],N=L>>>4;L||y(3),t+=L&15;var A=hr[N];if(N>3){var k=er[N];A+=Y(r,t)&(1<<k)-1,t+=k}if(t>O){l&&y(0);break}i&&c(f+131072);for(var Q=f+K;f<Q;f+=4)e[f]=e[f-A],e[f+1]=e[f+1-A],e[f+2]=e[f+2-A],e[f+3]=e[f+3-A];f=Q}}n.l=h,n.p=R,n.b=f,n.f=v,h&&(v=1,n.m=F,n.d=p,n.n=U)}while(!v);return f==e.length?e:mr(e,0,f)},Tr=new u(0),br=function(r){(r[0]!=31||r[1]!=139||r[2]!=8)&&y(6,"invalid gzip data");var e=r[3],n=10;e&4&&(n+=r[10]|(r[11]<<8)+2);for(var a=(e>>3&1)+(e>>4&1);a>0;a-=!r[n++]);return n+(e&2)},Er=function(r){var e=r.length;return(r[e-4]|r[e-3]<<8|r[e-2]<<16|r[e-1]<<24)>>>0},Ur=function(r){((r[0]&15)!=8||r[0]>>>4>7||(r[0]<<8|r[1])%31)&&y(6,"invalid zlib data"),r[1]&32&&y(6,"invalid zlib data: preset dictionaries not supported")};function xr(r,e){return I(r,e)}function kr(r,e){return I(r.subarray(br(r),-8),e||new u(Er(r)))}function Sr(r,e){return I((Ur(r),r.subarray(2,-4)),e)}function zr(r,e){return r[0]==31&&r[1]==139&&r[2]==8?kr(r,e):(r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31?xr(r,e):Sr(r,e)}var Br=typeof TextDecoder<"u"&&new TextDecoder,Or=0;try{Br.decode(Tr,{stream:!0}),Or=1}catch{}function Cr(r){let e="";const n=new Uint8Array(r),a=n.byteLength;for(let i=0;i<a;i++)e+=String.fromCharCode(n[i]);return window.btoa(e)}async function Mr(r,e="application/octet-stream"){return await new Promise((n,a)=>{const i=Object.assign(new FileReader,{onload:()=>n(i.result),onerror:()=>a(i.error)});i.readAsDataURL(new File([r],"",{type:e}))})}async function Pr(r){const e=await fetch(r);return new Uint8Array(await e.arrayBuffer())}function _r(r){return r instanceof Float32Array?"Float32Array":r instanceof Float64Array?"Float64Array":r instanceof Array?"Array":"Unknown"}function Gr(r){if(r.length==0)return new Array;if(r.length==1)return r[0];const e=r.map(l=>l.length).reduce((l,c)=>l+c),n=Object.getPrototypeOf(r[0]).constructor,a=new n(e);let i=0;for(const l of r)a.set(l,i),i+=l.length;return a}function Dr(r,e){let n;return(...a)=>{clearTimeout(n),n=setTimeout(()=>{n=null,r.apply(this,a)},e)}}function Rr(r,e){if(r.indexOf(e)>-1)return[e];const n=cr(r,e);return n.length?n:[]}async function Lr(r,e={}){const n={ignoreAttributes:!1,preserveOrder:!1,attributeNamePrefix:"$",isArray:void 0};e.alwaysArray?n.isArray=(l,c)=>{if(e.alwaysArray.indexOf(c)!==-1)return!0}:delete n.isArray;const a=Object.assign(n,e),i=new ur.XMLParser(a);return new Promise((l,c)=>{try{const v=i.parse(r);l(v)}catch(v){c(v)}})}function Nr(r){const e=new Uint8Array(r);if(new Uint16Array(r,0,2)[0]===35615)try{return zr(e)}catch(a){console.error("eee",a)}return r}const Ir={arrayBufferToBase64:Cr,dataUrlToBytes:Pr,bytesToBase64DataUrl:Mr,debounce:Dr,findMatchingGlobInFiles:Rr,identifyTypedArray:_r,gUnzip:Nr,parseXML:Lr};export{Cr as a,Rr as f,Nr as g,Gr as m,Lr as p,Ir as u};
//# sourceMappingURL=util-8430d78c.js.map
