var ks=Object.defineProperty;var Ps=(e,t,r)=>t in e?ks(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Y=(e,t,r)=>(Ps(e,typeof t!="symbol"?t+"":t,r),r);import{r as gr,g as ve,R as go,M as Ds,k as Ve,d as ke,n as Pe,a as Fs,j as Gs,b as Xr,q as Ke,S as Rs}from"./index-24c2379b.js";import{D as Ls,S as Is}from"./set-rtl-text-plugin-40f27fec.js";import{s as js,B as $s}from"./screenshots-b8b183dc.js";import{r as Us}from"./index-e24927de.js";import{r as Ms,M as en,G as Ns}from"./ModalIdColumnPicker-cf633da6.js";import{F as Bs}from"./FileSelector-7d478347.js";import{W as Hs,D as zs}from"./DashboardDataManager-9bea9fc4.js";import{W as Ws}from"./RoadNetworkLoader.worker-ba4f3b4d.js";import{g as Vs,u as wt}from"./util-8430d78c.js";import{D as Ys}from"./DrawingTool-6c6ed265.js";import{C as Gr}from"./Coords-23d23a7c.js";import{d as Zr,a as Qr}from"./index-83bc819c.js";import{a8 as Ks,_ as tn}from"./layer-7bd8a07e.js";import{L as Js}from"./layer-extension-7e1876a6.js";import{A as qs}from"./arc-layer-85831471.js";import{a6 as rn,a4 as Rr,a8 as on}from"./ColorMapSelector-045a9a0a.js";import{S as Kt,g as Jt,N as Xs}from"./ColorsAndWidths-1801eb2f.js";import{S as Zs}from"./text-layer-98e63af8.js";import{G as Qs}from"./geojson-layer-4489d197.js";import{Z as ei}from"./ZoomButtons-85071e8e.js";import{H as ti}from"./HTTPFileSystem-017e7593.js";import{L as ri}from"./LegendStore-3aadd543.js";import"./PathOffsetLayer-df4f8747.js";import"./path-layer-7a20967b.js";import"./group-f6e6d4c5.js";import"./index-f6506551.js";import"./fxp-b80b6d05.js";import"./rainbow-3c4177eb.js";import"./cubehelix-25f71112.js";import"./lodash-ce477bae.js";import"./threshold-576e5497.js";/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function nn(e){return typeof e>"u"||e===null}function oi(e){return typeof e=="object"&&e!==null}function ni(e){return Array.isArray(e)?e:nn(e)?[]:[e]}function si(e,t){var r,o,n,s;if(t)for(s=Object.keys(t),r=0,o=s.length;r<o;r+=1)n=s[r],e[n]=t[n];return e}function ii(e,t){var r="",o;for(o=0;o<t;o+=1)r+=e;return r}function ai(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var li=nn,ci=oi,ui=ni,di=ii,pi=ai,fi=si,ae={isNothing:li,isObject:ci,toArray:ui,repeat:di,isNegativeZero:pi,extend:fi};function sn(e,t){var r="",o=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),o+" "+r):o}function At(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=sn(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}At.prototype=Object.create(Error.prototype);At.prototype.constructor=At;At.prototype.toString=function(t){return this.name+": "+sn(this,t)};var ge=At;function mr(e,t,r,o,n){var s="",i="",a=Math.floor(n/2)-1;return o-t>a&&(s=" ... ",t=o-a+s.length),r-o>a&&(i=" ...",r=o+a-i.length),{str:s+e.slice(t,r).replace(/\t/g,"→")+i,pos:o-t+s.length}}function vr(e,t){return ae.repeat(" ",t-e.length)+e}function hi(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,o=[0],n=[],s,i=-1;s=r.exec(e.buffer);)n.push(s.index),o.push(s.index+s[0].length),e.position<=s.index&&i<0&&(i=o.length-2);i<0&&(i=o.length-1);var a="",l,c,d=Math.min(e.line+t.linesAfter,n.length).toString().length,u=t.maxLength-(t.indent+d+3);for(l=1;l<=t.linesBefore&&!(i-l<0);l++)c=mr(e.buffer,o[i-l],n[i-l],e.position-(o[i]-o[i-l]),u),a=ae.repeat(" ",t.indent)+vr((e.line-l+1).toString(),d)+" | "+c.str+`
`+a;for(c=mr(e.buffer,o[i],n[i],e.position,u),a+=ae.repeat(" ",t.indent)+vr((e.line+1).toString(),d)+" | "+c.str+`
`,a+=ae.repeat("-",t.indent+d+3+c.pos)+`^
`,l=1;l<=t.linesAfter&&!(i+l>=n.length);l++)c=mr(e.buffer,o[i+l],n[i+l],e.position-(o[i]-o[i+l]),u),a+=ae.repeat(" ",t.indent)+vr((e.line+l+1).toString(),d)+" | "+c.str+`
`;return a.replace(/\n$/,"")}var gi=hi,mi=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],vi=["scalar","sequence","mapping"];function bi(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(o){t[String(o)]=r})}),t}function yi(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(mi.indexOf(r)===-1)throw new ge('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=bi(t.styleAliases||null),vi.indexOf(this.kind)===-1)throw new ge('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var ce=yi;function mo(e,t){var r=[];return e[t].forEach(function(o){var n=r.length;r.forEach(function(s,i){s.tag===o.tag&&s.kind===o.kind&&s.multi===o.multi&&(n=i)}),r[n]=o}),r}function Ei(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function o(n){n.multi?(e.multi[n.kind].push(n),e.multi.fallback.push(n)):e[n.kind][n.tag]=e.fallback[n.tag]=n}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(o);return e}function Lr(e){return this.extend(e)}Lr.prototype.extend=function(t){var r=[],o=[];if(t instanceof ce)o.push(t);else if(Array.isArray(t))o=o.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(o=o.concat(t.explicit));else throw new ge("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof ce))throw new ge("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new ge("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new ge("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),o.forEach(function(s){if(!(s instanceof ce))throw new ge("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var n=Object.create(Lr.prototype);return n.implicit=(this.implicit||[]).concat(r),n.explicit=(this.explicit||[]).concat(o),n.compiledImplicit=mo(n,"implicit"),n.compiledExplicit=mo(n,"explicit"),n.compiledTypeMap=Ei(n.compiledImplicit,n.compiledExplicit),n};var an=Lr,ln=new ce("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),cn=new ce("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),un=new ce("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),dn=new an({explicit:[ln,cn,un]});function Ti(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function wi(){return null}function Ci(e){return e===null}var pn=new ce("tag:yaml.org,2002:null",{kind:"scalar",resolve:Ti,construct:wi,predicate:Ci,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function xi(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function Si(e){return e==="true"||e==="True"||e==="TRUE"}function Oi(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var fn=new ce("tag:yaml.org,2002:bool",{kind:"scalar",resolve:xi,construct:Si,predicate:Oi,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function _i(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function Ai(e){return 48<=e&&e<=55}function ki(e){return 48<=e&&e<=57}function Pi(e){if(e===null)return!1;var t=e.length,r=0,o=!1,n;if(!t)return!1;if(n=e[r],(n==="-"||n==="+")&&(n=e[++r]),n==="0"){if(r+1===t)return!0;if(n=e[++r],n==="b"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(n!=="0"&&n!=="1")return!1;o=!0}return o&&n!=="_"}if(n==="x"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(!_i(e.charCodeAt(r)))return!1;o=!0}return o&&n!=="_"}if(n==="o"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(!Ai(e.charCodeAt(r)))return!1;o=!0}return o&&n!=="_"}}if(n==="_")return!1;for(;r<t;r++)if(n=e[r],n!=="_"){if(!ki(e.charCodeAt(r)))return!1;o=!0}return!(!o||n==="_")}function Di(e){var t=e,r=1,o;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),o=t[0],(o==="-"||o==="+")&&(o==="-"&&(r=-1),t=t.slice(1),o=t[0]),t==="0")return 0;if(o==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function Fi(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!ae.isNegativeZero(e)}var hn=new ce("tag:yaml.org,2002:int",{kind:"scalar",resolve:Pi,construct:Di,predicate:Fi,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Gi=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Ri(e){return!(e===null||!Gi.test(e)||e[e.length-1]==="_")}function Li(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var Ii=/^[-+]?[0-9]+e/;function ji(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ae.isNegativeZero(e))return"-0.0";return r=e.toString(10),Ii.test(r)?r.replace("e",".e"):r}function $i(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||ae.isNegativeZero(e))}var gn=new ce("tag:yaml.org,2002:float",{kind:"scalar",resolve:Ri,construct:Li,predicate:$i,represent:ji,defaultStyle:"lowercase"}),mn=dn.extend({implicit:[pn,fn,hn,gn]}),vn=mn,bn=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),yn=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Ui(e){return e===null?!1:bn.exec(e)!==null||yn.exec(e)!==null}function Mi(e){var t,r,o,n,s,i,a,l=0,c=null,d,u,p;if(t=bn.exec(e),t===null&&(t=yn.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],o=+t[2]-1,n=+t[3],!t[4])return new Date(Date.UTC(r,o,n));if(s=+t[4],i=+t[5],a=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(d=+t[10],u=+(t[11]||0),c=(d*60+u)*6e4,t[9]==="-"&&(c=-c)),p=new Date(Date.UTC(r,o,n,s,i,a,l)),c&&p.setTime(p.getTime()-c),p}function Ni(e){return e.toISOString()}var En=new ce("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Ui,construct:Mi,instanceOf:Date,represent:Ni});function Bi(e){return e==="<<"||e===null}var Tn=new ce("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Bi}),eo=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Hi(e){if(e===null)return!1;var t,r,o=0,n=e.length,s=eo;for(r=0;r<n;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;o+=6}return o%8===0}function zi(e){var t,r,o=e.replace(/[\r\n=]/g,""),n=o.length,s=eo,i=0,a=[];for(t=0;t<n;t++)t%4===0&&t&&(a.push(i>>16&255),a.push(i>>8&255),a.push(i&255)),i=i<<6|s.indexOf(o.charAt(t));return r=n%4*6,r===0?(a.push(i>>16&255),a.push(i>>8&255),a.push(i&255)):r===18?(a.push(i>>10&255),a.push(i>>2&255)):r===12&&a.push(i>>4&255),new Uint8Array(a)}function Wi(e){var t="",r=0,o,n,s=e.length,i=eo;for(o=0;o<s;o++)o%3===0&&o&&(t+=i[r>>18&63],t+=i[r>>12&63],t+=i[r>>6&63],t+=i[r&63]),r=(r<<8)+e[o];return n=s%3,n===0?(t+=i[r>>18&63],t+=i[r>>12&63],t+=i[r>>6&63],t+=i[r&63]):n===2?(t+=i[r>>10&63],t+=i[r>>4&63],t+=i[r<<2&63],t+=i[64]):n===1&&(t+=i[r>>2&63],t+=i[r<<4&63],t+=i[64],t+=i[64]),t}function Vi(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var wn=new ce("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Hi,construct:zi,predicate:Vi,represent:Wi}),Yi=Object.prototype.hasOwnProperty,Ki=Object.prototype.toString;function Ji(e){if(e===null)return!0;var t=[],r,o,n,s,i,a=e;for(r=0,o=a.length;r<o;r+=1){if(n=a[r],i=!1,Ki.call(n)!=="[object Object]")return!1;for(s in n)if(Yi.call(n,s))if(!i)i=!0;else return!1;if(!i)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}function qi(e){return e!==null?e:[]}var Cn=new ce("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Ji,construct:qi}),Xi=Object.prototype.toString;function Zi(e){if(e===null)return!0;var t,r,o,n,s,i=e;for(s=new Array(i.length),t=0,r=i.length;t<r;t+=1){if(o=i[t],Xi.call(o)!=="[object Object]"||(n=Object.keys(o),n.length!==1))return!1;s[t]=[n[0],o[n[0]]]}return!0}function Qi(e){if(e===null)return[];var t,r,o,n,s,i=e;for(s=new Array(i.length),t=0,r=i.length;t<r;t+=1)o=i[t],n=Object.keys(o),s[t]=[n[0],o[n[0]]];return s}var xn=new ce("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Zi,construct:Qi}),ea=Object.prototype.hasOwnProperty;function ta(e){if(e===null)return!0;var t,r=e;for(t in r)if(ea.call(r,t)&&r[t]!==null)return!1;return!0}function ra(e){return e!==null?e:{}}var Sn=new ce("tag:yaml.org,2002:set",{kind:"mapping",resolve:ta,construct:ra}),to=vn.extend({implicit:[En,Tn],explicit:[wn,Cn,xn,Sn]}),Be=Object.prototype.hasOwnProperty,qt=1,On=2,_n=3,Xt=4,br=1,oa=2,vo=3,na=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,sa=/[\x85\u2028\u2029]/,ia=/[,\[\]\{\}]/,An=/^(?:!|!!|![a-z\-]+!)$/i,kn=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function bo(e){return Object.prototype.toString.call(e)}function Fe(e){return e===10||e===13}function Je(e){return e===9||e===32}function be(e){return e===9||e===32||e===10||e===13}function nt(e){return e===44||e===91||e===93||e===123||e===125}function aa(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function la(e){return e===120?2:e===117?4:e===85?8:0}function ca(e){return 48<=e&&e<=57?e-48:-1}function yo(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function ua(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var Pn=new Array(256),Dn=new Array(256);for(var Ze=0;Ze<256;Ze++)Pn[Ze]=yo(Ze)?1:0,Dn[Ze]=yo(Ze);function da(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||to,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Fn(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=gi(r),new ge(t,r)}function A(e,t){throw Fn(e,t)}function Zt(e,t){e.onWarning&&e.onWarning.call(null,Fn(e,t))}var Eo={YAML:function(t,r,o){var n,s,i;t.version!==null&&A(t,"duplication of %YAML directive"),o.length!==1&&A(t,"YAML directive accepts exactly one argument"),n=/^([0-9]+)\.([0-9]+)$/.exec(o[0]),n===null&&A(t,"ill-formed argument of the YAML directive"),s=parseInt(n[1],10),i=parseInt(n[2],10),s!==1&&A(t,"unacceptable YAML version of the document"),t.version=o[0],t.checkLineBreaks=i<2,i!==1&&i!==2&&Zt(t,"unsupported YAML version of the document")},TAG:function(t,r,o){var n,s;o.length!==2&&A(t,"TAG directive accepts exactly two arguments"),n=o[0],s=o[1],An.test(n)||A(t,"ill-formed tag handle (first argument) of the TAG directive"),Be.call(t.tagMap,n)&&A(t,'there is a previously declared suffix for "'+n+'" tag handle'),kn.test(s)||A(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{A(t,"tag prefix is malformed: "+s)}t.tagMap[n]=s}};function Me(e,t,r,o){var n,s,i,a;if(t<r){if(a=e.input.slice(t,r),o)for(n=0,s=a.length;n<s;n+=1)i=a.charCodeAt(n),i===9||32<=i&&i<=1114111||A(e,"expected valid JSON character");else na.test(a)&&A(e,"the stream contains non-printable characters");e.result+=a}}function To(e,t,r,o){var n,s,i,a;for(ae.isObject(r)||A(e,"cannot merge mappings; the provided source object is unacceptable"),n=Object.keys(r),i=0,a=n.length;i<a;i+=1)s=n[i],Be.call(t,s)||(t[s]=r[s],o[s]=!0)}function st(e,t,r,o,n,s,i,a,l){var c,d;if(Array.isArray(n))for(n=Array.prototype.slice.call(n),c=0,d=n.length;c<d;c+=1)Array.isArray(n[c])&&A(e,"nested arrays are not supported inside keys"),typeof n=="object"&&bo(n[c])==="[object Object]"&&(n[c]="[object Object]");if(typeof n=="object"&&bo(n)==="[object Object]"&&(n="[object Object]"),n=String(n),t===null&&(t={}),o==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(c=0,d=s.length;c<d;c+=1)To(e,t,s[c],r);else To(e,t,s,r);else!e.json&&!Be.call(r,n)&&Be.call(t,n)&&(e.line=i||e.line,e.lineStart=a||e.lineStart,e.position=l||e.position,A(e,"duplicated mapping key")),n==="__proto__"?Object.defineProperty(t,n,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[n]=s,delete r[n];return t}function ro(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):A(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function se(e,t,r){for(var o=0,n=e.input.charCodeAt(e.position);n!==0;){for(;Je(n);)n===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),n=e.input.charCodeAt(++e.position);if(t&&n===35)do n=e.input.charCodeAt(++e.position);while(n!==10&&n!==13&&n!==0);if(Fe(n))for(ro(e),n=e.input.charCodeAt(e.position),o++,e.lineIndent=0;n===32;)e.lineIndent++,n=e.input.charCodeAt(++e.position);else break}return r!==-1&&o!==0&&e.lineIndent<r&&Zt(e,"deficient indentation"),o}function lr(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||be(r)))}function oo(e,t){t===1?e.result+=" ":t>1&&(e.result+=ae.repeat(`
`,t-1))}function pa(e,t,r){var o,n,s,i,a,l,c,d,u=e.kind,p=e.result,f;if(f=e.input.charCodeAt(e.position),be(f)||nt(f)||f===35||f===38||f===42||f===33||f===124||f===62||f===39||f===34||f===37||f===64||f===96||(f===63||f===45)&&(n=e.input.charCodeAt(e.position+1),be(n)||r&&nt(n)))return!1;for(e.kind="scalar",e.result="",s=i=e.position,a=!1;f!==0;){if(f===58){if(n=e.input.charCodeAt(e.position+1),be(n)||r&&nt(n))break}else if(f===35){if(o=e.input.charCodeAt(e.position-1),be(o))break}else{if(e.position===e.lineStart&&lr(e)||r&&nt(f))break;if(Fe(f))if(l=e.line,c=e.lineStart,d=e.lineIndent,se(e,!1,-1),e.lineIndent>=t){a=!0,f=e.input.charCodeAt(e.position);continue}else{e.position=i,e.line=l,e.lineStart=c,e.lineIndent=d;break}}a&&(Me(e,s,i,!1),oo(e,e.line-l),s=i=e.position,a=!1),Je(f)||(i=e.position+1),f=e.input.charCodeAt(++e.position)}return Me(e,s,i,!1),e.result?!0:(e.kind=u,e.result=p,!1)}function fa(e,t){var r,o,n;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,o=n=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(Me(e,o,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)o=e.position,e.position++,n=e.position;else return!0;else Fe(r)?(Me(e,o,n,!0),oo(e,se(e,!1,t)),o=n=e.position):e.position===e.lineStart&&lr(e)?A(e,"unexpected end of the document within a single quoted scalar"):(e.position++,n=e.position);A(e,"unexpected end of the stream within a single quoted scalar")}function ha(e,t){var r,o,n,s,i,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=o=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return Me(e,r,e.position,!0),e.position++,!0;if(a===92){if(Me(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),Fe(a))se(e,!1,t);else if(a<256&&Pn[a])e.result+=Dn[a],e.position++;else if((i=la(a))>0){for(n=i,s=0;n>0;n--)a=e.input.charCodeAt(++e.position),(i=aa(a))>=0?s=(s<<4)+i:A(e,"expected hexadecimal character");e.result+=ua(s),e.position++}else A(e,"unknown escape sequence");r=o=e.position}else Fe(a)?(Me(e,r,o,!0),oo(e,se(e,!1,t)),r=o=e.position):e.position===e.lineStart&&lr(e)?A(e,"unexpected end of the document within a double quoted scalar"):(e.position++,o=e.position)}A(e,"unexpected end of the stream within a double quoted scalar")}function ga(e,t){var r=!0,o,n,s,i=e.tag,a,l=e.anchor,c,d,u,p,f,g=Object.create(null),h,v,T,E;if(E=e.input.charCodeAt(e.position),E===91)d=93,f=!1,a=[];else if(E===123)d=125,f=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),E=e.input.charCodeAt(++e.position);E!==0;){if(se(e,!0,t),E=e.input.charCodeAt(e.position),E===d)return e.position++,e.tag=i,e.anchor=l,e.kind=f?"mapping":"sequence",e.result=a,!0;r?E===44&&A(e,"expected the node content, but found ','"):A(e,"missed comma between flow collection entries"),v=h=T=null,u=p=!1,E===63&&(c=e.input.charCodeAt(e.position+1),be(c)&&(u=p=!0,e.position++,se(e,!0,t))),o=e.line,n=e.lineStart,s=e.position,lt(e,t,qt,!1,!0),v=e.tag,h=e.result,se(e,!0,t),E=e.input.charCodeAt(e.position),(p||e.line===o)&&E===58&&(u=!0,E=e.input.charCodeAt(++e.position),se(e,!0,t),lt(e,t,qt,!1,!0),T=e.result),f?st(e,a,g,v,h,T,o,n,s):u?a.push(st(e,null,g,v,h,T,o,n,s)):a.push(h),se(e,!0,t),E=e.input.charCodeAt(e.position),E===44?(r=!0,E=e.input.charCodeAt(++e.position)):r=!1}A(e,"unexpected end of the stream within a flow collection")}function ma(e,t){var r,o,n=br,s=!1,i=!1,a=t,l=0,c=!1,d,u;if(u=e.input.charCodeAt(e.position),u===124)o=!1;else if(u===62)o=!0;else return!1;for(e.kind="scalar",e.result="";u!==0;)if(u=e.input.charCodeAt(++e.position),u===43||u===45)br===n?n=u===43?vo:oa:A(e,"repeat of a chomping mode identifier");else if((d=ca(u))>=0)d===0?A(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):i?A(e,"repeat of an indentation width identifier"):(a=t+d-1,i=!0);else break;if(Je(u)){do u=e.input.charCodeAt(++e.position);while(Je(u));if(u===35)do u=e.input.charCodeAt(++e.position);while(!Fe(u)&&u!==0)}for(;u!==0;){for(ro(e),e.lineIndent=0,u=e.input.charCodeAt(e.position);(!i||e.lineIndent<a)&&u===32;)e.lineIndent++,u=e.input.charCodeAt(++e.position);if(!i&&e.lineIndent>a&&(a=e.lineIndent),Fe(u)){l++;continue}if(e.lineIndent<a){n===vo?e.result+=ae.repeat(`
`,s?1+l:l):n===br&&s&&(e.result+=`
`);break}for(o?Je(u)?(c=!0,e.result+=ae.repeat(`
`,s?1+l:l)):c?(c=!1,e.result+=ae.repeat(`
`,l+1)):l===0?s&&(e.result+=" "):e.result+=ae.repeat(`
`,l):e.result+=ae.repeat(`
`,s?1+l:l),s=!0,i=!0,l=0,r=e.position;!Fe(u)&&u!==0;)u=e.input.charCodeAt(++e.position);Me(e,r,e.position,!1)}return!0}function wo(e,t){var r,o=e.tag,n=e.anchor,s=[],i,a=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,A(e,"tab characters must not be used in indentation")),!(l!==45||(i=e.input.charCodeAt(e.position+1),!be(i))));){if(a=!0,e.position++,se(e,!0,-1)&&e.lineIndent<=t){s.push(null),l=e.input.charCodeAt(e.position);continue}if(r=e.line,lt(e,t,_n,!1,!0),s.push(e.result),se(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&l!==0)A(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=o,e.anchor=n,e.kind="sequence",e.result=s,!0):!1}function va(e,t,r){var o,n,s,i,a,l,c=e.tag,d=e.anchor,u={},p=Object.create(null),f=null,g=null,h=null,v=!1,T=!1,E;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=u),E=e.input.charCodeAt(e.position);E!==0;){if(!v&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,A(e,"tab characters must not be used in indentation")),o=e.input.charCodeAt(e.position+1),s=e.line,(E===63||E===58)&&be(o))E===63?(v&&(st(e,u,p,f,g,null,i,a,l),f=g=h=null),T=!0,v=!0,n=!0):v?(v=!1,n=!0):A(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,E=o;else{if(i=e.line,a=e.lineStart,l=e.position,!lt(e,r,On,!1,!0))break;if(e.line===s){for(E=e.input.charCodeAt(e.position);Je(E);)E=e.input.charCodeAt(++e.position);if(E===58)E=e.input.charCodeAt(++e.position),be(E)||A(e,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(st(e,u,p,f,g,null,i,a,l),f=g=h=null),T=!0,v=!1,n=!1,f=e.tag,g=e.result;else if(T)A(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=d,!0}else if(T)A(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=d,!0}if((e.line===s||e.lineIndent>t)&&(v&&(i=e.line,a=e.lineStart,l=e.position),lt(e,t,Xt,!0,n)&&(v?g=e.result:h=e.result),v||(st(e,u,p,f,g,h,i,a,l),f=g=h=null),se(e,!0,-1),E=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&E!==0)A(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return v&&st(e,u,p,f,g,null,i,a,l),T&&(e.tag=c,e.anchor=d,e.kind="mapping",e.result=u),T}function ba(e){var t,r=!1,o=!1,n,s,i;if(i=e.input.charCodeAt(e.position),i!==33)return!1;if(e.tag!==null&&A(e,"duplication of a tag property"),i=e.input.charCodeAt(++e.position),i===60?(r=!0,i=e.input.charCodeAt(++e.position)):i===33?(o=!0,n="!!",i=e.input.charCodeAt(++e.position)):n="!",t=e.position,r){do i=e.input.charCodeAt(++e.position);while(i!==0&&i!==62);e.position<e.length?(s=e.input.slice(t,e.position),i=e.input.charCodeAt(++e.position)):A(e,"unexpected end of the stream within a verbatim tag")}else{for(;i!==0&&!be(i);)i===33&&(o?A(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),An.test(n)||A(e,"named tag handle cannot contain such characters"),o=!0,t=e.position+1)),i=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),ia.test(s)&&A(e,"tag suffix cannot contain flow indicator characters")}s&&!kn.test(s)&&A(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{A(e,"tag name is malformed: "+s)}return r?e.tag=s:Be.call(e.tagMap,n)?e.tag=e.tagMap[n]+s:n==="!"?e.tag="!"+s:n==="!!"?e.tag="tag:yaml.org,2002:"+s:A(e,'undeclared tag handle "'+n+'"'),!0}function ya(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&A(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!be(r)&&!nt(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&A(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Ea(e){var t,r,o;if(o=e.input.charCodeAt(e.position),o!==42)return!1;for(o=e.input.charCodeAt(++e.position),t=e.position;o!==0&&!be(o)&&!nt(o);)o=e.input.charCodeAt(++e.position);return e.position===t&&A(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),Be.call(e.anchorMap,r)||A(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],se(e,!0,-1),!0}function lt(e,t,r,o,n){var s,i,a,l=1,c=!1,d=!1,u,p,f,g,h,v;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=i=a=Xt===r||_n===r,o&&se(e,!0,-1)&&(c=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;ba(e)||ya(e);)se(e,!0,-1)?(c=!0,a=s,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):a=!1;if(a&&(a=c||n),(l===1||Xt===r)&&(qt===r||On===r?h=t:h=t+1,v=e.position-e.lineStart,l===1?a&&(wo(e,v)||va(e,v,h))||ga(e,h)?d=!0:(i&&ma(e,h)||fa(e,h)||ha(e,h)?d=!0:Ea(e)?(d=!0,(e.tag!==null||e.anchor!==null)&&A(e,"alias node should not have any properties")):pa(e,h,qt===r)&&(d=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(d=a&&wo(e,v))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&A(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),u=0,p=e.implicitTypes.length;u<p;u+=1)if(g=e.implicitTypes[u],g.resolve(e.result)){e.result=g.construct(e.result),e.tag=g.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Be.call(e.typeMap[e.kind||"fallback"],e.tag))g=e.typeMap[e.kind||"fallback"][e.tag];else for(g=null,f=e.typeMap.multi[e.kind||"fallback"],u=0,p=f.length;u<p;u+=1)if(e.tag.slice(0,f[u].tag.length)===f[u].tag){g=f[u];break}g||A(e,"unknown tag !<"+e.tag+">"),e.result!==null&&g.kind!==e.kind&&A(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+g.kind+'", not "'+e.kind+'"'),g.resolve(e.result,e.tag)?(e.result=g.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):A(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||d}function Ta(e){var t=e.position,r,o,n,s=!1,i;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(i=e.input.charCodeAt(e.position))!==0&&(se(e,!0,-1),i=e.input.charCodeAt(e.position),!(e.lineIndent>0||i!==37));){for(s=!0,i=e.input.charCodeAt(++e.position),r=e.position;i!==0&&!be(i);)i=e.input.charCodeAt(++e.position);for(o=e.input.slice(r,e.position),n=[],o.length<1&&A(e,"directive name must not be less than one character in length");i!==0;){for(;Je(i);)i=e.input.charCodeAt(++e.position);if(i===35){do i=e.input.charCodeAt(++e.position);while(i!==0&&!Fe(i));break}if(Fe(i))break;for(r=e.position;i!==0&&!be(i);)i=e.input.charCodeAt(++e.position);n.push(e.input.slice(r,e.position))}i!==0&&ro(e),Be.call(Eo,o)?Eo[o](e,o,n):Zt(e,'unknown document directive "'+o+'"')}if(se(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,se(e,!0,-1)):s&&A(e,"directives end mark is expected"),lt(e,e.lineIndent-1,Xt,!1,!0),se(e,!0,-1),e.checkLineBreaks&&sa.test(e.input.slice(t,e.position))&&Zt(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&lr(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,se(e,!0,-1));return}if(e.position<e.length-1)A(e,"end of the stream or a document separator is expected");else return}function Gn(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new da(e,t),o=e.indexOf("\0");for(o!==-1&&(r.position=o,A(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)Ta(r);return r.documents}function wa(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var o=Gn(e,r);if(typeof t!="function")return o;for(var n=0,s=o.length;n<s;n+=1)t(o[n])}function Ca(e,t){var r=Gn(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new ge("expected a single document in the stream, but found more")}}var xa=wa,Sa=Ca,Rn={loadAll:xa,load:Sa},Ln=Object.prototype.toString,In=Object.prototype.hasOwnProperty,no=65279,Oa=9,kt=10,_a=13,Aa=32,ka=33,Pa=34,Ir=35,Da=37,Fa=38,Ga=39,Ra=42,jn=44,La=45,Qt=58,Ia=61,ja=62,$a=63,Ua=64,$n=91,Un=93,Ma=96,Mn=123,Na=124,Nn=125,fe={};fe[0]="\\0";fe[7]="\\a";fe[8]="\\b";fe[9]="\\t";fe[10]="\\n";fe[11]="\\v";fe[12]="\\f";fe[13]="\\r";fe[27]="\\e";fe[34]='\\"';fe[92]="\\\\";fe[133]="\\N";fe[160]="\\_";fe[8232]="\\L";fe[8233]="\\P";var Ba=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Ha=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function za(e,t){var r,o,n,s,i,a,l;if(t===null)return{};for(r={},o=Object.keys(t),n=0,s=o.length;n<s;n+=1)i=o[n],a=String(t[i]),i.slice(0,2)==="!!"&&(i="tag:yaml.org,2002:"+i.slice(2)),l=e.compiledTypeMap.fallback[i],l&&In.call(l.styleAliases,a)&&(a=l.styleAliases[a]),r[i]=a;return r}function Wa(e){var t,r,o;if(t=e.toString(16).toUpperCase(),e<=255)r="x",o=2;else if(e<=65535)r="u",o=4;else if(e<=4294967295)r="U",o=8;else throw new ge("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+ae.repeat("0",o-t.length)+t}var Va=1,Pt=2;function Ya(e){this.schema=e.schema||to,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=ae.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=za(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Pt:Va,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Co(e,t){for(var r=ae.repeat(" ",t),o=0,n=-1,s="",i,a=e.length;o<a;)n=e.indexOf(`
`,o),n===-1?(i=e.slice(o),o=a):(i=e.slice(o,n+1),o=n+1),i.length&&i!==`
`&&(s+=r),s+=i;return s}function jr(e,t){return`
`+ae.repeat(" ",e.indent*t)}function Ka(e,t){var r,o,n;for(r=0,o=e.implicitTypes.length;r<o;r+=1)if(n=e.implicitTypes[r],n.resolve(t))return!0;return!1}function er(e){return e===Aa||e===Oa}function Dt(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==no||65536<=e&&e<=1114111}function xo(e){return Dt(e)&&e!==no&&e!==_a&&e!==kt}function So(e,t,r){var o=xo(e),n=o&&!er(e);return(r?o:o&&e!==jn&&e!==$n&&e!==Un&&e!==Mn&&e!==Nn)&&e!==Ir&&!(t===Qt&&!n)||xo(t)&&!er(t)&&e===Ir||t===Qt&&n}function Ja(e){return Dt(e)&&e!==no&&!er(e)&&e!==La&&e!==$a&&e!==Qt&&e!==jn&&e!==$n&&e!==Un&&e!==Mn&&e!==Nn&&e!==Ir&&e!==Fa&&e!==Ra&&e!==ka&&e!==Na&&e!==Ia&&e!==ja&&e!==Ga&&e!==Pa&&e!==Da&&e!==Ua&&e!==Ma}function qa(e){return!er(e)&&e!==Qt}function vt(e,t){var r=e.charCodeAt(t),o;return r>=55296&&r<=56319&&t+1<e.length&&(o=e.charCodeAt(t+1),o>=56320&&o<=57343)?(r-55296)*1024+o-56320+65536:r}function Bn(e){var t=/^\n* /;return t.test(e)}var Hn=1,$r=2,zn=3,Wn=4,rt=5;function Xa(e,t,r,o,n,s,i,a){var l,c=0,d=null,u=!1,p=!1,f=o!==-1,g=-1,h=Ja(vt(e,0))&&qa(vt(e,e.length-1));if(t||i)for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=vt(e,l),!Dt(c))return rt;h=h&&So(c,d,a),d=c}else{for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=vt(e,l),c===kt)u=!0,f&&(p=p||l-g-1>o&&e[g+1]!==" ",g=l);else if(!Dt(c))return rt;h=h&&So(c,d,a),d=c}p=p||f&&l-g-1>o&&e[g+1]!==" "}return!u&&!p?h&&!i&&!n(e)?Hn:s===Pt?rt:$r:r>9&&Bn(e)?rt:i?s===Pt?rt:$r:p?Wn:zn}function Za(e,t,r,o,n){e.dump=function(){if(t.length===0)return e.quotingType===Pt?'""':"''";if(!e.noCompatMode&&(Ba.indexOf(t)!==-1||Ha.test(t)))return e.quotingType===Pt?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),i=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),a=o||e.flowLevel>-1&&r>=e.flowLevel;function l(c){return Ka(e,c)}switch(Xa(t,a,e.indent,i,l,e.quotingType,e.forceQuotes&&!o,n)){case Hn:return t;case $r:return"'"+t.replace(/'/g,"''")+"'";case zn:return"|"+Oo(t,e.indent)+_o(Co(t,s));case Wn:return">"+Oo(t,e.indent)+_o(Co(Qa(t,i),s));case rt:return'"'+el(t)+'"';default:throw new ge("impossible error: invalid scalar style")}}()}function Oo(e,t){var r=Bn(e)?String(t):"",o=e[e.length-1]===`
`,n=o&&(e[e.length-2]===`
`||e===`
`),s=n?"+":o?"":"-";return r+s+`
`}function _o(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function Qa(e,t){for(var r=/(\n+)([^\n]*)/g,o=function(){var c=e.indexOf(`
`);return c=c!==-1?c:e.length,r.lastIndex=c,Ao(e.slice(0,c),t)}(),n=e[0]===`
`||e[0]===" ",s,i;i=r.exec(e);){var a=i[1],l=i[2];s=l[0]===" ",o+=a+(!n&&!s&&l!==""?`
`:"")+Ao(l,t),n=s}return o}function Ao(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,o,n=0,s,i=0,a=0,l="";o=r.exec(e);)a=o.index,a-n>t&&(s=i>n?i:a,l+=`
`+e.slice(n,s),n=s+1),i=a;return l+=`
`,e.length-n>t&&i>n?l+=e.slice(n,i)+`
`+e.slice(i+1):l+=e.slice(n),l.slice(1)}function el(e){for(var t="",r=0,o,n=0;n<e.length;r>=65536?n+=2:n++)r=vt(e,n),o=fe[r],!o&&Dt(r)?(t+=e[n],r>=65536&&(t+=e[n+1])):t+=o||Wa(r);return t}function tl(e,t,r){var o="",n=e.tag,s,i,a;for(s=0,i=r.length;s<i;s+=1)a=r[s],e.replacer&&(a=e.replacer.call(r,String(s),a)),(Le(e,t,a,!1,!1)||typeof a>"u"&&Le(e,t,null,!1,!1))&&(o!==""&&(o+=","+(e.condenseFlow?"":" ")),o+=e.dump);e.tag=n,e.dump="["+o+"]"}function ko(e,t,r,o){var n="",s=e.tag,i,a,l;for(i=0,a=r.length;i<a;i+=1)l=r[i],e.replacer&&(l=e.replacer.call(r,String(i),l)),(Le(e,t+1,l,!0,!0,!1,!0)||typeof l>"u"&&Le(e,t+1,null,!0,!0,!1,!0))&&((!o||n!=="")&&(n+=jr(e,t)),e.dump&&kt===e.dump.charCodeAt(0)?n+="-":n+="- ",n+=e.dump);e.tag=s,e.dump=n||"[]"}function rl(e,t,r){var o="",n=e.tag,s=Object.keys(r),i,a,l,c,d;for(i=0,a=s.length;i<a;i+=1)d="",o!==""&&(d+=", "),e.condenseFlow&&(d+='"'),l=s[i],c=r[l],e.replacer&&(c=e.replacer.call(r,l,c)),Le(e,t,l,!1,!1)&&(e.dump.length>1024&&(d+="? "),d+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Le(e,t,c,!1,!1)&&(d+=e.dump,o+=d));e.tag=n,e.dump="{"+o+"}"}function ol(e,t,r,o){var n="",s=e.tag,i=Object.keys(r),a,l,c,d,u,p;if(e.sortKeys===!0)i.sort();else if(typeof e.sortKeys=="function")i.sort(e.sortKeys);else if(e.sortKeys)throw new ge("sortKeys must be a boolean or a function");for(a=0,l=i.length;a<l;a+=1)p="",(!o||n!=="")&&(p+=jr(e,t)),c=i[a],d=r[c],e.replacer&&(d=e.replacer.call(r,c,d)),Le(e,t+1,c,!0,!0,!0)&&(u=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,u&&(e.dump&&kt===e.dump.charCodeAt(0)?p+="?":p+="? "),p+=e.dump,u&&(p+=jr(e,t)),Le(e,t+1,d,!0,u)&&(e.dump&&kt===e.dump.charCodeAt(0)?p+=":":p+=": ",p+=e.dump,n+=p));e.tag=s,e.dump=n||"{}"}function Po(e,t,r){var o,n,s,i,a,l;for(n=r?e.explicitTypes:e.implicitTypes,s=0,i=n.length;s<i;s+=1)if(a=n[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(l=e.styleMap[a.tag]||a.defaultStyle,Ln.call(a.represent)==="[object Function]")o=a.represent(t,l);else if(In.call(a.represent,l))o=a.represent[l](t,l);else throw new ge("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');e.dump=o}return!0}return!1}function Le(e,t,r,o,n,s,i){e.tag=null,e.dump=r,Po(e,r,!1)||Po(e,r,!0);var a=Ln.call(e.dump),l=o,c;o&&(o=e.flowLevel<0||e.flowLevel>t);var d=a==="[object Object]"||a==="[object Array]",u,p;if(d&&(u=e.duplicates.indexOf(r),p=u!==-1),(e.tag!==null&&e.tag!=="?"||p||e.indent!==2&&t>0)&&(n=!1),p&&e.usedDuplicates[u])e.dump="*ref_"+u;else{if(d&&p&&!e.usedDuplicates[u]&&(e.usedDuplicates[u]=!0),a==="[object Object]")o&&Object.keys(e.dump).length!==0?(ol(e,t,e.dump,n),p&&(e.dump="&ref_"+u+e.dump)):(rl(e,t,e.dump),p&&(e.dump="&ref_"+u+" "+e.dump));else if(a==="[object Array]")o&&e.dump.length!==0?(e.noArrayIndent&&!i&&t>0?ko(e,t-1,e.dump,n):ko(e,t,e.dump,n),p&&(e.dump="&ref_"+u+e.dump)):(tl(e,t,e.dump),p&&(e.dump="&ref_"+u+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&Za(e,e.dump,t,s,l);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new ge("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}function nl(e,t){var r=[],o=[],n,s;for(Ur(e,r,o),n=0,s=o.length;n<s;n+=1)t.duplicates.push(r[o[n]]);t.usedDuplicates=new Array(s)}function Ur(e,t,r){var o,n,s;if(e!==null&&typeof e=="object")if(n=t.indexOf(e),n!==-1)r.indexOf(n)===-1&&r.push(n);else if(t.push(e),Array.isArray(e))for(n=0,s=e.length;n<s;n+=1)Ur(e[n],t,r);else for(o=Object.keys(e),n=0,s=o.length;n<s;n+=1)Ur(e[o[n]],t,r)}function sl(e,t){t=t||{};var r=new Ya(t);r.noRefs||nl(e,r);var o=e;return r.replacer&&(o=r.replacer.call({"":o},"",o)),Le(r,0,o,!0,!0)?r.dump+`
`:""}var il=sl,al={dump:il};function so(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var ll=ce,cl=an,ul=dn,dl=mn,pl=vn,fl=to,hl=Rn.load,gl=Rn.loadAll,ml=al.dump,vl=ge,bl={binary:wn,float:gn,map:un,null:pn,pairs:xn,set:Sn,timestamp:En,bool:fn,int:hn,merge:Tn,omap:Cn,seq:cn,str:ln},yl=so("safeLoad","load"),El=so("safeLoadAll","loadAll"),Tl=so("safeDump","dump"),Mr={Type:ll,Schema:cl,FAILSAFE_SCHEMA:ul,JSON_SCHEMA:dl,CORE_SCHEMA:pl,DEFAULT_SCHEMA:fl,load:hl,loadAll:gl,dump:ml,YAMLException:vl,types:bl,safeLoad:yl,safeLoadAll:El,safeDump:Tl};function wl({viewId:e=0,layers:t=[],screenshot:r=0,cbTooltip:o=null,cbError:n=null}){const[s,i]=gr.useState(ve.state.viewState),[a,l]=gr.useState(r),c=gr.useRef();Ve[e]=()=>{i(ve.state.viewState)};function d(h){h.latitude&&(h.center=[h.longitude,h.latitude],i(h),ve.commit("setMapCamera",h))}function u(){console.log("click!")}function p({object:h,index:v}){o&&o(v,h)}const f=t.map(h=>{try{return h.deckLayer()}catch(v){n&&n(v)}}).reverse(),g=go.createElement(Ls,{layers:f,viewState:s,controller:!0,pickingRadius:4,getTooltip:p,onClick:u,onViewStateChange:h=>d(h.viewState),getCursor:({isDragging:h,isHovering:v})=>h?"grabbing":v?"pointer":"grab",onAfterRender:async()=>{var h;r>a&&(await js.savePNG(g.props.layers[0],(h=c==null?void 0:c.current)==null?void 0:h.getMap()._canvas),l(r))}},go.createElement(Is,{mapStyle:ve.getters.mapStyle,mapboxApiAccessToken:Ds}));return g}const Cl=ke({name:"AddDataModal",components:{FileSelector:Bs},props:{},data(){return{validDataTypes:["CSV","TSV","TAB","TXT","DBF","GZ","DAT","SHP","GeoJSON"],validRegex:/\.(CSV|TSV|TAB|TXT|DBF|DAT|SHP|GEOJSON)(\.GZ)?$/,fileChoice:"",filesInFolder:[],isLoading:!1}},computed:{},watch:{},methods:{async processBuffer(e,t){return new Promise((r,o)=>{const n=new Hs;try{n.postMessage({config:{dataset:e},buffer:t},[t]),n.onmessage=s=>{n.terminate(),r(s.data)}}catch(s){n.terminate(),o(s)}})},async loadDataUrl(e){return await new Promise(r=>{const o=new FileReader;o.readAsArrayBuffer(e),o.onload=n=>{const s=n.target.result,i=Vs(s);r(i)}})},handleFilesValidated(e,t){console.log("Validated result",e)},async handleFilesChanged(e){console.log("FILES!",e),this.isLoading=!0;const t=Array.from(e);for(const r of t){let o=await this.loadDataUrl(r);const n=o.buffer||o;if(r.name.toLocaleLowerCase().endsWith(".shp")){const s=await this.loadShapefile(r,n);this.$emit("update",{geojson:s,file:r});continue}else if(r.name.toLocaleLowerCase().indexOf("network.xml")>-1){const s=await this.loadMatsimXML(r,n);this.$emit("update",{geojson:s,file:r});continue}else if(r.name.toLocaleLowerCase().indexOf(".geojson")>-1){await this.loadGeoJSON(r,n);continue}else{await this.loadCSV(r,n);continue}}this.isLoading=!1},async loadShapefile(e,t){console.log("shapefile",e.name);try{const r=new Blob([t],{type:"application/octet-stream"});let o=await Us(t);console.log("hello",o),o.features=o.features.filter(s=>!!s.geometry);let n=prompt("Enter EPSG code","");return n&&Number.isFinite(parseInt(n))&&(n=`EPSG:${n}`),n&&(o=Ms.toWgs84(o,"EPSG:2227")),o}catch(r){return console.error(r),this.$emit("error",""+r),[]}},async loadMatsimXML(e,t){return console.log("LOAD MATSIM XML"),new Promise((r,o)=>{const n=new Ws;try{n.onmessage=s=>{if(s.data.status){console.log("status: ",""+s.data.status);return}n.terminate();const i=[],a=s.data.links,l=a.linkIds.length;for(let d=0;d<l;d++){const u=d*2,p={id:a.linkIds[d],properties:{id:a.linkIds[d]},geometry:{type:"LineString",coordinates:[[a.source[u],a.source[u+1]],[a.dest[u],a.dest[u+1]]]}};i.push(p)}r({type:"FeatureCollection",features:i})},n.postMessage({xmlBuffer:t,config:{dataset:e}},[t])}catch(s){n.terminate(),o(s)}})},async loadGeoJSON(e,t){console.log("GOT GEOJSON");const r=new TextDecoder().decode(new Uint8Array(t)),o=JSON.parse(r);console.log({geojson:o}),this.$emit("update",{geojson:o,file:e})},async loadCSV(e,t){const r=await this.processBuffer(e.name,t),{comments:o,...n}=r;let s=e.name;const i=this.validRegex.exec(s.toLocaleUpperCase());i&&i[0]&&(s=s.substring(0,s.length-i[0].length));const a={key:s,dataTable:n,filename:e};this.$emit("update",{dataset:a})},keyListener(e){e.keyCode===27&&this.$emit("close")}},async mounted(){window.addEventListener("keyup",this.keyListener)},beforeDestroy(){window.removeEventListener("keyup",this.keyListener)}});var xl=function(){var t=this,r=t._self._c;return t._self._setupProxy,r("div",{staticClass:"add-data-modal fade-in"},[r("div",{staticClass:"modal-content"},[r("h1",{staticClass:"blue"},[t._v("Add Data To Map"),r("p",{staticClass:"close-button",on:{click:function(o){return t.$emit("close")}}},[r("i",{staticClass:"fas fa-times"})])]),r("hr"),r("file-selector",{staticClass:"zz",attrs:{"accept-extensions":t.validDataTypes.map(o=>`.${o}`).join(","),multiple:!0,"is-loading":t.isLoading},on:{validated:t.handleFilesValidated,changed:t.handleFilesChanged}},[r("br"),t._v("or "),r("a",[r("b",[t._v("browse your files")])]),r("div",{staticClass:"section-top",attrs:{slot:"top"},slot:"top"},[r("div",{staticClass:"drag-target center"},[r("p",{staticClass:"dl-icon"},[r("i",{staticClass:"fas fa-download"})]),r("p",{staticClass:"ddfiles"},[t._v("Drag & Drop Your File(s) Here")]),r("br"),r("p",{staticClass:"spacing"},[t._v("Supported file types: "),r("b",[t._v(t._s(t.validDataTypes.join(", ")))])]),r("p",[t._v("No size limit, but large datasets could crash your browser :-)")])])]),r("div",{staticClass:"section-bottom",attrs:{slot:"loader"},slot:"loader"},[r("p",[t._v("Processing files"),r("br")]),r("p",[t._v("please wait...")])])]),t._m(0),r("hr"),r("p",{staticClass:"disclaimer"},[t._v("SimWrapper is a client-side application with no server backend. Data lives only on your machine/browser. No information or map data is sent to any server.")])],1)])},Sl=[function(){var e=this,t=e._self._c;return e._self._setupProxy,t("p",{staticClass:"center"},[t("input",{staticStyle:{display:"none"},attrs:{name:"dataBrowser",id:"dataBrowser",type:"file"}})])}];var Ol=Pe(Cl,xl,Sl,!1,null,"da210521",null,null);const _l=Ol.exports;var Vn={exports:{}};/**!
 * Sortable 1.10.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Bt(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bt=function(t){return typeof t}:Bt=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bt(e)}function Al(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Se(){return Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Se.apply(this,arguments)}function He(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},o=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),o.forEach(function(n){Al(e,n,r[n])})}return e}function kl(e,t){if(e==null)return{};var r={},o=Object.keys(e),n,s;for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function Pl(e,t){if(e==null)return{};var r=kl(e,t),o,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)o=s[n],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function Dl(e){return Fl(e)||Gl(e)||Rl()}function Fl(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function Gl(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function Rl(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var Ll="1.10.2";function Re(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var Ie=Re(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ft=Re(/Edge/i),Do=Re(/firefox/i),Nr=Re(/safari/i)&&!Re(/chrome/i)&&!Re(/android/i),Yn=Re(/iP(ad|od|hone)/i),Il=Re(/chrome/i)&&Re(/android/i),Kn={capture:!1,passive:!1};function M(e,t,r){e.addEventListener(t,r,!Ie&&Kn)}function $(e,t,r){e.removeEventListener(t,r,!Ie&&Kn)}function tr(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function jl(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Ae(e,t,r,o){if(e){r=r||document;do{if(t!=null&&(t[0]===">"?e.parentNode===r&&tr(e,t):tr(e,t))||o&&e===r)return e;if(e===r)break}while(e=jl(e))}return null}var Fo=/\s+/g;function J(e,t,r){if(e&&t)if(e.classList)e.classList[r?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(Fo," ").replace(" "+t+" "," ");e.className=(o+(r?" "+t:"")).replace(Fo," ")}}function O(e,t,r){var o=e&&e.style;if(o){if(r===void 0)return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(r=e.currentStyle),t===void 0?r:r[t];!(t in o)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),o[t]=r+(typeof r=="string"?"":"px")}}function qe(e,t){var r="";if(typeof e=="string")r=e;else do{var o=O(e,"transform");o&&o!=="none"&&(r=o+" "+r)}while(!t&&(e=e.parentNode));var n=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return n&&new n(r)}function Jn(e,t,r){if(e){var o=e.getElementsByTagName(t),n=0,s=o.length;if(r)for(;n<s;n++)r(o[n],n);return o}return[]}function Ge(){var e=document.scrollingElement;return e||document.documentElement}function Q(e,t,r,o,n){if(!(!e.getBoundingClientRect&&e!==window)){var s,i,a,l,c,d,u;if(e!==window&&e!==Ge()?(s=e.getBoundingClientRect(),i=s.top,a=s.left,l=s.bottom,c=s.right,d=s.height,u=s.width):(i=0,a=0,l=window.innerHeight,c=window.innerWidth,d=window.innerHeight,u=window.innerWidth),(t||r)&&e!==window&&(n=n||e.parentNode,!Ie))do if(n&&n.getBoundingClientRect&&(O(n,"transform")!=="none"||r&&O(n,"position")!=="static")){var p=n.getBoundingClientRect();i-=p.top+parseInt(O(n,"border-top-width")),a-=p.left+parseInt(O(n,"border-left-width")),l=i+s.height,c=a+s.width;break}while(n=n.parentNode);if(o&&e!==window){var f=qe(n||e),g=f&&f.a,h=f&&f.d;f&&(i/=h,a/=g,u/=g,d/=h,l=i+d,c=a+u)}return{top:i,left:a,bottom:l,right:c,width:u,height:d}}}function Go(e,t,r){for(var o=Ue(e,!0),n=Q(e)[t];o;){var s=Q(o)[r],i=void 0;if(r==="top"||r==="left"?i=n>=s:i=n<=s,!i)return o;if(o===Ge())break;o=Ue(o,!1)}return!1}function rr(e,t,r){for(var o=0,n=0,s=e.children;n<s.length;){if(s[n].style.display!=="none"&&s[n]!==D.ghost&&s[n]!==D.dragged&&Ae(s[n],r.draggable,e,!1)){if(o===t)return s[n];o++}n++}return null}function io(e,t){for(var r=e.lastElementChild;r&&(r===D.ghost||O(r,"display")==="none"||t&&!tr(r,t));)r=r.previousElementSibling;return r||null}function Z(e,t){var r=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==D.clone&&(!t||tr(e,t))&&r++;return r}function Ro(e){var t=0,r=0,o=Ge();if(e)do{var n=qe(e),s=n.a,i=n.d;t+=e.scrollLeft*s,r+=e.scrollTop*i}while(e!==o&&(e=e.parentNode));return[t,r]}function $l(e,t){for(var r in e)if(e.hasOwnProperty(r)){for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[r][o])return Number(r)}return-1}function Ue(e,t){if(!e||!e.getBoundingClientRect)return Ge();var r=e,o=!1;do if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var n=O(r);if(r.clientWidth<r.scrollWidth&&(n.overflowX=="auto"||n.overflowX=="scroll")||r.clientHeight<r.scrollHeight&&(n.overflowY=="auto"||n.overflowY=="scroll")){if(!r.getBoundingClientRect||r===document.body)return Ge();if(o||t)return r;o=!0}}while(r=r.parentNode);return Ge()}function Ul(e,t){if(e&&t)for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function yr(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Ct;function qn(e,t){return function(){if(!Ct){var r=arguments,o=this;r.length===1?e.call(o,r[0]):e.apply(o,r),Ct=setTimeout(function(){Ct=void 0},t)}}}function Ml(){clearTimeout(Ct),Ct=void 0}function Xn(e,t,r){e.scrollLeft+=t,e.scrollTop+=r}function ao(e){var t=window.Polymer,r=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):r?r(e).clone(!0)[0]:e.cloneNode(!0)}function Lo(e,t){O(e,"position","absolute"),O(e,"top",t.top),O(e,"left",t.left),O(e,"width",t.width),O(e,"height",t.height)}function Er(e){O(e,"position",""),O(e,"top",""),O(e,"left",""),O(e,"width",""),O(e,"height","")}var pe="Sortable"+new Date().getTime();function Nl(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(n){if(!(O(n,"display")==="none"||n===D.ghost)){e.push({target:n,rect:Q(n)});var s=He({},e[e.length-1].rect);if(n.thisAnimationDuration){var i=qe(n,!0);i&&(s.top-=i.f,s.left-=i.e)}n.fromRect=s}})}},addAnimationState:function(o){e.push(o)},removeAnimationState:function(o){e.splice($l(e,{target:o}),1)},animateAll:function(o){var n=this;if(!this.options.animation){clearTimeout(t),typeof o=="function"&&o();return}var s=!1,i=0;e.forEach(function(a){var l=0,c=a.target,d=c.fromRect,u=Q(c),p=c.prevFromRect,f=c.prevToRect,g=a.rect,h=qe(c,!0);h&&(u.top-=h.f,u.left-=h.e),c.toRect=u,c.thisAnimationDuration&&yr(p,u)&&!yr(d,u)&&(g.top-u.top)/(g.left-u.left)===(d.top-u.top)/(d.left-u.left)&&(l=Hl(g,p,f,n.options)),yr(u,d)||(c.prevFromRect=d,c.prevToRect=u,l||(l=n.options.animation),n.animate(c,g,u,l)),l&&(s=!0,i=Math.max(i,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(t),s?t=setTimeout(function(){typeof o=="function"&&o()},i):typeof o=="function"&&o(),e=[]},animate:function(o,n,s,i){if(i){O(o,"transition",""),O(o,"transform","");var a=qe(this.el),l=a&&a.a,c=a&&a.d,d=(n.left-s.left)/(l||1),u=(n.top-s.top)/(c||1);o.animatingX=!!d,o.animatingY=!!u,O(o,"transform","translate3d("+d+"px,"+u+"px,0)"),Bl(o),O(o,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),O(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){O(o,"transition",""),O(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},i)}}}}function Bl(e){return e.offsetWidth}function Hl(e,t,r,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-r.top,2)+Math.pow(t.left-r.left,2))*o.animation}var dt=[],Tr={initializeByDefault:!0},Gt={mount:function(t){for(var r in Tr)Tr.hasOwnProperty(r)&&!(r in t)&&(t[r]=Tr[r]);dt.push(t)},pluginEvent:function(t,r,o){var n=this;this.eventCanceled=!1,o.cancel=function(){n.eventCanceled=!0};var s=t+"Global";dt.forEach(function(i){r[i.pluginName]&&(r[i.pluginName][s]&&r[i.pluginName][s](He({sortable:r},o)),r.options[i.pluginName]&&r[i.pluginName][t]&&r[i.pluginName][t](He({sortable:r},o)))})},initializePlugins:function(t,r,o,n){dt.forEach(function(a){var l=a.pluginName;if(!(!t.options[l]&&!a.initializeByDefault)){var c=new a(t,r,t.options);c.sortable=t,c.options=t.options,t[l]=c,Se(o,c.defaults)}});for(var s in t.options)if(t.options.hasOwnProperty(s)){var i=this.modifyOption(t,s,t.options[s]);typeof i<"u"&&(t.options[s]=i)}},getEventProperties:function(t,r){var o={};return dt.forEach(function(n){typeof n.eventProperties=="function"&&Se(o,n.eventProperties.call(r[n.pluginName],t))}),o},modifyOption:function(t,r,o){var n;return dt.forEach(function(s){t[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[r]=="function"&&(n=s.optionListeners[r].call(t[s.pluginName],o))}),n}};function bt(e){var t=e.sortable,r=e.rootEl,o=e.name,n=e.targetEl,s=e.cloneEl,i=e.toEl,a=e.fromEl,l=e.oldIndex,c=e.newIndex,d=e.oldDraggableIndex,u=e.newDraggableIndex,p=e.originalEvent,f=e.putSortable,g=e.extraEventProperties;if(t=t||r&&r[pe],!!t){var h,v=t.options,T="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!Ie&&!Ft?h=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(h=document.createEvent("Event"),h.initEvent(o,!0,!0)),h.to=i||r,h.from=a||r,h.item=n||r,h.clone=s,h.oldIndex=l,h.newIndex=c,h.oldDraggableIndex=d,h.newDraggableIndex=u,h.originalEvent=p,h.pullMode=f?f.lastPutMode:void 0;var E=He({},g,Gt.getEventProperties(o,t));for(var S in E)h[S]=E[S];r&&r.dispatchEvent(h),v[T]&&v[T].call(t,h)}}var me=function(t,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=o.evt,s=Pl(o,["evt"]);Gt.pluginEvent.bind(D)(t,r,He({dragEl:w,parentEl:oe,ghostEl:L,rootEl:K,nextEl:Ye,lastDownEl:Ht,cloneEl:X,cloneHidden:$e,dragStarted:yt,putSortable:le,activeSortable:D.active,originalEvent:n,oldIndex:it,oldDraggableIndex:xt,newIndex:we,newDraggableIndex:je,hideGhostForTarget:ts,unhideGhostForTarget:rs,cloneNowHidden:function(){$e=!0},cloneNowShown:function(){$e=!1},dispatchSortableEvent:function(a){he({sortable:r,name:a,originalEvent:n})}},s))};function he(e){bt(He({putSortable:le,cloneEl:X,targetEl:w,rootEl:K,oldIndex:it,oldDraggableIndex:xt,newIndex:we,newDraggableIndex:je},e))}var w,oe,L,K,Ye,Ht,X,$e,it,we,xt,je,It,le,ot=!1,or=!1,nr=[],ze,Oe,wr,Cr,Io,jo,yt,Qe,St,Ot=!1,jt=!1,zt,de,xr=[],Br=!1,sr=[],cr=typeof document<"u",$t=Yn,$o=Ft||Ie?"cssFloat":"float",zl=cr&&!Il&&!Yn&&"draggable"in document.createElement("div"),Zn=function(){if(cr){if(Ie)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Qn=function(t,r){var o=O(t),n=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),s=rr(t,0,r),i=rr(t,1,r),a=s&&O(s),l=i&&O(i),c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Q(s).width,d=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Q(i).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&a.float&&a.float!=="none"){var u=a.float==="left"?"left":"right";return i&&(l.clear==="both"||l.clear===u)?"vertical":"horizontal"}return s&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||c>=n&&o[$o]==="none"||i&&o[$o]==="none"&&c+d>n)?"vertical":"horizontal"},Wl=function(t,r,o){var n=o?t.left:t.top,s=o?t.right:t.bottom,i=o?t.width:t.height,a=o?r.left:r.top,l=o?r.right:r.bottom,c=o?r.width:r.height;return n===a||s===l||n+i/2===a+c/2},Vl=function(t,r){var o;return nr.some(function(n){if(!io(n)){var s=Q(n),i=n[pe].options.emptyInsertThreshold,a=t>=s.left-i&&t<=s.right+i,l=r>=s.top-i&&r<=s.bottom+i;if(i&&a&&l)return o=n}}),o},es=function(t){function r(s,i){return function(a,l,c,d){var u=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(s==null&&(i||u))return!0;if(s==null||s===!1)return!1;if(i&&s==="clone")return s;if(typeof s=="function")return r(s(a,l,c,d),i)(a,l,c,d);var p=(i?a:l).options.group.name;return s===!0||typeof s=="string"&&s===p||s.join&&s.indexOf(p)>-1}}var o={},n=t.group;(!n||Bt(n)!="object")&&(n={name:n}),o.name=n.name,o.checkPull=r(n.pull,!0),o.checkPut=r(n.put),o.revertClone=n.revertClone,t.group=o},ts=function(){!Zn&&L&&O(L,"display","none")},rs=function(){!Zn&&L&&O(L,"display","")};cr&&document.addEventListener("click",function(e){if(or)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),or=!1,!1},!0);var We=function(t){if(w){t=t.touches?t.touches[0]:t;var r=Vl(t.clientX,t.clientY);if(r){var o={};for(var n in t)t.hasOwnProperty(n)&&(o[n]=t[n]);o.target=o.rootEl=r,o.preventDefault=void 0,o.stopPropagation=void 0,r[pe]._onDragOver(o)}}},Yl=function(t){w&&w.parentNode[pe]._isOutsideThisEl(t.target)};function D(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Se({},t),e[pe]=this;var r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Qn(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(i,a){i.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:D.supportPointer!==!1&&"PointerEvent"in window,emptyInsertThreshold:5};Gt.initializePlugins(this,e,r);for(var o in r)!(o in t)&&(t[o]=r[o]);es(t);for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));this.nativeDraggable=t.forceFallback?!1:zl,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?M(e,"pointerdown",this._onTapStart):(M(e,"mousedown",this._onTapStart),M(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(M(e,"dragover",this),M(e,"dragenter",this)),nr.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Se(this,Nl())}D.prototype={constructor:D,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Qe=null)},_getDirection:function(t,r){return typeof this.options.direction=="function"?this.options.direction.call(this,t,r,w):this.options.direction},_onTapStart:function(t){if(t.cancelable){var r=this,o=this.el,n=this.options,s=n.preventOnFilter,i=t.type,a=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,l=(a||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,d=n.filter;if(ec(o),!w&&!(/mousedown|pointerdown/.test(i)&&t.button!==0||n.disabled)&&!c.isContentEditable&&(l=Ae(l,n.draggable,o,!1),!(l&&l.animated)&&Ht!==l)){if(it=Z(l),xt=Z(l,n.draggable),typeof d=="function"){if(d.call(this,t,l,this)){he({sortable:r,rootEl:c,name:"filter",targetEl:l,toEl:o,fromEl:o}),me("filter",r,{evt:t}),s&&t.cancelable&&t.preventDefault();return}}else if(d&&(d=d.split(",").some(function(u){if(u=Ae(c,u.trim(),o,!1),u)return he({sortable:r,rootEl:u,name:"filter",targetEl:l,fromEl:o,toEl:o}),me("filter",r,{evt:t}),!0}),d)){s&&t.cancelable&&t.preventDefault();return}n.handle&&!Ae(c,n.handle,o,!1)||this._prepareDragStart(t,a,l)}}},_prepareDragStart:function(t,r,o){var n=this,s=n.el,i=n.options,a=s.ownerDocument,l;if(o&&!w&&o.parentNode===s){var c=Q(o);if(K=s,w=o,oe=w.parentNode,Ye=w.nextSibling,Ht=o,It=i.group,D.dragged=w,ze={target:w,clientX:(r||t).clientX,clientY:(r||t).clientY},Io=ze.clientX-c.left,jo=ze.clientY-c.top,this._lastX=(r||t).clientX,this._lastY=(r||t).clientY,w.style["will-change"]="all",l=function(){if(me("delayEnded",n,{evt:t}),D.eventCanceled){n._onDrop();return}n._disableDelayedDragEvents(),!Do&&n.nativeDraggable&&(w.draggable=!0),n._triggerDragStart(t,r),he({sortable:n,name:"choose",originalEvent:t}),J(w,i.chosenClass,!0)},i.ignore.split(",").forEach(function(d){Jn(w,d.trim(),Or)}),M(a,"dragover",We),M(a,"mousemove",We),M(a,"touchmove",We),M(a,"mouseup",n._onDrop),M(a,"touchend",n._onDrop),M(a,"touchcancel",n._onDrop),Do&&this.nativeDraggable&&(this.options.touchStartThreshold=4,w.draggable=!0),me("delayStart",this,{evt:t}),i.delay&&(!i.delayOnTouchOnly||r)&&(!this.nativeDraggable||!(Ft||Ie))){if(D.eventCanceled){this._onDrop();return}M(a,"mouseup",n._disableDelayedDrag),M(a,"touchend",n._disableDelayedDrag),M(a,"touchcancel",n._disableDelayedDrag),M(a,"mousemove",n._delayedDragTouchMoveHandler),M(a,"touchmove",n._delayedDragTouchMoveHandler),i.supportPointer&&M(a,"pointermove",n._delayedDragTouchMoveHandler),n._dragStartTimer=setTimeout(l,i.delay)}else l()}},_delayedDragTouchMoveHandler:function(t){var r=t.touches?t.touches[0]:t;Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){w&&Or(w),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;$(t,"mouseup",this._disableDelayedDrag),$(t,"touchend",this._disableDelayedDrag),$(t,"touchcancel",this._disableDelayedDrag),$(t,"mousemove",this._delayedDragTouchMoveHandler),$(t,"touchmove",this._delayedDragTouchMoveHandler),$(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,r){r=r||t.pointerType=="touch"&&t,!this.nativeDraggable||r?this.options.supportPointer?M(document,"pointermove",this._onTouchMove):r?M(document,"touchmove",this._onTouchMove):M(document,"mousemove",this._onTouchMove):(M(w,"dragend",this),M(K,"dragstart",this._onDragStart));try{document.selection?Wt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,r){if(ot=!1,K&&w){me("dragStarted",this,{evt:r}),this.nativeDraggable&&M(document,"dragover",Yl);var o=this.options;!t&&J(w,o.dragClass,!1),J(w,o.ghostClass,!0),D.active=this,t&&this._appendGhost(),he({sortable:this,name:"start",originalEvent:r})}else this._nulling()},_emulateDragOver:function(){if(Oe){this._lastX=Oe.clientX,this._lastY=Oe.clientY,ts();for(var t=document.elementFromPoint(Oe.clientX,Oe.clientY),r=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Oe.clientX,Oe.clientY),t!==r);)r=t;if(w.parentNode[pe]._isOutsideThisEl(t),r)do{if(r[pe]){var o=void 0;if(o=r[pe]._onDragOver({clientX:Oe.clientX,clientY:Oe.clientY,target:t,rootEl:r}),o&&!this.options.dragoverBubble)break}t=r}while(r=r.parentNode);rs()}},_onTouchMove:function(t){if(ze){var r=this.options,o=r.fallbackTolerance,n=r.fallbackOffset,s=t.touches?t.touches[0]:t,i=L&&qe(L,!0),a=L&&i&&i.a,l=L&&i&&i.d,c=$t&&de&&Ro(de),d=(s.clientX-ze.clientX+n.x)/(a||1)+(c?c[0]-xr[0]:0)/(a||1),u=(s.clientY-ze.clientY+n.y)/(l||1)+(c?c[1]-xr[1]:0)/(l||1);if(!D.active&&!ot){if(o&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<o)return;this._onDragStart(t,!0)}if(L){i?(i.e+=d-(wr||0),i.f+=u-(Cr||0)):i={a:1,b:0,c:0,d:1,e:d,f:u};var p="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");O(L,"webkitTransform",p),O(L,"mozTransform",p),O(L,"msTransform",p),O(L,"transform",p),wr=d,Cr=u,Oe=s}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!L){var t=this.options.fallbackOnBody?document.body:K,r=Q(w,!0,$t,!0,t),o=this.options;if($t){for(de=t;O(de,"position")==="static"&&O(de,"transform")==="none"&&de!==document;)de=de.parentNode;de!==document.body&&de!==document.documentElement?(de===document&&(de=Ge()),r.top+=de.scrollTop,r.left+=de.scrollLeft):de=Ge(),xr=Ro(de)}L=w.cloneNode(!0),J(L,o.ghostClass,!1),J(L,o.fallbackClass,!0),J(L,o.dragClass,!0),O(L,"transition",""),O(L,"transform",""),O(L,"box-sizing","border-box"),O(L,"margin",0),O(L,"top",r.top),O(L,"left",r.left),O(L,"width",r.width),O(L,"height",r.height),O(L,"opacity","0.8"),O(L,"position",$t?"absolute":"fixed"),O(L,"zIndex","100000"),O(L,"pointerEvents","none"),D.ghost=L,t.appendChild(L),O(L,"transform-origin",Io/parseInt(L.style.width)*100+"% "+jo/parseInt(L.style.height)*100+"%")}},_onDragStart:function(t,r){var o=this,n=t.dataTransfer,s=o.options;if(me("dragStart",this,{evt:t}),D.eventCanceled){this._onDrop();return}me("setupClone",this),D.eventCanceled||(X=ao(w),X.draggable=!1,X.style["will-change"]="",this._hideClone(),J(X,this.options.chosenClass,!1),D.clone=X),o.cloneId=Wt(function(){me("clone",o),!D.eventCanceled&&(o.options.removeCloneOnHide||K.insertBefore(X,w),o._hideClone(),he({sortable:o,name:"clone"}))}),!r&&J(w,s.dragClass,!0),r?(or=!0,o._loopId=setInterval(o._emulateDragOver,50)):($(document,"mouseup",o._onDrop),$(document,"touchend",o._onDrop),$(document,"touchcancel",o._onDrop),n&&(n.effectAllowed="move",s.setData&&s.setData.call(o,n,w)),M(document,"drop",o),O(w,"transform","translateZ(0)")),ot=!0,o._dragStartId=Wt(o._dragStarted.bind(o,r,t)),M(document,"selectstart",o),yt=!0,Nr&&O(document.body,"user-select","none")},_onDragOver:function(t){var r=this.el,o=t.target,n,s,i,a=this.options,l=a.group,c=D.active,d=It===l,u=a.sort,p=le||c,f,g=this,h=!1;if(Br)return;function v(V,ye){me(V,g,He({evt:t,isOwner:d,axis:f?"vertical":"horizontal",revert:i,dragRect:n,targetRect:s,canSort:u,fromSortable:p,target:o,completed:E,onMove:function(ie,y){return Sr(K,r,w,n,ie,Q(ie),t,y)},changed:S},ye))}function T(){v("dragOverAnimationCapture"),g.captureAnimationState(),g!==p&&p.captureAnimationState()}function E(V){return v("dragOverCompleted",{insertion:V}),V&&(d?c._hideClone():c._showClone(g),g!==p&&(J(w,le?le.options.ghostClass:c.options.ghostClass,!1),J(w,a.ghostClass,!0)),le!==g&&g!==D.active?le=g:g===D.active&&le&&(le=null),p===g&&(g._ignoreWhileAnimating=o),g.animateAll(function(){v("dragOverAnimationComplete"),g._ignoreWhileAnimating=null}),g!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(o===w&&!w.animated||o===r&&!o.animated)&&(Qe=null),!a.dragoverBubble&&!t.rootEl&&o!==document&&(w.parentNode[pe]._isOutsideThisEl(t.target),!V&&We(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),h=!0}function S(){we=Z(w),je=Z(w,a.draggable),he({sortable:g,name:"change",toEl:r,newIndex:we,newDraggableIndex:je,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),o=Ae(o,a.draggable,r,!0),v("dragOver"),D.eventCanceled)return h;if(w.contains(t.target)||o.animated&&o.animatingX&&o.animatingY||g._ignoreWhileAnimating===o)return E(!1);if(or=!1,c&&!a.disabled&&(d?u||(i=!K.contains(w)):le===this||(this.lastPutMode=It.checkPull(this,c,w,t))&&l.checkPut(this,c,w,t))){if(f=this._getDirection(t,o)==="vertical",n=Q(w),v("dragOverValid"),D.eventCanceled)return h;if(i)return oe=K,T(),this._hideClone(),v("revert"),D.eventCanceled||(Ye?K.insertBefore(w,Ye):K.appendChild(w)),E(!0);var x=io(r,a.draggable);if(!x||ql(t,f,this)&&!x.animated){if(x===w)return E(!1);if(x&&r===t.target&&(o=x),o&&(s=Q(o)),Sr(K,r,w,n,o,s,t,!!o)!==!1)return T(),r.appendChild(w),oe=r,S(),E(!0)}else if(o.parentNode===r){s=Q(o);var C=0,k,U=w.parentNode!==r,P=!Wl(w.animated&&w.toRect||n,o.animated&&o.toRect||s,f),R=f?"top":"left",F=Go(o,"top","top")||Go(w,"top","top"),N=F?F.scrollTop:void 0;Qe!==o&&(k=s[R],Ot=!1,jt=!P&&a.invertSwap||U),C=Xl(t,o,s,f,P?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,jt,Qe===o);var q;if(C!==0){var re=Z(w);do re-=C,q=oe.children[re];while(q&&(O(q,"display")==="none"||q===L))}if(C===0||q===o)return E(!1);Qe=o,St=C;var ee=o.nextElementSibling,z=!1;z=C===1;var B=Sr(K,r,w,n,o,s,t,z);if(B!==!1)return(B===1||B===-1)&&(z=B===1),Br=!0,setTimeout(Jl,30),T(),z&&!ee?r.appendChild(w):o.parentNode.insertBefore(w,z?ee:o),F&&Xn(F,0,N-F.scrollTop),oe=w.parentNode,k!==void 0&&!jt&&(zt=Math.abs(k-Q(o)[R])),S(),E(!0)}if(r.contains(w))return E(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){$(document,"mousemove",this._onTouchMove),$(document,"touchmove",this._onTouchMove),$(document,"pointermove",this._onTouchMove),$(document,"dragover",We),$(document,"mousemove",We),$(document,"touchmove",We)},_offUpEvents:function(){var t=this.el.ownerDocument;$(t,"mouseup",this._onDrop),$(t,"touchend",this._onDrop),$(t,"pointerup",this._onDrop),$(t,"touchcancel",this._onDrop),$(document,"selectstart",this)},_onDrop:function(t){var r=this.el,o=this.options;if(we=Z(w),je=Z(w,o.draggable),me("drop",this,{evt:t}),oe=w&&w.parentNode,we=Z(w),je=Z(w,o.draggable),D.eventCanceled){this._nulling();return}ot=!1,jt=!1,Ot=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Hr(this.cloneId),Hr(this._dragStartId),this.nativeDraggable&&($(document,"drop",this),$(r,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Nr&&O(document.body,"user-select",""),O(w,"transform",""),t&&(yt&&(t.cancelable&&t.preventDefault(),!o.dropBubble&&t.stopPropagation()),L&&L.parentNode&&L.parentNode.removeChild(L),(K===oe||le&&le.lastPutMode!=="clone")&&X&&X.parentNode&&X.parentNode.removeChild(X),w&&(this.nativeDraggable&&$(w,"dragend",this),Or(w),w.style["will-change"]="",yt&&!ot&&J(w,le?le.options.ghostClass:this.options.ghostClass,!1),J(w,this.options.chosenClass,!1),he({sortable:this,name:"unchoose",toEl:oe,newIndex:null,newDraggableIndex:null,originalEvent:t}),K!==oe?(we>=0&&(he({rootEl:oe,name:"add",toEl:oe,fromEl:K,originalEvent:t}),he({sortable:this,name:"remove",toEl:oe,originalEvent:t}),he({rootEl:oe,name:"sort",toEl:oe,fromEl:K,originalEvent:t}),he({sortable:this,name:"sort",toEl:oe,originalEvent:t})),le&&le.save()):we!==it&&we>=0&&(he({sortable:this,name:"update",toEl:oe,originalEvent:t}),he({sortable:this,name:"sort",toEl:oe,originalEvent:t})),D.active&&((we==null||we===-1)&&(we=it,je=xt),he({sortable:this,name:"end",toEl:oe,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){me("nulling",this),K=w=oe=L=Ye=X=Ht=$e=ze=Oe=yt=we=je=it=xt=Qe=St=le=It=D.dragged=D.ghost=D.clone=D.active=null,sr.forEach(function(t){t.checked=!0}),sr.length=wr=Cr=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":w&&(this._onDragOver(t),Kl(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],r,o=this.el.children,n=0,s=o.length,i=this.options;n<s;n++)r=o[n],Ae(r,i.draggable,this.el,!1)&&t.push(r.getAttribute(i.dataIdAttr)||Ql(r));return t},sort:function(t){var r={},o=this.el;this.toArray().forEach(function(n,s){var i=o.children[s];Ae(i,this.options.draggable,o,!1)&&(r[n]=i)},this),t.forEach(function(n){r[n]&&(o.removeChild(r[n]),o.appendChild(r[n]))})},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,r){return Ae(t,r||this.options.draggable,this.el,!1)},option:function(t,r){var o=this.options;if(r===void 0)return o[t];var n=Gt.modifyOption(this,t,r);typeof n<"u"?o[t]=n:o[t]=r,t==="group"&&es(o)},destroy:function(){me("destroy",this);var t=this.el;t[pe]=null,$(t,"mousedown",this._onTapStart),$(t,"touchstart",this._onTapStart),$(t,"pointerdown",this._onTapStart),this.nativeDraggable&&($(t,"dragover",this),$(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(r){r.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),nr.splice(nr.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!$e){if(me("hideClone",this),D.eventCanceled)return;O(X,"display","none"),this.options.removeCloneOnHide&&X.parentNode&&X.parentNode.removeChild(X),$e=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if($e){if(me("showClone",this),D.eventCanceled)return;K.contains(w)&&!this.options.group.revertClone?K.insertBefore(X,w):Ye?K.insertBefore(X,Ye):K.appendChild(X),this.options.group.revertClone&&this.animate(w,X),O(X,"display",""),$e=!1}}};function Kl(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Sr(e,t,r,o,n,s,i,a){var l,c=e[pe],d=c.options.onMove,u;return window.CustomEvent&&!Ie&&!Ft?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=e,l.dragged=r,l.draggedRect=o,l.related=n||t,l.relatedRect=s||Q(t),l.willInsertAfter=a,l.originalEvent=i,e.dispatchEvent(l),d&&(u=d.call(c,l,i)),u}function Or(e){e.draggable=!1}function Jl(){Br=!1}function ql(e,t,r){var o=Q(io(r.el,r.options.draggable)),n=10;return t?e.clientX>o.right+n||e.clientX<=o.right&&e.clientY>o.bottom&&e.clientX>=o.left:e.clientX>o.right&&e.clientY>o.top||e.clientX<=o.right&&e.clientY>o.bottom+n}function Xl(e,t,r,o,n,s,i,a){var l=o?e.clientY:e.clientX,c=o?r.height:r.width,d=o?r.top:r.left,u=o?r.bottom:r.right,p=!1;if(!i){if(a&&zt<c*n){if(!Ot&&(St===1?l>d+c*s/2:l<u-c*s/2)&&(Ot=!0),Ot)p=!0;else if(St===1?l<d+zt:l>u-zt)return-St}else if(l>d+c*(1-n)/2&&l<u-c*(1-n)/2)return Zl(t)}return p=p||i,p&&(l<d+c*s/2||l>u-c*s/2)?l>d+c/2?1:-1:0}function Zl(e){return Z(w)<Z(e)?1:-1}function Ql(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,r=t.length,o=0;r--;)o+=t.charCodeAt(r);return o.toString(36)}function ec(e){sr.length=0;for(var t=e.getElementsByTagName("input"),r=t.length;r--;){var o=t[r];o.checked&&sr.push(o)}}function Wt(e){return setTimeout(e,0)}function Hr(e){return clearTimeout(e)}cr&&M(document,"touchmove",function(e){(D.active||ot)&&e.cancelable&&e.preventDefault()});D.utils={on:M,off:$,css:O,find:Jn,is:function(t,r){return!!Ae(t,r,t,!1)},extend:Ul,throttle:qn,closest:Ae,toggleClass:J,clone:ao,index:Z,nextTick:Wt,cancelNextTick:Hr,detectDirection:Qn,getChild:rr};D.get=function(e){return e[pe]};D.mount=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t[0].constructor===Array&&(t=t[0]),t.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(D.utils=He({},D.utils,o.utils)),Gt.mount(o)})};D.create=function(e,t){return new D(e,t)};D.version=Ll;var ne=[],Et,zr,Wr=!1,_r,Ar,ir,Tt;function tc(){function e(){this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(r){var o=r.originalEvent;this.sortable.nativeDraggable?M(document,"dragover",this._handleAutoScroll):this.options.supportPointer?M(document,"pointermove",this._handleFallbackAutoScroll):o.touches?M(document,"touchmove",this._handleFallbackAutoScroll):M(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(r){var o=r.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?$(document,"dragover",this._handleAutoScroll):($(document,"pointermove",this._handleFallbackAutoScroll),$(document,"touchmove",this._handleFallbackAutoScroll),$(document,"mousemove",this._handleFallbackAutoScroll)),Uo(),Vt(),Ml()},nulling:function(){ir=zr=Et=Wr=Tt=_r=Ar=null,ne.length=0},_handleFallbackAutoScroll:function(r){this._handleAutoScroll(r,!0)},_handleAutoScroll:function(r,o){var n=this,s=(r.touches?r.touches[0]:r).clientX,i=(r.touches?r.touches[0]:r).clientY,a=document.elementFromPoint(s,i);if(ir=r,o||Ft||Ie||Nr){kr(r,this.options,a,o);var l=Ue(a,!0);Wr&&(!Tt||s!==_r||i!==Ar)&&(Tt&&Uo(),Tt=setInterval(function(){var c=Ue(document.elementFromPoint(s,i),!0);c!==l&&(l=c,Vt()),kr(r,n.options,c,o)},10),_r=s,Ar=i)}else{if(!this.options.bubbleScroll||Ue(a,!0)===Ge()){Vt();return}kr(r,this.options,Ue(a,!1),!1)}}},Se(e,{pluginName:"scroll",initializeByDefault:!0})}function Vt(){ne.forEach(function(e){clearInterval(e.pid)}),ne=[]}function Uo(){clearInterval(Tt)}var kr=qn(function(e,t,r,o){if(t.scroll){var n=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,i=t.scrollSensitivity,a=t.scrollSpeed,l=Ge(),c=!1,d;zr!==r&&(zr=r,Vt(),Et=t.scroll,d=t.scrollFn,Et===!0&&(Et=Ue(r,!0)));var u=0,p=Et;do{var f=p,g=Q(f),h=g.top,v=g.bottom,T=g.left,E=g.right,S=g.width,x=g.height,C=void 0,k=void 0,U=f.scrollWidth,P=f.scrollHeight,R=O(f),F=f.scrollLeft,N=f.scrollTop;f===l?(C=S<U&&(R.overflowX==="auto"||R.overflowX==="scroll"||R.overflowX==="visible"),k=x<P&&(R.overflowY==="auto"||R.overflowY==="scroll"||R.overflowY==="visible")):(C=S<U&&(R.overflowX==="auto"||R.overflowX==="scroll"),k=x<P&&(R.overflowY==="auto"||R.overflowY==="scroll"));var q=C&&(Math.abs(E-n)<=i&&F+S<U)-(Math.abs(T-n)<=i&&!!F),re=k&&(Math.abs(v-s)<=i&&N+x<P)-(Math.abs(h-s)<=i&&!!N);if(!ne[u])for(var ee=0;ee<=u;ee++)ne[ee]||(ne[ee]={});(ne[u].vx!=q||ne[u].vy!=re||ne[u].el!==f)&&(ne[u].el=f,ne[u].vx=q,ne[u].vy=re,clearInterval(ne[u].pid),(q!=0||re!=0)&&(c=!0,ne[u].pid=setInterval((function(){o&&this.layer===0&&D.active._onTouchMove(ir);var z=ne[this.layer].vy?ne[this.layer].vy*a:0,B=ne[this.layer].vx?ne[this.layer].vx*a:0;typeof d=="function"&&d.call(D.dragged.parentNode[pe],B,z,e,ir,ne[this.layer].el)!=="continue"||Xn(ne[this.layer].el,B,z)}).bind({layer:u}),24))),u++}while(t.bubbleScroll&&p!==l&&(p=Ue(p,!1)));Wr=c}},30),os=function(t){var r=t.originalEvent,o=t.putSortable,n=t.dragEl,s=t.activeSortable,i=t.dispatchSortableEvent,a=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(r){var c=o||s;a();var d=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:r,u=document.elementFromPoint(d.clientX,d.clientY);l(),c&&!c.el.contains(u)&&(i("spill"),this.onSpill({dragEl:n,putSortable:o}))}};function lo(){}lo.prototype={startIndex:null,dragStart:function(t){var r=t.oldDraggableIndex;this.startIndex=r},onSpill:function(t){var r=t.dragEl,o=t.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var n=rr(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(r,n):this.sortable.el.appendChild(r),this.sortable.animateAll(),o&&o.animateAll()},drop:os};Se(lo,{pluginName:"revertOnSpill"});function co(){}co.prototype={onSpill:function(t){var r=t.dragEl,o=t.putSortable,n=o||this.sortable;n.captureAnimationState(),r.parentNode&&r.parentNode.removeChild(r),n.animateAll()},drop:os};Se(co,{pluginName:"removeOnSpill"});var xe;function rc(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(r){var o=r.dragEl;xe=o},dragOverValid:function(r){var o=r.completed,n=r.target,s=r.onMove,i=r.activeSortable,a=r.changed,l=r.cancel;if(i.options.swap){var c=this.sortable.el,d=this.options;if(n&&n!==c){var u=xe;s(n)!==!1?(J(n,d.swapClass,!0),xe=n):xe=null,u&&u!==xe&&J(u,d.swapClass,!1)}a(),o(!0),l()}},drop:function(r){var o=r.activeSortable,n=r.putSortable,s=r.dragEl,i=n||this.sortable,a=this.options;xe&&J(xe,a.swapClass,!1),xe&&(a.swap||n&&n.options.swap)&&s!==xe&&(i.captureAnimationState(),i!==o&&o.captureAnimationState(),oc(s,xe),i.animateAll(),i!==o&&o.animateAll())},nulling:function(){xe=null}},Se(e,{pluginName:"swap",eventProperties:function(){return{swapItem:xe}}})}function oc(e,t){var r=e.parentNode,o=t.parentNode,n,s;!r||!o||r.isEqualNode(t)||o.isEqualNode(e)||(n=Z(e),s=Z(t),r.isEqualNode(o)&&n<s&&s++,r.insertBefore(t,r.children[n]),o.insertBefore(e,o.children[s]))}var G=[],Te=[],pt,_e,ft=!1,Ee=!1,et=!1,W,ht,Ut;function nc(){function e(t){for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));t.options.supportPointer?M(document,"pointerup",this._deselectMultiDrag):(M(document,"mouseup",this._deselectMultiDrag),M(document,"touchend",this._deselectMultiDrag)),M(document,"keydown",this._checkKeyDown),M(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(n,s){var i="";G.length&&_e===t?G.forEach(function(a,l){i+=(l?", ":"")+a.textContent}):i=s.textContent,n.setData("Text",i)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(r){var o=r.dragEl;W=o},delayEnded:function(){this.isMultiDrag=~G.indexOf(W)},setupClone:function(r){var o=r.sortable,n=r.cancel;if(this.isMultiDrag){for(var s=0;s<G.length;s++)Te.push(ao(G[s])),Te[s].sortableIndex=G[s].sortableIndex,Te[s].draggable=!1,Te[s].style["will-change"]="",J(Te[s],this.options.selectedClass,!1),G[s]===W&&J(Te[s],this.options.chosenClass,!1);o._hideClone(),n()}},clone:function(r){var o=r.sortable,n=r.rootEl,s=r.dispatchSortableEvent,i=r.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||G.length&&_e===o&&(Mo(!0,n),s("clone"),i()))},showClone:function(r){var o=r.cloneNowShown,n=r.rootEl,s=r.cancel;this.isMultiDrag&&(Mo(!1,n),Te.forEach(function(i){O(i,"display","")}),o(),Ut=!1,s())},hideClone:function(r){var o=this;r.sortable;var n=r.cloneNowHidden,s=r.cancel;this.isMultiDrag&&(Te.forEach(function(i){O(i,"display","none"),o.options.removeCloneOnHide&&i.parentNode&&i.parentNode.removeChild(i)}),n(),Ut=!0,s())},dragStartGlobal:function(r){r.sortable,!this.isMultiDrag&&_e&&_e.multiDrag._deselectMultiDrag(),G.forEach(function(o){o.sortableIndex=Z(o)}),G=G.sort(function(o,n){return o.sortableIndex-n.sortableIndex}),et=!0},dragStarted:function(r){var o=this,n=r.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){G.forEach(function(i){i!==W&&O(i,"position","absolute")});var s=Q(W,!1,!0,!0);G.forEach(function(i){i!==W&&Lo(i,s)}),Ee=!0,ft=!0}n.animateAll(function(){Ee=!1,ft=!1,o.options.animation&&G.forEach(function(i){Er(i)}),o.options.sort&&Mt()})}},dragOver:function(r){var o=r.target,n=r.completed,s=r.cancel;Ee&&~G.indexOf(o)&&(n(!1),s())},revert:function(r){var o=r.fromSortable,n=r.rootEl,s=r.sortable,i=r.dragRect;G.length>1&&(G.forEach(function(a){s.addAnimationState({target:a,rect:Ee?Q(a):i}),Er(a),a.fromRect=i,o.removeAnimationState(a)}),Ee=!1,sc(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(r){var o=r.sortable,n=r.isOwner,s=r.insertion,i=r.activeSortable,a=r.parentEl,l=r.putSortable,c=this.options;if(s){if(n&&i._hideClone(),ft=!1,c.animation&&G.length>1&&(Ee||!n&&!i.options.sort&&!l)){var d=Q(W,!1,!0,!0);G.forEach(function(p){p!==W&&(Lo(p,d),a.appendChild(p))}),Ee=!0}if(!n)if(Ee||Mt(),G.length>1){var u=Ut;i._showClone(o),i.options.animation&&!Ut&&u&&Te.forEach(function(p){i.addAnimationState({target:p,rect:ht}),p.fromRect=ht,p.thisAnimationDuration=null})}else i._showClone(o)}},dragOverAnimationCapture:function(r){var o=r.dragRect,n=r.isOwner,s=r.activeSortable;if(G.forEach(function(a){a.thisAnimationDuration=null}),s.options.animation&&!n&&s.multiDrag.isMultiDrag){ht=Se({},o);var i=qe(W,!0);ht.top-=i.f,ht.left-=i.e}},dragOverAnimationComplete:function(){Ee&&(Ee=!1,Mt())},drop:function(r){var o=r.originalEvent,n=r.rootEl,s=r.parentEl,i=r.sortable,a=r.dispatchSortableEvent,l=r.oldIndex,c=r.putSortable,d=c||this.sortable;if(o){var u=this.options,p=s.children;if(!et)if(u.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),J(W,u.selectedClass,!~G.indexOf(W)),~G.indexOf(W))G.splice(G.indexOf(W),1),pt=null,bt({sortable:i,rootEl:n,name:"deselect",targetEl:W,originalEvt:o});else{if(G.push(W),bt({sortable:i,rootEl:n,name:"select",targetEl:W,originalEvt:o}),o.shiftKey&&pt&&i.el.contains(pt)){var f=Z(pt),g=Z(W);if(~f&&~g&&f!==g){var h,v;for(g>f?(v=f,h=g):(v=g,h=f+1);v<h;v++)~G.indexOf(p[v])||(J(p[v],u.selectedClass,!0),G.push(p[v]),bt({sortable:i,rootEl:n,name:"select",targetEl:p[v],originalEvt:o}))}}else pt=W;_e=d}if(et&&this.isMultiDrag){if((s[pe].options.sort||s!==n)&&G.length>1){var T=Q(W),E=Z(W,":not(."+this.options.selectedClass+")");if(!ft&&u.animation&&(W.thisAnimationDuration=null),d.captureAnimationState(),!ft&&(u.animation&&(W.fromRect=T,G.forEach(function(x){if(x.thisAnimationDuration=null,x!==W){var C=Ee?Q(x):T;x.fromRect=C,d.addAnimationState({target:x,rect:C})}})),Mt(),G.forEach(function(x){p[E]?s.insertBefore(x,p[E]):s.appendChild(x),E++}),l===Z(W))){var S=!1;G.forEach(function(x){if(x.sortableIndex!==Z(x)){S=!0;return}}),S&&a("update")}G.forEach(function(x){Er(x)}),d.animateAll()}_e=d}(n===s||c&&c.lastPutMode!=="clone")&&Te.forEach(function(x){x.parentNode&&x.parentNode.removeChild(x)})}},nullingGlobal:function(){this.isMultiDrag=et=!1,Te.length=0},destroyGlobal:function(){this._deselectMultiDrag(),$(document,"pointerup",this._deselectMultiDrag),$(document,"mouseup",this._deselectMultiDrag),$(document,"touchend",this._deselectMultiDrag),$(document,"keydown",this._checkKeyDown),$(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(r){if(!(typeof et<"u"&&et)&&_e===this.sortable&&!(r&&Ae(r.target,this.options.draggable,this.sortable.el,!1))&&!(r&&r.button!==0))for(;G.length;){var o=G[0];J(o,this.options.selectedClass,!1),G.shift(),bt({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:o,originalEvt:r})}},_checkKeyDown:function(r){r.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(r){r.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Se(e,{pluginName:"multiDrag",utils:{select:function(r){var o=r.parentNode[pe];!o||!o.options.multiDrag||~G.indexOf(r)||(_e&&_e!==o&&(_e.multiDrag._deselectMultiDrag(),_e=o),J(r,o.options.selectedClass,!0),G.push(r))},deselect:function(r){var o=r.parentNode[pe],n=G.indexOf(r);!o||!o.options.multiDrag||!~n||(J(r,o.options.selectedClass,!1),G.splice(n,1))}},eventProperties:function(){var r=this,o=[],n=[];return G.forEach(function(s){o.push({multiDragElement:s,index:s.sortableIndex});var i;Ee&&s!==W?i=-1:Ee?i=Z(s,":not(."+r.options.selectedClass+")"):i=Z(s),n.push({multiDragElement:s,index:i})}),{items:Dl(G),clones:[].concat(Te),oldIndicies:o,newIndicies:n}},optionListeners:{multiDragKey:function(r){return r=r.toLowerCase(),r==="ctrl"?r="Control":r.length>1&&(r=r.charAt(0).toUpperCase()+r.substr(1)),r}}})}function sc(e,t){G.forEach(function(r,o){var n=t.children[r.sortableIndex+(e?Number(o):0)];n?t.insertBefore(r,n):t.appendChild(r)})}function Mo(e,t){Te.forEach(function(r,o){var n=t.children[r.sortableIndex+(e?Number(o):0)];n?t.insertBefore(r,n):t.appendChild(r)})}function Mt(){G.forEach(function(e){e!==W&&e.parentNode&&e.parentNode.removeChild(e)})}D.mount(new tc);D.mount(co,lo);const ic=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:nc,Sortable:D,Swap:rc,default:D},Symbol.toStringTag,{value:"Module"})),ac=Fs(ic);(function(e,t){(function(o,n){e.exports=n(ac)})(typeof self<"u"?self:Gs,function(r){return function(o){var n={};function s(i){if(n[i])return n[i].exports;var a=n[i]={i,l:!1,exports:{}};return o[i].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=o,s.c=n,s.d=function(i,a,l){s.o(i,a)||Object.defineProperty(i,a,{enumerable:!0,get:l})},s.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},s.t=function(i,a){if(a&1&&(i=s(i)),a&8||a&4&&typeof i=="object"&&i&&i.__esModule)return i;var l=Object.create(null);if(s.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:i}),a&2&&typeof i!="string")for(var c in i)s.d(l,c,(function(d){return i[d]}).bind(null,c));return l},s.n=function(i){var a=i&&i.__esModule?function(){return i.default}:function(){return i};return s.d(a,"a",a),a},s.o=function(i,a){return Object.prototype.hasOwnProperty.call(i,a)},s.p="",s(s.s="fb15")}({"01f9":function(o,n,s){var i=s("2d00"),a=s("5ca1"),l=s("2aba"),c=s("32e9"),d=s("84f2"),u=s("41a0"),p=s("7f20"),f=s("38fd"),g=s("2b4c")("iterator"),h=!([].keys&&"next"in[].keys()),v="@@iterator",T="keys",E="values",S=function(){return this};o.exports=function(x,C,k,U,P,R,F){u(k,C,U);var N=function(b){if(!h&&b in z)return z[b];switch(b){case T:return function(){return new k(this,b)};case E:return function(){return new k(this,b)}}return function(){return new k(this,b)}},q=C+" Iterator",re=P==E,ee=!1,z=x.prototype,B=z[g]||z[v]||P&&z[P],V=B||N(P),ye=P?re?N("entries"):V:void 0,ue=C=="Array"&&z.entries||B,ie,y,m;if(ue&&(m=f(ue.call(new x)),m!==Object.prototype&&m.next&&(p(m,q,!0),!i&&typeof m[g]!="function"&&c(m,g,S))),re&&B&&B.name!==E&&(ee=!0,V=function(){return B.call(this)}),(!i||F)&&(h||ee||!z[g])&&c(z,g,V),d[C]=V,d[q]=S,P)if(ie={values:re?V:N(E),keys:R?V:N(T),entries:ye},F)for(y in ie)y in z||l(z,y,ie[y]);else a(a.P+a.F*(h||ee),C,ie);return ie}},"02f4":function(o,n,s){var i=s("4588"),a=s("be13");o.exports=function(l){return function(c,d){var u=String(a(c)),p=i(d),f=u.length,g,h;return p<0||p>=f?l?"":void 0:(g=u.charCodeAt(p),g<55296||g>56319||p+1===f||(h=u.charCodeAt(p+1))<56320||h>57343?l?u.charAt(p):g:l?u.slice(p,p+2):(g-55296<<10)+(h-56320)+65536)}}},"0390":function(o,n,s){var i=s("02f4")(!0);o.exports=function(a,l,c){return l+(c?i(a,l).length:1)}},"0bfb":function(o,n,s){var i=s("cb7c");o.exports=function(){var a=i(this),l="";return a.global&&(l+="g"),a.ignoreCase&&(l+="i"),a.multiline&&(l+="m"),a.unicode&&(l+="u"),a.sticky&&(l+="y"),l}},"0d58":function(o,n,s){var i=s("ce10"),a=s("e11e");o.exports=Object.keys||function(c){return i(c,a)}},1495:function(o,n,s){var i=s("86cc"),a=s("cb7c"),l=s("0d58");o.exports=s("9e1e")?Object.defineProperties:function(d,u){a(d);for(var p=l(u),f=p.length,g=0,h;f>g;)i.f(d,h=p[g++],u[h]);return d}},"214f":function(o,n,s){s("b0c5");var i=s("2aba"),a=s("32e9"),l=s("79e5"),c=s("be13"),d=s("2b4c"),u=s("520a"),p=d("species"),f=!l(function(){var h=/./;return h.exec=function(){var v=[];return v.groups={a:"7"},v},"".replace(h,"$<a>")!=="7"}),g=function(){var h=/(?:)/,v=h.exec;h.exec=function(){return v.apply(this,arguments)};var T="ab".split(h);return T.length===2&&T[0]==="a"&&T[1]==="b"}();o.exports=function(h,v,T){var E=d(h),S=!l(function(){var R={};return R[E]=function(){return 7},""[h](R)!=7}),x=S?!l(function(){var R=!1,F=/a/;return F.exec=function(){return R=!0,null},h==="split"&&(F.constructor={},F.constructor[p]=function(){return F}),F[E](""),!R}):void 0;if(!S||!x||h==="replace"&&!f||h==="split"&&!g){var C=/./[E],k=T(c,E,""[h],function(F,N,q,re,ee){return N.exec===u?S&&!ee?{done:!0,value:C.call(N,q,re)}:{done:!0,value:F.call(q,N,re)}:{done:!1}}),U=k[0],P=k[1];i(String.prototype,h,U),a(RegExp.prototype,E,v==2?function(R,F){return P.call(R,this,F)}:function(R){return P.call(R,this)})}}},"230e":function(o,n,s){var i=s("d3f4"),a=s("7726").document,l=i(a)&&i(a.createElement);o.exports=function(c){return l?a.createElement(c):{}}},"23c6":function(o,n,s){var i=s("2d95"),a=s("2b4c")("toStringTag"),l=i(function(){return arguments}())=="Arguments",c=function(d,u){try{return d[u]}catch{}};o.exports=function(d){var u,p,f;return d===void 0?"Undefined":d===null?"Null":typeof(p=c(u=Object(d),a))=="string"?p:l?i(u):(f=i(u))=="Object"&&typeof u.callee=="function"?"Arguments":f}},2621:function(o,n){n.f=Object.getOwnPropertySymbols},"2aba":function(o,n,s){var i=s("7726"),a=s("32e9"),l=s("69a8"),c=s("ca5a")("src"),d=s("fa5b"),u="toString",p=(""+d).split(u);s("8378").inspectSource=function(f){return d.call(f)},(o.exports=function(f,g,h,v){var T=typeof h=="function";T&&(l(h,"name")||a(h,"name",g)),f[g]!==h&&(T&&(l(h,c)||a(h,c,f[g]?""+f[g]:p.join(String(g)))),f===i?f[g]=h:v?f[g]?f[g]=h:a(f,g,h):(delete f[g],a(f,g,h)))})(Function.prototype,u,function(){return typeof this=="function"&&this[c]||d.call(this)})},"2aeb":function(o,n,s){var i=s("cb7c"),a=s("1495"),l=s("e11e"),c=s("613b")("IE_PROTO"),d=function(){},u="prototype",p=function(){var f=s("230e")("iframe"),g=l.length,h="<",v=">",T;for(f.style.display="none",s("fab2").appendChild(f),f.src="javascript:",T=f.contentWindow.document,T.open(),T.write(h+"script"+v+"document.F=Object"+h+"/script"+v),T.close(),p=T.F;g--;)delete p[u][l[g]];return p()};o.exports=Object.create||function(g,h){var v;return g!==null?(d[u]=i(g),v=new d,d[u]=null,v[c]=g):v=p(),h===void 0?v:a(v,h)}},"2b4c":function(o,n,s){var i=s("5537")("wks"),a=s("ca5a"),l=s("7726").Symbol,c=typeof l=="function",d=o.exports=function(u){return i[u]||(i[u]=c&&l[u]||(c?l:a)("Symbol."+u))};d.store=i},"2d00":function(o,n){o.exports=!1},"2d95":function(o,n){var s={}.toString;o.exports=function(i){return s.call(i).slice(8,-1)}},"2fdb":function(o,n,s){var i=s("5ca1"),a=s("d2c8"),l="includes";i(i.P+i.F*s("5147")(l),"String",{includes:function(d){return!!~a(this,d,l).indexOf(d,arguments.length>1?arguments[1]:void 0)}})},"32e9":function(o,n,s){var i=s("86cc"),a=s("4630");o.exports=s("9e1e")?function(l,c,d){return i.f(l,c,a(1,d))}:function(l,c,d){return l[c]=d,l}},"38fd":function(o,n,s){var i=s("69a8"),a=s("4bf8"),l=s("613b")("IE_PROTO"),c=Object.prototype;o.exports=Object.getPrototypeOf||function(d){return d=a(d),i(d,l)?d[l]:typeof d.constructor=="function"&&d instanceof d.constructor?d.constructor.prototype:d instanceof Object?c:null}},"41a0":function(o,n,s){var i=s("2aeb"),a=s("4630"),l=s("7f20"),c={};s("32e9")(c,s("2b4c")("iterator"),function(){return this}),o.exports=function(d,u,p){d.prototype=i(c,{next:a(1,p)}),l(d,u+" Iterator")}},"456d":function(o,n,s){var i=s("4bf8"),a=s("0d58");s("5eda")("keys",function(){return function(c){return a(i(c))}})},4588:function(o,n){var s=Math.ceil,i=Math.floor;o.exports=function(a){return isNaN(a=+a)?0:(a>0?i:s)(a)}},4630:function(o,n){o.exports=function(s,i){return{enumerable:!(s&1),configurable:!(s&2),writable:!(s&4),value:i}}},"4bf8":function(o,n,s){var i=s("be13");o.exports=function(a){return Object(i(a))}},5147:function(o,n,s){var i=s("2b4c")("match");o.exports=function(a){var l=/./;try{"/./"[a](l)}catch{try{return l[i]=!1,!"/./"[a](l)}catch{}}return!0}},"520a":function(o,n,s){var i=s("0bfb"),a=RegExp.prototype.exec,l=String.prototype.replace,c=a,d="lastIndex",u=function(){var g=/a/,h=/b*/g;return a.call(g,"a"),a.call(h,"a"),g[d]!==0||h[d]!==0}(),p=/()??/.exec("")[1]!==void 0,f=u||p;f&&(c=function(h){var v=this,T,E,S,x;return p&&(E=new RegExp("^"+v.source+"$(?!\\s)",i.call(v))),u&&(T=v[d]),S=a.call(v,h),u&&S&&(v[d]=v.global?S.index+S[0].length:T),p&&S&&S.length>1&&l.call(S[0],E,function(){for(x=1;x<arguments.length-2;x++)arguments[x]===void 0&&(S[x]=void 0)}),S}),o.exports=c},"52a7":function(o,n){n.f={}.propertyIsEnumerable},5537:function(o,n,s){var i=s("8378"),a=s("7726"),l="__core-js_shared__",c=a[l]||(a[l]={});(o.exports=function(d,u){return c[d]||(c[d]=u!==void 0?u:{})})("versions",[]).push({version:i.version,mode:s("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(o,n,s){var i=s("7726"),a=s("8378"),l=s("32e9"),c=s("2aba"),d=s("9b43"),u="prototype",p=function(f,g,h){var v=f&p.F,T=f&p.G,E=f&p.S,S=f&p.P,x=f&p.B,C=T?i:E?i[g]||(i[g]={}):(i[g]||{})[u],k=T?a:a[g]||(a[g]={}),U=k[u]||(k[u]={}),P,R,F,N;T&&(h=g);for(P in h)R=!v&&C&&C[P]!==void 0,F=(R?C:h)[P],N=x&&R?d(F,i):S&&typeof F=="function"?d(Function.call,F):F,C&&c(C,P,F,f&p.U),k[P]!=F&&l(k,P,N),S&&U[P]!=F&&(U[P]=F)};i.core=a,p.F=1,p.G=2,p.S=4,p.P=8,p.B=16,p.W=32,p.U=64,p.R=128,o.exports=p},"5eda":function(o,n,s){var i=s("5ca1"),a=s("8378"),l=s("79e5");o.exports=function(c,d){var u=(a.Object||{})[c]||Object[c],p={};p[c]=d(u),i(i.S+i.F*l(function(){u(1)}),"Object",p)}},"5f1b":function(o,n,s){var i=s("23c6"),a=RegExp.prototype.exec;o.exports=function(l,c){var d=l.exec;if(typeof d=="function"){var u=d.call(l,c);if(typeof u!="object")throw new TypeError("RegExp exec method returned something other than an Object or null");return u}if(i(l)!=="RegExp")throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(l,c)}},"613b":function(o,n,s){var i=s("5537")("keys"),a=s("ca5a");o.exports=function(l){return i[l]||(i[l]=a(l))}},"626a":function(o,n,s){var i=s("2d95");o.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return i(a)=="String"?a.split(""):Object(a)}},6762:function(o,n,s){var i=s("5ca1"),a=s("c366")(!0);i(i.P,"Array",{includes:function(c){return a(this,c,arguments.length>1?arguments[1]:void 0)}}),s("9c6c")("includes")},6821:function(o,n,s){var i=s("626a"),a=s("be13");o.exports=function(l){return i(a(l))}},"69a8":function(o,n){var s={}.hasOwnProperty;o.exports=function(i,a){return s.call(i,a)}},"6a99":function(o,n,s){var i=s("d3f4");o.exports=function(a,l){if(!i(a))return a;var c,d;if(l&&typeof(c=a.toString)=="function"&&!i(d=c.call(a))||typeof(c=a.valueOf)=="function"&&!i(d=c.call(a))||!l&&typeof(c=a.toString)=="function"&&!i(d=c.call(a)))return d;throw TypeError("Can't convert object to primitive value")}},7333:function(o,n,s){var i=s("0d58"),a=s("2621"),l=s("52a7"),c=s("4bf8"),d=s("626a"),u=Object.assign;o.exports=!u||s("79e5")(function(){var p={},f={},g=Symbol(),h="abcdefghijklmnopqrst";return p[g]=7,h.split("").forEach(function(v){f[v]=v}),u({},p)[g]!=7||Object.keys(u({},f)).join("")!=h})?function(f,g){for(var h=c(f),v=arguments.length,T=1,E=a.f,S=l.f;v>T;)for(var x=d(arguments[T++]),C=E?i(x).concat(E(x)):i(x),k=C.length,U=0,P;k>U;)S.call(x,P=C[U++])&&(h[P]=x[P]);return h}:u},7726:function(o,n){var s=o.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=s)},"77f1":function(o,n,s){var i=s("4588"),a=Math.max,l=Math.min;o.exports=function(c,d){return c=i(c),c<0?a(c+d,0):l(c,d)}},"79e5":function(o,n){o.exports=function(s){try{return!!s()}catch{return!0}}},"7f20":function(o,n,s){var i=s("86cc").f,a=s("69a8"),l=s("2b4c")("toStringTag");o.exports=function(c,d,u){c&&!a(c=u?c:c.prototype,l)&&i(c,l,{configurable:!0,value:d})}},8378:function(o,n){var s=o.exports={version:"2.6.5"};typeof __e=="number"&&(__e=s)},"84f2":function(o,n){o.exports={}},"86cc":function(o,n,s){var i=s("cb7c"),a=s("c69a"),l=s("6a99"),c=Object.defineProperty;n.f=s("9e1e")?Object.defineProperty:function(u,p,f){if(i(u),p=l(p,!0),i(f),a)try{return c(u,p,f)}catch{}if("get"in f||"set"in f)throw TypeError("Accessors not supported!");return"value"in f&&(u[p]=f.value),u}},"9b43":function(o,n,s){var i=s("d8e8");o.exports=function(a,l,c){if(i(a),l===void 0)return a;switch(c){case 1:return function(d){return a.call(l,d)};case 2:return function(d,u){return a.call(l,d,u)};case 3:return function(d,u,p){return a.call(l,d,u,p)}}return function(){return a.apply(l,arguments)}}},"9c6c":function(o,n,s){var i=s("2b4c")("unscopables"),a=Array.prototype;a[i]==null&&s("32e9")(a,i,{}),o.exports=function(l){a[i][l]=!0}},"9def":function(o,n,s){var i=s("4588"),a=Math.min;o.exports=function(l){return l>0?a(i(l),9007199254740991):0}},"9e1e":function(o,n,s){o.exports=!s("79e5")(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},a352:function(o,n){o.exports=r},a481:function(o,n,s){var i=s("cb7c"),a=s("4bf8"),l=s("9def"),c=s("4588"),d=s("0390"),u=s("5f1b"),p=Math.max,f=Math.min,g=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,v=/\$([$&`']|\d\d?)/g,T=function(E){return E===void 0?E:String(E)};s("214f")("replace",2,function(E,S,x,C){return[function(P,R){var F=E(this),N=P==null?void 0:P[S];return N!==void 0?N.call(P,F,R):x.call(String(F),P,R)},function(U,P){var R=C(x,U,this,P);if(R.done)return R.value;var F=i(U),N=String(this),q=typeof P=="function";q||(P=String(P));var re=F.global;if(re){var ee=F.unicode;F.lastIndex=0}for(var z=[];;){var B=u(F,N);if(B===null||(z.push(B),!re))break;var V=String(B[0]);V===""&&(F.lastIndex=d(N,l(F.lastIndex),ee))}for(var ye="",ue=0,ie=0;ie<z.length;ie++){B=z[ie];for(var y=String(B[0]),m=p(f(c(B.index),N.length),0),b=[],_=1;_<B.length;_++)b.push(T(B[_]));var I=B.groups;if(q){var j=[y].concat(b,m,N);I!==void 0&&j.push(I);var H=String(P.apply(void 0,j))}else H=k(y,N,m,b,I,P);m>=ue&&(ye+=N.slice(ue,m)+H,ue=m+y.length)}return ye+N.slice(ue)}];function k(U,P,R,F,N,q){var re=R+U.length,ee=F.length,z=v;return N!==void 0&&(N=a(N),z=h),x.call(q,z,function(B,V){var ye;switch(V.charAt(0)){case"$":return"$";case"&":return U;case"`":return P.slice(0,R);case"'":return P.slice(re);case"<":ye=N[V.slice(1,-1)];break;default:var ue=+V;if(ue===0)return B;if(ue>ee){var ie=g(ue/10);return ie===0?B:ie<=ee?F[ie-1]===void 0?V.charAt(1):F[ie-1]+V.charAt(1):B}ye=F[ue-1]}return ye===void 0?"":ye})}})},aae3:function(o,n,s){var i=s("d3f4"),a=s("2d95"),l=s("2b4c")("match");o.exports=function(c){var d;return i(c)&&((d=c[l])!==void 0?!!d:a(c)=="RegExp")}},ac6a:function(o,n,s){for(var i=s("cadf"),a=s("0d58"),l=s("2aba"),c=s("7726"),d=s("32e9"),u=s("84f2"),p=s("2b4c"),f=p("iterator"),g=p("toStringTag"),h=u.Array,v={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},T=a(v),E=0;E<T.length;E++){var S=T[E],x=v[S],C=c[S],k=C&&C.prototype,U;if(k&&(k[f]||d(k,f,h),k[g]||d(k,g,S),u[S]=h,x))for(U in i)k[U]||l(k,U,i[U],!0)}},b0c5:function(o,n,s){var i=s("520a");s("5ca1")({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},be13:function(o,n){o.exports=function(s){if(s==null)throw TypeError("Can't call method on  "+s);return s}},c366:function(o,n,s){var i=s("6821"),a=s("9def"),l=s("77f1");o.exports=function(c){return function(d,u,p){var f=i(d),g=a(f.length),h=l(p,g),v;if(c&&u!=u){for(;g>h;)if(v=f[h++],v!=v)return!0}else for(;g>h;h++)if((c||h in f)&&f[h]===u)return c||h||0;return!c&&-1}}},c649:function(o,n,s){(function(i){s.d(n,"c",function(){return f}),s.d(n,"a",function(){return u}),s.d(n,"b",function(){return l}),s.d(n,"d",function(){return p}),s("a481");function a(){return typeof window<"u"?window.console:i.console}var l=a();function c(g){var h=Object.create(null);return function(T){var E=h[T];return E||(h[T]=g(T))}}var d=/-(\w)/g,u=c(function(g){return g.replace(d,function(h,v){return v?v.toUpperCase():""})});function p(g){g.parentElement!==null&&g.parentElement.removeChild(g)}function f(g,h,v){var T=v===0?g.children[0]:g.children[v-1].nextSibling;g.insertBefore(h,T)}}).call(this,s("c8ba"))},c69a:function(o,n,s){o.exports=!s("9e1e")&&!s("79e5")(function(){return Object.defineProperty(s("230e")("div"),"a",{get:function(){return 7}}).a!=7})},c8ba:function(o,n){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch{typeof window=="object"&&(s=window)}o.exports=s},ca5a:function(o,n){var s=0,i=Math.random();o.exports=function(a){return"Symbol(".concat(a===void 0?"":a,")_",(++s+i).toString(36))}},cadf:function(o,n,s){var i=s("9c6c"),a=s("d53b"),l=s("84f2"),c=s("6821");o.exports=s("01f9")(Array,"Array",function(d,u){this._t=c(d),this._i=0,this._k=u},function(){var d=this._t,u=this._k,p=this._i++;return!d||p>=d.length?(this._t=void 0,a(1)):u=="keys"?a(0,p):u=="values"?a(0,d[p]):a(0,[p,d[p]])},"values"),l.Arguments=l.Array,i("keys"),i("values"),i("entries")},cb7c:function(o,n,s){var i=s("d3f4");o.exports=function(a){if(!i(a))throw TypeError(a+" is not an object!");return a}},ce10:function(o,n,s){var i=s("69a8"),a=s("6821"),l=s("c366")(!1),c=s("613b")("IE_PROTO");o.exports=function(d,u){var p=a(d),f=0,g=[],h;for(h in p)h!=c&&i(p,h)&&g.push(h);for(;u.length>f;)i(p,h=u[f++])&&(~l(g,h)||g.push(h));return g}},d2c8:function(o,n,s){var i=s("aae3"),a=s("be13");o.exports=function(l,c,d){if(i(c))throw TypeError("String#"+d+" doesn't accept regex!");return String(a(l))}},d3f4:function(o,n){o.exports=function(s){return typeof s=="object"?s!==null:typeof s=="function"}},d53b:function(o,n){o.exports=function(s,i){return{value:i,done:!!s}}},d8e8:function(o,n){o.exports=function(s){if(typeof s!="function")throw TypeError(s+" is not a function!");return s}},e11e:function(o,n){o.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},f559:function(o,n,s){var i=s("5ca1"),a=s("9def"),l=s("d2c8"),c="startsWith",d=""[c];i(i.P+i.F*s("5147")(c),"String",{startsWith:function(p){var f=l(this,p,c),g=a(Math.min(arguments.length>1?arguments[1]:void 0,f.length)),h=String(p);return d?d.call(f,h,g):f.slice(g,g+h.length)===h}})},f6fd:function(o,n){(function(s){var i="currentScript",a=s.getElementsByTagName("script");i in s||Object.defineProperty(s,i,{get:function(){try{throw new Error}catch(d){var l,c=(/.*at [^\(]*\((.*):.+:.+\)$/ig.exec(d.stack)||[!1])[1];for(l in a)if(a[l].src==c||a[l].readyState=="interactive")return a[l];return null}}})})(document)},f751:function(o,n,s){var i=s("5ca1");i(i.S+i.F,"Object",{assign:s("7333")})},fa5b:function(o,n,s){o.exports=s("5537")("native-function-to-string",Function.toString)},fab2:function(o,n,s){var i=s("7726").document;o.exports=i&&i.documentElement},fb15:function(o,n,s){if(s.r(n),typeof window<"u"){s("f6fd");var i;(i=window.document.currentScript)&&(i=i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(s.p=i[1])}s("f751"),s("f559"),s("ac6a"),s("cadf"),s("456d");function a(y){if(Array.isArray(y))return y}function l(y,m){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(y)))){var b=[],_=!0,I=!1,j=void 0;try{for(var H=y[Symbol.iterator](),te;!(_=(te=H.next()).done)&&(b.push(te.value),!(m&&b.length===m));_=!0);}catch(De){I=!0,j=De}finally{try{!_&&H.return!=null&&H.return()}finally{if(I)throw j}}return b}}function c(y,m){(m==null||m>y.length)&&(m=y.length);for(var b=0,_=new Array(m);b<m;b++)_[b]=y[b];return _}function d(y,m){if(y){if(typeof y=="string")return c(y,m);var b=Object.prototype.toString.call(y).slice(8,-1);if(b==="Object"&&y.constructor&&(b=y.constructor.name),b==="Map"||b==="Set")return Array.from(y);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return c(y,m)}}function u(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p(y,m){return a(y)||l(y,m)||d(y,m)||u()}s("6762"),s("2fdb");function f(y){if(Array.isArray(y))return c(y)}function g(y){if(typeof Symbol<"u"&&Symbol.iterator in Object(y))return Array.from(y)}function h(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v(y){return f(y)||g(y)||d(y)||h()}var T=s("a352"),E=s.n(T),S=s("c649");function x(y,m,b){return b===void 0||(y=y||{},y[m]=b),y}function C(y,m){return y.map(function(b){return b.elm}).indexOf(m)}function k(y,m,b,_){if(!y)return[];var I=y.map(function(te){return te.elm}),j=m.length-_,H=v(m).map(function(te,De){return De>=j?I.length:I.indexOf(te)});return b?H.filter(function(te){return te!==-1}):H}function U(y,m){var b=this;this.$nextTick(function(){return b.$emit(y.toLowerCase(),m)})}function P(y){var m=this;return function(b){m.realList!==null&&m["onDrag"+y](b),U.call(m,y,b)}}function R(y){return["transition-group","TransitionGroup"].includes(y)}function F(y){if(!y||y.length!==1)return!1;var m=p(y,1),b=m[0].componentOptions;return b?R(b.tag):!1}function N(y,m,b){return y[b]||(m[b]?m[b]():void 0)}function q(y,m,b){var _=0,I=0,j=N(m,b,"header");j&&(_=j.length,y=y?[].concat(v(j),v(y)):v(j));var H=N(m,b,"footer");return H&&(I=H.length,y=y?[].concat(v(y),v(H)):v(H)),{children:y,headerOffset:_,footerOffset:I}}function re(y,m){var b=null,_=function(Lt,As){b=x(b,Lt,As)},I=Object.keys(y).filter(function(De){return De==="id"||De.startsWith("data-")}).reduce(function(De,Lt){return De[Lt]=y[Lt],De},{});if(_("attrs",I),!m)return b;var j=m.on,H=m.props,te=m.attrs;return _("on",j),_("props",H),Object.assign(b.attrs,te),b}var ee=["Start","Add","Remove","Update","End"],z=["Choose","Unchoose","Sort","Filter","Clone"],B=["Move"].concat(ee,z).map(function(y){return"on"+y}),V=null,ye={options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(m){return m}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},ue={name:"draggable",inheritAttrs:!1,props:ye,data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(m){var b=this.$slots.default;this.transitionMode=F(b);var _=q(b,this.$slots,this.$scopedSlots),I=_.children,j=_.headerOffset,H=_.footerOffset;this.headerOffset=j,this.footerOffset=H;var te=re(this.$attrs,this.componentData);return m(this.getTag(),te,I)},created:function(){this.list!==null&&this.value!==null&&S.b.error("Value and list props are mutually exclusive! Please set one or another."),this.element!=="div"&&S.b.warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),this.options!==void 0&&S.b.warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var m=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var b={};ee.forEach(function(j){b["on"+j]=P.call(m,j)}),z.forEach(function(j){b["on"+j]=U.bind(m,j)});var _=Object.keys(this.$attrs).reduce(function(j,H){return j[Object(S.a)(H)]=m.$attrs[H],j},{}),I=Object.assign({},this.options,_,b,{onMove:function(H,te){return m.onDragMove(H,te)}});!("draggable"in I)&&(I.draggable=">*"),this._sortable=new E.a(this.rootContainer,I),this.computeIndexes()},beforeDestroy:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(m){this.updateOptions(m)},deep:!0},$attrs:{handler:function(m){this.updateOptions(m)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var m=this._vnode.fnOptions;return m&&m.functional},getTag:function(){return this.tag||this.element},updateOptions:function(m){for(var b in m){var _=Object(S.a)(b);B.indexOf(_)===-1&&this._sortable.option(_,m[b])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var m=this.$slots.default;return this.transitionMode?m[0].child.$slots.default:m},computeIndexes:function(){var m=this;this.$nextTick(function(){m.visibleIndexes=k(m.getChildrenNodes(),m.rootContainer.children,m.transitionMode,m.footerOffset)})},getUnderlyingVm:function(m){var b=C(this.getChildrenNodes()||[],m);if(b===-1)return null;var _=this.realList[b];return{index:b,element:_}},getUnderlyingPotencialDraggableComponent:function(m){var b=m.__vue__;return!b||!b.$options||!R(b.$options._componentTag)?!("realList"in b)&&b.$children.length===1&&"realList"in b.$children[0]?b.$children[0]:b:b.$parent},emitChanges:function(m){var b=this;this.$nextTick(function(){b.$emit("change",m)})},alterList:function(m){if(this.list){m(this.list);return}var b=v(this.value);m(b),this.$emit("input",b)},spliceList:function(){var m=arguments,b=function(I){return I.splice.apply(I,v(m))};this.alterList(b)},updatePosition:function(m,b){var _=function(j){return j.splice(b,0,j.splice(m,1)[0])};this.alterList(_)},getRelatedContextFromMoveEvent:function(m){var b=m.to,_=m.related,I=this.getUnderlyingPotencialDraggableComponent(b);if(!I)return{component:I};var j=I.realList,H={list:j,component:I};if(b!==_&&j&&I.getUnderlyingVm){var te=I.getUnderlyingVm(_);if(te)return Object.assign(te,H)}return H},getVmIndex:function(m){var b=this.visibleIndexes,_=b.length;return m>_-1?_:b[m]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(m){if(!(!this.noTransitionOnDrag||!this.transitionMode)){var b=this.getChildrenNodes();b[m].data=null;var _=this.getComponent();_.children=[],_.kept=void 0}},onDragStart:function(m){this.context=this.getUnderlyingVm(m.item),m.item._underlying_vm_=this.clone(this.context.element),V=m.item},onDragAdd:function(m){var b=m.item._underlying_vm_;if(b!==void 0){Object(S.d)(m.item);var _=this.getVmIndex(m.newIndex);this.spliceList(_,0,b),this.computeIndexes();var I={element:b,newIndex:_};this.emitChanges({added:I})}},onDragRemove:function(m){if(Object(S.c)(this.rootContainer,m.item,m.oldIndex),m.pullMode==="clone"){Object(S.d)(m.clone);return}var b=this.context.index;this.spliceList(b,1);var _={element:this.context.element,oldIndex:b};this.resetTransitionData(b),this.emitChanges({removed:_})},onDragUpdate:function(m){Object(S.d)(m.item),Object(S.c)(m.from,m.item,m.oldIndex);var b=this.context.index,_=this.getVmIndex(m.newIndex);this.updatePosition(b,_);var I={element:this.context.element,oldIndex:b,newIndex:_};this.emitChanges({moved:I})},updateProperty:function(m,b){m.hasOwnProperty(b)&&(m[b]+=this.headerOffset)},computeFutureIndex:function(m,b){if(!m.element)return 0;var _=v(b.to.children).filter(function(te){return te.style.display!=="none"}),I=_.indexOf(b.related),j=m.component.getVmIndex(I),H=_.indexOf(V)!==-1;return H||!b.willInsertAfter?j:j+1},onDragMove:function(m,b){var _=this.move;if(!_||!this.realList)return!0;var I=this.getRelatedContextFromMoveEvent(m),j=this.context,H=this.computeFutureIndex(I,m);Object.assign(j,{futureIndex:H});var te=Object.assign({},m,{relatedContext:I,draggedContext:j});return _(te,b)},onDragEnd:function(){this.computeIndexes(),V=null}}};typeof window<"u"&&"Vue"in window&&window.Vue.component("draggable",ue);var ie=ue;n.default=ie}}).default})})(Vn);var lc=Vn.exports;const cc=Xr(lc),uc="/site/assets/points-3120774d.png",dc="/site/assets/polygons-8ab35a95.png",pc="/site/assets/arcs-dd7daee1.png",fc="/site/assets/links-97be4e77.png",ns={polygons:dc,lines:fc,points:uc,arcs:pc},hc=`
  uniform bool brushing_enabled;
  uniform int brushing_target;
  uniform vec2 brushing_mousePos;
  uniform float brushing_radius;

  #ifdef NON_INSTANCED_MODEL
  attribute vec2 brushingTargets;
  #else
  attribute vec2 instanceBrushingTargets;
  #endif

  varying float brushing_isVisible;

  bool brushing_isPointInRange(vec2 position) {
    if (!brushing_enabled) {
      return true;
    }
    vec2 source_commonspace = project_position(position);
    vec2 target_commonspace = project_position(brushing_mousePos);
    float distance = length((target_commonspace - source_commonspace) / project_uCommonUnitsPerMeter.xy);

    return distance <= brushing_radius;
  }

  bool brushing_arePointsInRange(vec2 sourcePos, vec2 targetPos) {
    return brushing_isPointInRange(sourcePos) || brushing_isPointInRange(targetPos);
  }

  void brushing_setVisible(bool visible) {
    brushing_isVisible = float(visible);
  }
`,gc=`
  uniform bool brushing_enabled;
  varying float brushing_isVisible;
`,mc={source:0,target:1,custom:2,source_target:3},vc={"vs:DECKGL_FILTER_GL_POSITION":`
    vec2 brushingTarget;
    vec2 brushingSource;
    if (brushing_target == 3) {
      brushingTarget = geometry.worldPositionAlt.xy;
      brushingSource = geometry.worldPosition.xy;
    } else if (brushing_target == 0) {
      brushingTarget = geometry.worldPosition.xy;
    } else if (brushing_target == 1) {
      brushingTarget = geometry.worldPositionAlt.xy;
    } else {
      #ifdef NON_INSTANCED_MODEL
      brushingTarget = brushingTargets;
      #else
      brushingTarget = instanceBrushingTargets;
      #endif
    }
    bool visible;
    if (brushing_target == 3) {
      visible = brushing_arePointsInRange(brushingSource, brushingTarget);
    } else {
      visible = brushing_isPointInRange(brushingTarget);
    }
    brushing_setVisible(visible);
  `,"fs:DECKGL_FILTER_COLOR":`
    if (brushing_enabled && brushing_isVisible < 0.5) {
      discard;
    }
  `},bc={name:"brushing",dependencies:[Ks],vs:hc,fs:gc,inject:vc,getUniforms:e=>{if(!e||!("viewport"in e))return{};const{brushingEnabled:t=!0,brushingRadius:r=1e4,brushingTarget:o="source",mousePosition:n,viewport:s}=e;return{brushing_enabled:!!(t&&n&&s.containsPixel(n)),brushing_radius:r,brushing_target:mc[o]||0,brushing_mousePos:n?s.unproject([n.x-s.x,n.y-s.y]):[0,0]}}},yc={getBrushingTarget:{type:"accessor",value:[0,0]},brushingTarget:"source",brushingEnabled:!0,brushingRadius:1e4};class uo extends Js{getShaders(){return{modules:[bc]}}initializeState(t,r){const o=this.getAttributeManager();o&&o.add({brushingTargets:{size:2,accessor:"getBrushingTarget",update:this.props.getBrushingTarget?void 0:r.useConstantTargetPositions,shaderAttributes:{brushingTargets:{divisor:0},instanceBrushingTargets:{divisor:1}}}}),this.state.onMouseMove=()=>{var n;(n=this.getCurrentLayer())===null||n===void 0||n.setNeedsRedraw()},t.deck&&t.deck.eventManager.on({pointermove:this.state.onMouseMove,pointerleave:this.state.onMouseMove})}finalizeState(t,r){t.deck&&t.deck.eventManager.off({pointermove:this.state.onMouseMove,pointerleave:this.state.onMouseMove})}useConstantTargetPositions(t){t.constant=!0,t.value=new Float32Array(2)}}tn(uo,"defaultProps",yc);tn(uo,"extensionName","BrushingExtension");class ur{constructor(t){Y(this,"key");Y(this,"datamanager");Y(this,"root");Y(this,"subfolder");this.key=Math.random()*1e12,this.datamanager=t.datamanager,this.root=t.root,this.subfolder=t.subfolder}getKey(){return this.key}}const Ec=ke({name:"ColumnSelector",props:{datasets:{type:Object,required:!0},extra:{type:Array,required:!1}},computed:{datasetChoices(){return this.datasetLabels.reverse()}},data:()=>({globalState:ve.state,dataColumn:"",datasetLabels:[],join:"",emitSpecification:null}),async mounted(){this.emitSpecification=Zr.debounce(this.emitSpecificationDebounced,150),this.datasetsAreLoaded(),await this.$nextTick(),this.dataColumn=this.$attrs.value},watch:{"$attrs.value"(){},datasets(){this.datasetsAreLoaded()},dataColumn(){this.emitSpecification()}},methods:{datasetsAreLoaded(){this.datasetLabels=Object.keys(this.datasets)},emitSpecificationDebounced(){if(!this.dataColumn)return;const e=this.dataColumn.indexOf(":");this.dataColumn.substring(0,e),this.dataColumn.substring(e+1),this.$emit("update",this.dataColumn)},columnsInDataset(e){const t=this.datasets[e];return t?Object.keys(t).filter(o=>t[o].type!==Ke.LOOKUP):[]}}});var Tc=function(){var t=this,r=t._self._c;return t._self._setupProxy,r("div",{staticClass:"column-widget"},[t._t("default",function(){return[t._v("Column")]}),r("b-select",{staticClass:"column-selector",attrs:{expanded:""},model:{value:t.dataColumn,callback:function(o){t.dataColumn=o},expression:"dataColumn"}},[t._l(t.extra,function(o,n){return t.extra?r("option",{key:n,attrs:{label:o},domProps:{value:`@${n+1}`}}):t._e()}),t._l(t.datasetChoices,function(o){return r("optgroup",{key:o,attrs:{label:o}},t._l(t.columnsInDataset(o),function(n){return r("option",{key:`${o}:${n}`,attrs:{label:n},domProps:{value:`${o}:${n}`}})}),0)})],2)],2)},wc=[];var Cc=Pe(Ec,Tc,wc,!1,null,"a1f0ef91",null,null);const dr=Cc.exports,xc=ke({name:"TextSelector",props:{},computed:{datasetChoices(){return this.datasetLabels.reverse()}},data:()=>({globalState:ve.state,dataColumn:"",datasetLabels:[],join:"",emitSpecification:null}),async mounted(){this.emitSpecification=Zr.debounce(this.emitSpecificationDebounced,150),this.datasetsAreLoaded(),await this.$nextTick(),this.dataColumn=this.$attrs.value},watch:{datasets(){this.datasetsAreLoaded()},dataColumn(){this.emitSpecification()}},methods:{datasetsAreLoaded(){},emitSpecificationDebounced(){this.$emit("update",this.dataColumn)}}});var Sc=function(){var t=this,r=t._self._c;return t._self._setupProxy,r("div",{staticClass:"text-selector"},[t._t("default",function(){return[t._v("Column")]}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.dataColumn,expression:"dataColumn"}],staticClass:"text-input",domProps:{value:t.dataColumn},on:{input:function(o){o.target.composing||(t.dataColumn=o.target.value)}}})],2)},Oc=[];var _c=Pe(xc,Sc,Oc,!1,null,"d7e38e29",null,null);const pr=_c.exports,Ac=ke({name:"ArcLayerConfig",components:{ColumnSelector:dr,TextSelector:pr},props:{datasets:{type:Object,required:!0},options:{type:Object,required:!0},open:Boolean},data(){return{startx:"",starty:"",endx:"",endy:"",radius:"",color:"",projection:"",isInitialized:!1}},computed:{},watch:{color(){this.updateConfig()},startx(){this.updateConfig()},starty(){this.updateConfig()},endx(){this.updateConfig()},endy(){this.updateConfig()},radius(){this.updateConfig()},projection(){this.updateConfig()}},methods:{updateConfig(){if(!this.isInitialized)return;console.log("GOT NEW CONFIG");const e=JSON.parse(JSON.stringify(this.options));e.color=this.color,e.startx=this.startx,e.starty=this.starty,e.endx=this.endx,e.endy=this.endy,e.radius=this.radius,e.projection=this.projection,this.$emit("update",e)}},async mounted(){console.log("POINTS options",this.options),this.color=this.options.color,this.startx=this.options.startx,this.starty=this.options.starty,this.endx=this.options.endx,this.endy=this.options.endy,this.radius=this.options.radius,this.projection=this.options.projection,await this.$nextTick(),this.isInitialized=!0},beforeDestroy(){}});var kc=function(){var t=this,r=t._self._c;return t._self._setupProxy,r("div",{staticClass:"layer-config flex-col"},[r("div",{staticClass:"panel-title flex-row",on:{click:function(o){return t.$emit("open")}}},[t._m(0),r("span",{staticClass:"closer",attrs:{title:"Remove layer"},on:{click:function(o){return t.$emit("update","delete")}}},[r("i",{staticClass:"fas fa-trash"})])]),t.open?r("div",{staticClass:"panel-content"},[r("div",{staticClass:"coordinates flex-row",staticStyle:{gap:"0.25rem"}},[r("column-selector",{staticClass:"flex1",attrs:{datasets:t.datasets},on:{update:function(o){t.startx=o}},model:{value:t.startx,callback:function(o){t.startx=o},expression:"startx"}},[r("p",{staticClass:"tight"},[t._v("Start-Lon/X")])]),r("column-selector",{staticClass:"flex1",attrs:{datasets:t.datasets},on:{update:function(o){t.starty=o}},model:{value:t.starty,callback:function(o){t.starty=o},expression:"starty"}},[r("p",{staticClass:"tight"},[t._v("Start-Lat/Y")])])],1),r("div",{staticClass:"coordinates flex-row",staticStyle:{gap:"0.25rem"}},[r("column-selector",{staticClass:"flex1",attrs:{datasets:t.datasets},on:{update:function(o){t.endx=o}},model:{value:t.endx,callback:function(o){t.endx=o},expression:"endx"}},[r("p",{staticClass:"tight"},[t._v("End-Lon//X")])]),r("column-selector",{staticClass:"flex1",attrs:{datasets:t.datasets},on:{update:function(o){t.endy=o}},model:{value:t.endy,callback:function(o){t.endy=o},expression:"endy"}},[r("p",{staticClass:"tight"},[t._v("End-Lat/Y")])])],1),r("div",{staticClass:"coordinates flex-row",staticStyle:{gap:"0.25rem"}},[r("column-selector",{staticClass:"flex1",attrs:{datasets:t.datasets},on:{update:function(o){t.color=o}},model:{value:t.color,callback:function(o){t.color=o},expression:"color"}},[r("p",{staticClass:"tight"},[t._v("Color")])])],1),r("div",{staticClass:"coordidnates flex-row",staticStyle:{gap:"0.25rem"},attrs:{title:"EPSG code for transforming non-lat/long coordinates"}},[r("text-selector",{staticClass:"flex1",attrs:{datasets:t.datasets},on:{update:function(o){t.projection=o}},model:{value:t.projection,callback:function(o){t.projection=o},expression:"projection"}},[r("p",{staticClass:"tight"},[t._v("EPSG Projection")])])],1)]):t._e()])},Pc=[function(){var e=this,t=e._self._c;return e._self._setupProxy,t("p",{staticClass:"center flex1"},[t("b",[e._v("Arcs")])])}];var Dc=Pe(Ac,kc,Pc,!1,null,"c663679f",null,null);const Fc=Dc.exports;class Gc extends ur{constructor(r,o){super(r);Y(this,"datasets");Y(this,"deckData");Y(this,"error");Y(this,"layerOptions");this.datasets=r.datasets,this.layerOptions=o,this.error="",this.deckData={},this.assembleData()}configPanel(){return Fc}updateConfig(r){if(console.log("I GOT IT!",r),this.layerOptions=r,r!=="delete")try{this.assembleData()}catch(o){console.error(o),this.error=""+o}}guessInitialParameters(){if(this.layerOptions.start_x)return;const r=Object.keys(this.datasets);if(r.length==1){const o=this.datasets[r[0]],n=Object.keys(o);console.log(n);const s=n.filter(a=>a.toLocaleLowerCase().endsWith("_x")),i=n.filter(a=>a.toLocaleLowerCase().endsWith("_y"));s.length>1&&i.length>1&&(this.layerOptions.startx=`${r[0]}:${s[0]}`,this.layerOptions.starty=`${r[0]}:${i[0]}`,this.layerOptions.endx=`${r[0]}:${s[1]}`,this.layerOptions.endy=`${r[0]}:${i[1]}`)}}assembleData(){var h,v,T,E,S;this.error="",this.guessInitialParameters();const r=(h=this.layerOptions.startx)==null?void 0:h.substring(0,this.layerOptions.startx.indexOf(":")),o=(v=this.layerOptions.startx)==null?void 0:v.substring(1+this.layerOptions.startx.indexOf(":")),n=(T=this.layerOptions.starty)==null?void 0:T.substring(1+this.layerOptions.starty.indexOf(":")),s=(E=this.layerOptions.endx)==null?void 0:E.substring(1+this.layerOptions.endx.indexOf(":")),i=(S=this.layerOptions.endy)==null?void 0:S.substring(1+this.layerOptions.endy.indexOf(":")),a=this.datasets[r];try{if(!a)throw Error("Arc layer cannot load data, are columns correct?");if(!(o in a))throw Error(`Dataset '${r}' does not contain column '${o}'`);if(!(n in a))throw Error(`Dataset '${r}' does not contain column '${n}'`);if(!(s in a))throw Error(`Dataset '${r}' does not contain column '${s}'`);if(!(i in a))throw Error(`Dataset '${r}' does not contain column '${i}'`)}catch{return}const l=a[o].values,c=a[n].values,d=a[s].values,u=a[i].values;let p=this.layerOptions.projection||"WGS84";Number.isFinite(parseInt(p))&&(p="EPSG:"+p);const f=new Float32Array(2*l.length).fill(NaN),g=new Float32Array(2*l.length).fill(NaN);console.log("YOUHERE"),l.forEach((x,C)=>{let k=Gr.toLngLat(p,[l[C],c[C]]);f[C*2]=Math.round(1e6*k[0])/1e6,f[C*2+1]=Math.round(1e6*k[1])/1e6;let U=Gr.toLngLat(p,[d[C],u[C]]);g[C*2]=Math.round(1e6*U[0])/1e6,g[C*2+1]=Math.round(1e6*U[1])/1e6}),console.log({sourcePositions:f,targetPositions:g}),new Array(l.length).fill("#33f1b380"),this.deckData={sourcePositions:f,targetPositions:g},console.log({data:this.deckData})}deckLayer(){if(this.error)throw Error(this.error);const r=new uo;return new qs({id:"arcLayer-"+Math.random()*1e12,data:{length:this.deckData.sourcePositions.length/2||0,attributes:{getSourcePosition:{value:this.deckData.sourcePositions,size:2},getTargetPosition:{value:this.deckData.targetPositions,size:2}}},getSourceColor:[50,240,192,64],getTargetColor:[255,255,255,64],getHeight:.5,getWidth:2,autoHighlight:!1,highlightColor:[255,0,224],opacity:.4,pickable:!1,useDevicePixels:!1,transitions:{},parameters:{depthTest:!1},glOptions:{preserveDrawingBuffer:!1,fp64:!1},brushingRadius:200,brushingEnabled:!0,extensions:[r]})}}var ss={exports:{}},Rc={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},is={exports:{}},Lc=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")},Ic=Lc,jc=Array.prototype.concat,$c=Array.prototype.slice,No=is.exports=function(t){for(var r=[],o=0,n=t.length;o<n;o++){var s=t[o];Ic(s)?r=jc.call(r,$c.call(s)):r.push(s)}return r};No.wrap=function(e){return function(){return e(No(arguments))}};var Uc=is.exports,_t=Rc,Rt=Uc,as=Object.hasOwnProperty,ls=Object.create(null);for(var Pr in _t)as.call(_t,Pr)&&(ls[_t[Pr]]=Pr);var Ce=ss.exports={to:{},get:{}};Ce.get=function(e){var t=e.substring(0,3).toLowerCase(),r,o;switch(t){case"hsl":r=Ce.get.hsl(e),o="hsl";break;case"hwb":r=Ce.get.hwb(e),o="hwb";break;default:r=Ce.get.rgb(e),o="rgb";break}return r?{model:o,value:r}:null};Ce.get.rgb=function(e){if(!e)return null;var t=/^#([a-f0-9]{3,4})$/i,r=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,o=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,n=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,s=/^(\w+)$/,i=[0,0,0,1],a,l,c;if(a=e.match(r)){for(c=a[2],a=a[1],l=0;l<3;l++){var d=l*2;i[l]=parseInt(a.slice(d,d+2),16)}c&&(i[3]=parseInt(c,16)/255)}else if(a=e.match(t)){for(a=a[1],c=a[3],l=0;l<3;l++)i[l]=parseInt(a[l]+a[l],16);c&&(i[3]=parseInt(c+c,16)/255)}else if(a=e.match(o)){for(l=0;l<3;l++)i[l]=parseInt(a[l+1],0);a[4]&&(a[5]?i[3]=parseFloat(a[4])*.01:i[3]=parseFloat(a[4]))}else if(a=e.match(n)){for(l=0;l<3;l++)i[l]=Math.round(parseFloat(a[l+1])*2.55);a[4]&&(a[5]?i[3]=parseFloat(a[4])*.01:i[3]=parseFloat(a[4]))}else return(a=e.match(s))?a[1]==="transparent"?[0,0,0,0]:as.call(_t,a[1])?(i=_t[a[1]],i[3]=1,i):null:null;for(l=0;l<3;l++)i[l]=Ne(i[l],0,255);return i[3]=Ne(i[3],0,1),i};Ce.get.hsl=function(e){if(!e)return null;var t=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=e.match(t);if(r){var o=parseFloat(r[4]),n=(parseFloat(r[1])%360+360)%360,s=Ne(parseFloat(r[2]),0,100),i=Ne(parseFloat(r[3]),0,100),a=Ne(isNaN(o)?1:o,0,1);return[n,s,i,a]}return null};Ce.get.hwb=function(e){if(!e)return null;var t=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=e.match(t);if(r){var o=parseFloat(r[4]),n=(parseFloat(r[1])%360+360)%360,s=Ne(parseFloat(r[2]),0,100),i=Ne(parseFloat(r[3]),0,100),a=Ne(isNaN(o)?1:o,0,1);return[n,s,i,a]}return null};Ce.to.hex=function(){var e=Rt(arguments);return"#"+Nt(e[0])+Nt(e[1])+Nt(e[2])+(e[3]<1?Nt(Math.round(e[3]*255)):"")};Ce.to.rgb=function(){var e=Rt(arguments);return e.length<4||e[3]===1?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"};Ce.to.rgb.percent=function(){var e=Rt(arguments),t=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),o=Math.round(e[2]/255*100);return e.length<4||e[3]===1?"rgb("+t+"%, "+r+"%, "+o+"%)":"rgba("+t+"%, "+r+"%, "+o+"%, "+e[3]+")"};Ce.to.hsl=function(){var e=Rt(arguments);return e.length<4||e[3]===1?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"};Ce.to.hwb=function(){var e=Rt(arguments),t="";return e.length>=4&&e[3]!==1&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"};Ce.to.keyword=function(e){return ls[e.slice(0,3)]};function Ne(e,t,r){return Math.min(Math.max(t,e),r)}function Nt(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}var Mc=ss.exports;const ar=Xr(Mc),Nc=ke({name:"DatasetSelector",props:{datasets:{type:Object,required:!0}},computed:{datasetChoices(){return this.datasetLabels.reverse()}},data:()=>({globalState:ve.state,dataset:"",datasetLabels:[],join:"",emitSpecification:null}),async mounted(){this.emitSpecification=Zr.debounce(this.emitSpecificationDebounced,150),this.datasetsAreLoaded(),await this.$nextTick(),this.dataset=this.$attrs.value},watch:{"$attrs.value"(){this.dataset=this.$attrs.value},datasets(){this.datasetsAreLoaded()},dataset(){this.emitSpecification()}},methods:{datasetsAreLoaded(){this.datasetLabels=Object.keys(this.datasets)},emitSpecificationDebounced(){this.dataset&&this.$emit("update",this.dataset)}}});var Bc=function(){var t=this,r=t._self._c;return t._self._setupProxy,r("div",{staticClass:"column-widget"},[t._t("default",function(){return[t._v("Column")]}),r("b-select",{staticClass:"column-selector",attrs:{expanded:""},model:{value:t.dataset,callback:function(o){t.dataset=o},expression:"dataset"}},t._l(t.datasetChoices,function(o){return r("option",{key:o,attrs:{label:o},domProps:{value:o}})}),0)],2)},Hc=[];var zc=Pe(Nc,Bc,Hc,!1,null,"a028f7ec",null,null);const cs=zc.exports,Wc=ke({name:"PolygonsLayerConfig",components:{ColumnSelector:dr,DatasetSelector:cs,TextSelector:pr,ColorMapSelector:rn,ModalIdColumnPicker:en},props:{datasets:{type:Object,required:!0},options:{type:Object,required:!0},open:Boolean},data(){return{globalState:ve.state,debScale:{},shapes:"",width:"",color:"",diff:"",lineSingleColor:"",diffRelative:!1,scaleFactor:50,join:"@1",join2:"@1",shapeJoin:"",normalize:"@1",fixedColors:[],colormap:"Viridis",isInvertedColor:!1,isInitialized:!1,projection:"",flip:!1,steps:"9",vizConfiguration:{datasets:this.options},solidColors:["None","Single color"],joinOptions:["None","Row Count"],widthOptions:["1 pt","2 pt","4 pt"],showJoinPicker:!1}},computed:{datasetKeys(){return Object.keys(this.datasets)},datasetKeysWithoutShapeKey(){return this.datasetKeys.filter(e=>e!==this.shapes)},getDiffOptions(){const e=["None"],t=this.datasetKeysWithoutShapeKey;return t.length==2&&(e.push(`${t[1]} - ${t[0]}`),e.push(`${t[0]} - ${t[1]}`)),t.length==3&&(e.push(`${t[1]} - ${t[0]}`),e.push(`${t[0]} - ${t[1]}`),e.push(`${t[2]} - ${t[0]}`),e.push(`${t[0]} - ${t[2]}`),e.push(`${t[2]} - ${t[1]}`),e.push(`${t[1]} - ${t[2]}`)),e},getJoinOptions(){const e=this.width.indexOf(":");if(e==-1)return{};const t=this.datasets[this.width.substring(0,e)];if(!t)return{};const r=Object.keys(t).filter(n=>t[n].type!==Ke.LOOKUP),o={};return r.forEach(n=>o[n]={type:t[n].type}),{"Join by...":o}},simpleColors(){return this.buildColors({ramp:"Tableau10",style:Kt.categorical},10).concat(["#f4f4f4","#111111"])}},watch:{colormap(){this.fixedColors=[],this.updateConfig()},isInvertedColor(){this.fixedColors=[],this.updateConfig()},diff(){this.updateConfig()},diffRelative(){this.updateConfig()},join(){this.thinkAboutJoin(),console.log("upon thinking, join is:",this.shapeJoin),this.updateConfig()},width(){this.updateConfig()},color(){this.updateConfig()},normalize(){this.updateConfig()},projection(){this.updateConfig()},shapes(){this.shapes&&!this.color&&(this.color="@2"),this.updateConfig()}},async mounted(){console.log("LINES options",this.options),this.debScale=Qr(this.updateScaleFactor,16.6667*5),this.shapes=this.options.shapes,this.projection=this.options.projection,this.color=this.options.color||"@2",this.width=this.options.width||"@1",this.scaleFactor="scaleFactor"in this.options?this.options.scaleFactor:70,this.fixedColors=this.options.fixedColors||[],this.join=this.options.join||"@1",this.join&&this.join.indexOf(":")>-1&&(this.shapeJoin=this.join.split(":")[0],console.log({join:this.join,shapejoin:this.shapeJoin})),await this.$nextTick(),this.isInitialized=!0,this.updateConfig()},methods:{thinkAboutJoin(){if(this.shapeJoin)return;const e=Object.keys(this.datasets[this.shapes]||{});e.length==1?this.shapeJoin=e[0]:this.showJoinPicker=!0},joinClicked(e){console.log(e),this.shapeJoin=e||"",this.showJoinPicker=!1},clickedSingleColor(e,t){this.lineSingleColor=t,this.updateConfig()},buildColors(e,t){let r=[...Jt(e,t||parseInt(this.steps))],o=!!e.reverse;return this.flip&&(o=!o),o&&(r=r.reverse()),r},updateScaleFactor(e){this.scaleFactor=e,this.updateConfig()},updateConfig(){if(!this.isInitialized)return;const e=JSON.parse(JSON.stringify(this.options));if(e.shapes=this.shapes,this.projection&&(e.projection=this.projection),e.width=this.width,e.width=="@1"&&(e.width="1"),e.width=="@2"&&(e.width="2"),e.width=="@3"&&(e.width="4"),e.scaleFactor=this.scaleFactor||1,e.color=this.color,e.color=="@2"&&(e.color=this.lineSingleColor||"#4e79a7"),(this.color=="@1"||this.color=="@2")&&(this.normalize="@1"),this.diff&&this.diff!=="None"&&(e.diff=this.diff,e.diffRelative=this.diffRelative),e.join=this.join=="@1"?"":`${this.shapeJoin}:${this.join.substring(1+this.join.indexOf(":"))}`,e.normalize=this.normalize=="@1"?"":this.normalize,this.fixedColors.length)e.fixedColors=[...this.fixedColors];else if(this.color.indexOf(":")>-1){const t=Jt({ramp:this.colormap,style:Kt.sequential},9);this.isInvertedColor&&t.reverse(),e.fixedColors=t}this.$emit("update",e)}}});var Vc=function(){var t=this,r=t._self._c;return t._self._setupProxy,r("div",{staticClass:"layer-config flex-col"},[r("div",{staticClass:"panel-title flex-row",on:{click:function(o){return t.$emit("open")}}},[t._m(0),r("span",{staticClass:"closer",attrs:{title:"Remove layer"},on:{click:function(o){return t.$emit("update","delete")}}},[r("i",{staticClass:"fas fa-trash"})])]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.open,expression:"open"}],staticClass:"panel-content flex-col"},[r("div",{staticClass:"widget-row"},[r("dataset-selector",{attrs:{datasets:t.datasets},on:{update:function(o){t.shapes=o}},model:{value:t.shapes,callback:function(o){t.shapes=o},expression:"shapes"}},[r("p",{staticClass:"tight"},[t._v("Lines")])])],1),r("div",{staticClass:"widget-row"},[r("column-selector",{staticClass:"flex1",attrs:{extra:t.widthOptions,datasets:t.datasets},on:{update:function(o){t.width=o}},model:{value:t.width,callback:function(o){t.width=o},expression:"width"}},[r("p",{staticClass:"tight"},[t._v("Width")])]),r("column-selector",{staticClass:"flex1",attrs:{extra:t.joinOptions,datasets:t.getJoinOptions},on:{update:function(o){t.join=o}},model:{value:t.join,callback:function(o){t.join=o},expression:"join"}},[r("p",{staticClass:"tight"},[t._v("Join")])])],1),r("div",{staticClass:"widget-row flex-col"},[r("p",{staticClass:"tight"},[t._v("Scale")]),r("b-slider",{staticClass:"slider",attrs:{tooltip:!1},on:{input:t.debScale},model:{value:t.scaleFactor,callback:function(o){t.scaleFactor=o},expression:"scaleFactor"}})],1),r("div",{staticClass:"widget-row flex-col"},[r("column-selector",{attrs:{extra:t.solidColors,datasets:t.datasets},on:{update:function(o){t.color=o}},model:{value:t.color,callback:function(o){t.color=o},expression:"color"}},[r("p",{staticClass:"tight"},[t._v("Color by")])]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.color=="@2",expression:"color=='@2'"}],staticClass:"colorbar flex-row single"},t._l(t.simpleColors,function(o){return r("div",{key:o,staticClass:"single-color",class:{active:t.lineSingleColor==o},style:{backgroundColor:`${o}`},on:{click:function(n){return t.clickedSingleColor("color",o)}}})}),0)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:t.color.indexOf(":")>-1,expression:"color.indexOf(':') > -1"}],staticClass:"widget-row"},[r("div",{staticClass:"widget flex1"},[r("column-selector",{attrs:{extra:t.joinOptions,datasets:t.getJoinOptions},on:{update:function(o){t.join2=o}},model:{value:t.join2,callback:function(o){t.join2=o},expression:"join2"}},[r("p",{staticClass:"tight"},[t._v("Join/Count")])])],1),r("div",{staticClass:"widget flex1"},[r("column-selector",{attrs:{extra:["None"],datasets:t.datasets},on:{update:function(o){t.normalize=o}},model:{value:t.normalize,callback:function(o){t.normalize=o},expression:"normalize"}},[r("p",{staticClass:"tight"},[t._v("Normalize")])])],1)]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.color.indexOf(":")>-1,expression:"color.indexOf(':') > -1"}],staticClass:"widget-row"},[r("div",{staticClass:"widget flex1"},[r("column-selector",{attrs:{extra:["None"],datasets:t.datasets},on:{update:function(o){t.diff=o}},model:{value:t.diff,callback:function(o){t.diff=o},expression:"diff"}},[r("p",{staticClass:"tight"},[t._v("Diff vs.")])])],1),r("div",{staticClass:"widget flex1"},[r("p",{staticClass:"tight",staticStyle:{"margin-bottom":"6px"}},[t._v("% Diff")]),r("b-switch",{staticClass:"is-small",model:{value:t.diffRelative,callback:function(o){t.diffRelative=o},expression:"diffRelative"}})],1)]),t.color.indexOf(":")>-1?r("div",{staticClass:"widget-row flex-col"},[r("p",{staticClass:"tight"},[t._v("Colors")]),r("ColorMapSelector",{staticClass:"color-map-selector",attrs:{value:t.colormap,invert:t.isInvertedColor},on:{onValueChange:function(o){t.colormap=o},onInversionChange:function(o){t.isInvertedColor=!t.isInvertedColor}}})],1):t._e()]),t.showJoinPicker?r("modal-id-column-picker",{attrs:{data1:{columns:Object.keys(this.datasets[this.shapes]||{})}},on:{join:function(o){return t.joinClicked(o)}}}):t._e()],1)},Yc=[function(){var e=this,t=e._self._c;return e._self._setupProxy,t("p",{staticClass:"center flex1"},[t("b",[e._v("Lines")])])}];var Kc=Pe(Wc,Vc,Yc,!1,null,"7a901f15",null,null);const Jc=Kc.exports;function Vr(){return new Worker("/site/assets/PolygonsLayer.worker-429cdf40.js")}class qc extends ur{constructor(r,o){super(r);Y(this,"features");Y(this,"datasets");Y(this,"error");Y(this,"layerOptions");Y(this,"worker");Y(this,"deckData");this.datasets=r.datasets,this.features=[],this.layerOptions=o,this.error="",this.deckData={colors:"",widths:""}}configPanel(){return Jc}async updateConfig(r){if(console.log("NEW OPTIONS!",r),this.layerOptions={...r},r!=="delete")try{await this.assembleData()}catch(o){console.error(o),this.features=[],this.error=""+o}}guessInitialParameters(){const r=Object.keys(this.datasets);for(const o of r)if(this.datamanager.getFeatureCollection(o)){this.layerOptions.shapes=o;break}}async assembleData(){var n,s,i,a,l,c,d,u;this.error="",this.layerOptions.shapes||this.guessInitialParameters(),this.layerOptions.shapes&&(this.features=this.datamanager.getFeatureCollection(this.layerOptions.shapes)||[]);const r=this.features.length;let o=new Float32Array(r).fill(1);try{const p=parseInt((n=this.layerOptions)==null?void 0:n.width,10);Number.isFinite(p)&&o.fill(p);const f=(i=this.layerOptions.width)==null?void 0:i.substring(0,(s=this.layerOptions.width)==null?void 0:s.indexOf(":")),g=(l=this.layerOptions.width)==null?void 0:l.substring(1+((a=this.layerOptions.width)==null?void 0:a.indexOf(":"))),h=(d=this.layerOptions.join)==null?void 0:d.substring(1+((c=this.layerOptions.join)==null?void 0:c.indexOf(":")));if(await this.buildLookup(f),f&&g in this.datasets[f]){const{array:v,legend:T,calculatedValues:E}=Xs.getWidthsForDataColumn({numFeatures:this.features.length,data:this.datasets[f][g],lookup:this.datasets[f][`@@${h}`],options:this.layerOptions});E&&(o=E)}}catch(p){console.error(p)}this.deckData.widths=o,this.layerOptions.color=="@1"?this.deckData.colors="":(u=this.layerOptions.color)!=null&&u.startsWith("#")&&(this.deckData.colors=ar.get.rgb(this.layerOptions.color).slice(0,3)),this.layerOptions.color.indexOf(":")>-1&&(this.deckData.colors=await this.generateColors())}updateStatus(r){console.log("NEED TO SEND STATUS:",r)}async buildLookup(r){var o,n;if(this.worker||(this.worker=Rr(new Vr)),(o=this.layerOptions)!=null&&o.join&&((n=this.layerOptions)==null?void 0:n.join.indexOf(":"))>-1){const[s,i]=this.layerOptions.join.split(":"),a=this.datasets[this.layerOptions.shapes][s].values;await this.worker.buildFeatureLookup(s,a);const c=this.datasets[r][i],d=await this.worker.buildDatasetLookup({joinColumns:this.layerOptions.join,dataColumn:c}),u=this.datasets[r];u[`@@${i}`]=d,this.datamanager.setPreloadedDataset({key:r,dataTable:u})}}async generateColors(){var p,f,g,h;this.worker||(this.worker=Rr(new Vr));const[r,o]=this.layerOptions.color.split(":")||[],[n,s]=((p=this.layerOptions.normalize)==null?void 0:p.split(":"))||[],[i,a]=((f=this.layerOptions.diff)==null?void 0:f.split(":"))||[];if((g=this.layerOptions)!=null&&g.join&&((h=this.layerOptions)==null?void 0:h.join.indexOf(":"))>-1){const[v,T]=this.layerOptions.join.split(":"),E=this.datasets[this.layerOptions.shapes][v].values;await this.worker.buildFeatureLookup(v,E);const S=this.datasets[r][T],x=await this.worker.buildDatasetLookup({joinColumns:this.layerOptions.join,dataColumn:S});console.log({dataLookupColumn:x});const C=this.datasets[r];C[`@@${T}`]=x,this.datamanager.setPreloadedDataset({key:r,dataTable:C})}const l=this.datasets[r][o],c=n&&s?this.datasets[n][s]:null,d=i&&a?this.datasets[i][a]:null;return console.log("ABOUT TO COLOR",{dataColumn:l,options:this.layerOptions}),await this.worker.buildColorArray({numFeatures:this.features.length,dataColumn:l,diffColumn:d,normalColumn:c,options:this.layerOptions,datasetIds:Object.keys(this.datasets)},on(this.updateStatus))}deckLayer(){if(this.error)throw Error(this.error);let r=this.layerOptions.scaleFactor==0?1e-6:1/Math.pow(2,(100-this.layerOptions.scaleFactor)/5-7);Number.isNaN(r)&&(r=1);let o=(s,i)=>this.deckData.widths[i.index],n=[78,121,167,255];return Array.isArray(this.deckData.colors)&&(n=this.deckData.colors),ArrayBuffer.isView(this.deckData.colors)&&(n=(s,i)=>[this.deckData.colors[i.index*3+0],this.deckData.colors[i.index*3+1],this.deckData.colors[i.index*3+2],255]),new Ns({id:"lineLayer-"+this.getKey(),data:this.features,getLineColor:n,getLineWidth:o,lineWidthScale:r,highlightColor:[255,255,255,128],autoHighlight:!0,opacity:1,pickable:!0,updateTriggers:{getLineColor:n,getLineWidth:o},transitions:{getLineColor:300,getLineWidth:300},parameters:{depthTest:!1},glOptions:{preserveDrawingBuffer:!1,fp64:!1}})}}const Xc=ke({name:"PointsLayerConfig",components:{ColumnSelector:dr,TextSelector:pr},props:{datasets:{type:Object,required:!0},options:{type:Object,required:!0},open:Boolean},data:()=>({lon:"",lat:"",radius:"",color:"",projection:"",scaleFactor:50,isInitialized:!1,debScale:{}}),computed:{},watch:{scaleFactor(){},color(){this.updateConfig()},lon(){this.updateConfig()},lat(){this.updateConfig()},radius(){this.updateConfig()},projection(){this.updateConfig()}},methods:{updateConfig(){if(!this.isInitialized)return;console.log("GOT NEW CONFIG");const e=JSON.parse(JSON.stringify(this.options));e.color=this.color,e.lon=this.lon,e.lat=this.lat,e.radius=this.radius,e.projection=this.projection,e.scaleFactor=this.scaleFactor,console.log("SCALEFACTOR: ",this.scaleFactor),this.$emit("update",e)},updateScaleFactor(e){this.scaleFactor=e,this.updateConfig()}},async mounted(){console.log("POINTS options",this.options),this.debScale=Qr(this.updateScaleFactor,16.6667*5),this.color=this.options.color,this.lon=this.options.lon,this.lat=this.options.lat,this.radius=this.options.radius,this.scaleFactor="scaleFactor"in this.options?this.options.scaleFactor:70,this.projection=this.options.projection,await this.$nextTick(),this.isInitialized=!0,this.updateConfig()},beforeDestroy(){}});var Zc=function(){var t=this,r=t._self._c;return t._self._setupProxy,r("div",{staticClass:"layer-config flex-col"},[r("div",{staticClass:"panel-title flex-row",on:{click:function(o){return t.$emit("open")}}},[t._m(0),r("span",{staticClass:"closer",attrs:{title:"Remove layer"},on:{click:function(o){return t.$emit("update","delete")}}},[r("i",{staticClass:"fas fa-trash"})])]),t.open?r("div",{staticClass:"panel-content"},[r("div",{staticClass:"coordinates flex-row",staticStyle:{gap:"0.25rem"}},[r("column-selector",{staticClass:"flex1",attrs:{datasets:t.datasets},on:{update:function(o){t.lon=o}},model:{value:t.lon,callback:function(o){t.lon=o},expression:"lon"}},[r("p",{staticClass:"tight"},[t._v("Longitude/X")])]),r("column-selector",{staticClass:"flex1",attrs:{datasets:t.datasets},on:{update:function(o){t.lat=o}},model:{value:t.lat,callback:function(o){t.lat=o},expression:"lat"}},[r("p",{staticClass:"tight"},[t._v("Latitude/Y")])])],1),r("div",{staticClass:"coordinates flex-row",staticStyle:{gap:"0.25rem"}},[r("column-selector",{staticClass:"flex1",attrs:{datasets:t.datasets},on:{update:function(o){t.radius=o}},model:{value:t.radius,callback:function(o){t.radius=o},expression:"radius"}},[r("p",{staticClass:"tight"},[t._v("Radius")])]),r("column-selector",{staticClass:"flex1",attrs:{datasets:t.datasets},on:{update:function(o){t.color=o}},model:{value:t.color,callback:function(o){t.color=o},expression:"color"}},[r("p",{staticClass:"tight"},[t._v("Color")])])],1),r("div",{staticClass:"coordidnates flex-row",staticStyle:{gap:"0.25rem"},attrs:{title:"EPSG code for transforming non-lat/long coordinates"}},[r("text-selector",{staticClass:"flex1",attrs:{datasets:t.datasets},on:{update:function(o){t.projection=o}},model:{value:t.projection,callback:function(o){t.projection=o},expression:"projection"}},[r("p",{staticClass:"tight"},[t._v("EPSG Projection")])])],1),r("div",{staticClass:"coordinates flex-column"},[r("p",{staticClass:"field-label"},[t._v("Scale")]),r("b-slider",{staticClass:"slider",attrs:{tooltip:!1},on:{input:t.debScale},model:{value:t.scaleFactor,callback:function(o){t.scaleFactor=o},expression:"scaleFactor"}})],1)]):t._e()])},Qc=[function(){var e=this,t=e._self._c;return e._self._setupProxy,t("p",{staticClass:"center flex1"},[t("b",[e._v("Points")])])}];var eu=Pe(Xc,Zc,Qc,!1,null,"88b0f0da",null,null);const tu=eu.exports;class ru extends ur{constructor(r,o){super(r);Y(this,"datasets");Y(this,"deckData");Y(this,"error");Y(this,"layerOptions");this.datasets=r.datasets,this.layerOptions=o,this.error="",this.deckData=null}configPanel(){return tu}updateConfig(r){if(this.layerOptions=r,r!=="delete")try{this.assembleData()}catch(o){console.error(o),this.error=""+o}}guessInitialParameters(){if(this.layerOptions.lon)return;const r=Object.keys(this.datasets);if(r.length==1){const o=this.datasets[r[0]],n=Object.keys(o),s=n.filter(a=>a.toLocaleLowerCase().endsWith("lon")),i=n.filter(a=>a.toLocaleLowerCase().endsWith("lat"));s.length&&i.length&&(this.layerOptions.lon=`${r[0]}:${s[0]}`,this.layerOptions.lat=`${r[0]}:${i[0]}`)}}assembleData(){var g,h,v,T,E,S,x;this.error="",this.guessInitialParameters();const r=(g=this.layerOptions.lon)==null?void 0:g.substring(0,this.layerOptions.lon.indexOf(":")),o=this.datasets[r],n=(h=this.layerOptions.lon)==null?void 0:h.substring(1+this.layerOptions.lon.indexOf(":")),s=(v=this.layerOptions.lat)==null?void 0:v.substring(1+this.layerOptions.lat.indexOf(":"));try{if(!o)throw Error("Point layer cannot load data, are columns correct?");if(!(n in o))throw Error(`Dataset '${r}' does not contain column '${n}'`);if(!(s in o))throw Error(`Dataset '${r}' does not contain column '${s}'`)}catch(C){console.error(C);return}const i=o[n].values,a=o[s].values,l=i.length;let c=this.layerOptions.projection||"WGS84";Number.isFinite(parseInt(c))&&(c="EPSG:"+c);const d=new Float32Array(l*2);i.forEach((C,k)=>{try{const U=Gr.toLngLat(c,[i[k],a[k]]);d[k*2]=U[0],d[k*2+1]=U[1]}catch{}});let u=new Float32Array(l).fill(100);try{const C=(E=this.layerOptions.radius)==null?void 0:E.substring(0,(T=this.layerOptions.radius)==null?void 0:T.indexOf(":")),k=(x=this.layerOptions.radius)==null?void 0:x.substring(1+((S=this.layerOptions.radius)==null?void 0:S.indexOf(":")));C&&k in this.datasets[C]&&u.forEach((U,P)=>u[P]=this.datasets[C][k].values[P])}catch(C){console.error(C)}let p=new Array(l).fill("#dd00dd");if(typeof this.layerOptions.color=="string"){const C=this.layerOptions.color.substring(0,this.layerOptions.color.indexOf(":")),k=this.layerOptions.color.substring(1+this.layerOptions.color.indexOf(":"));C&&k in this.datasets[C]&&(p=this.datasets[C][k].values)}let f=new Uint8ClampedArray(3*l).fill(0);for(let C=0;C<l;C++){const k=ar.get.rgb(p[C]);k&&(f[C*3]=k[0],f[C*3+1]=k[1],f[C*3+2]=k[2])}this.deckData={coordinates:d,radius:u,colors:f}}deckLayer(){if(!this.deckData)return null;let r=this.layerOptions.scaleFactor==0?1e-6:1/Math.pow(2,(100-this.layerOptions.scaleFactor)/5-7);if(Number.isNaN(r)&&(r=1),this.error)throw Error(this.error);return new Zs({id:"pointlayer-"+this.getKey(),data:{length:this.deckData.radius.length,attributes:{getPosition:{value:this.deckData.coordinates,size:2},getRadius:{value:this.deckData.radius,size:1},getFillColor:{value:this.deckData.colors,size:3}}},radiusScale:r,stroked:!1,filled:!0,autoHighlight:!0,highlightColor:[255,0,224],opacity:1,pickable:!0,useDevicePixels:!1,transitions:{},parameters:{depthTest:!1},glOptions:{preserveDrawingBuffer:!0,fp64:!1}})}}const ou=ke({name:"PolygonsLayerConfig",components:{ColumnSelector:dr,DatasetSelector:cs,TextSelector:pr,ColorMapSelector:rn,ModalIdColumnPicker:en},props:{datasets:{type:Object,required:!0},options:{type:Object,required:!0},open:Boolean},data(){return{globalState:ve.state,debOpacity:{},shapes:"",metric:"",opacity:100,diff:"",diffRelative:!1,outline:"@1",fillSingleColor:"",outlineSingleColor:"",fixedColors:[],join:"@1",shapeJoin:"",normalize:"@1",colormap:"Viridis",isInvertedColor:!1,isInitialized:!1,projection:"",flip:!1,steps:"9",vizConfiguration:{datasets:this.options},solidColors:["None","Single color"],joinOptions:["None","Row Count"],showJoinPicker:!1}},computed:{datasetKeys(){return Object.keys(this.datasets)},datasetKeysWithoutShapeKey(){return this.datasetKeys.filter(e=>e!==this.shapes)},getDiffOptions(){const e=["None"],t=this.datasetKeysWithoutShapeKey;return t.length==2&&(e.push(`${t[1]} - ${t[0]}`),e.push(`${t[0]} - ${t[1]}`)),t.length==3&&(e.push(`${t[1]} - ${t[0]}`),e.push(`${t[0]} - ${t[1]}`),e.push(`${t[2]} - ${t[0]}`),e.push(`${t[0]} - ${t[2]}`),e.push(`${t[2]} - ${t[1]}`),e.push(`${t[1]} - ${t[2]}`)),e},getJoinOptions(){const e=this.metric.indexOf(":");if(e==-1)return{};const t=this.datasets[this.metric.substring(0,e)];if(!t)return{};const r=Object.keys(t).filter(n=>t[n].type!==Ke.LOOKUP),o={};return r.forEach(n=>o[n]={type:t[n].type}),{"Join by...":o}},simpleColors(){return this.buildColors({ramp:"Tableau10",style:Kt.categorical},10).concat(["#f4f4f4","#111111"])}},watch:{colormap(){this.fixedColors=[],this.updateConfig()},isInvertedColor(){this.fixedColors=[],this.updateConfig()},diff(){this.updateConfig()},diffRelative(){this.updateConfig()},join(){this.thinkAboutJoin(),console.log("upon thinking, join is:",this.shapeJoin),this.updateConfig()},metric(){this.updateConfig()},normalize(){this.updateConfig()},outline(){this.updateConfig()},projection(){this.updateConfig()},shapes(){this.shapes&&!this.metric&&(this.metric="@2"),this.updateConfig()}},async mounted(){console.log("POLYGONS options",this.options),this.debOpacity=Qr(this.updateOpacity,16.6667*2),this.projection=this.options.projection,this.metric=this.options.metric||"@2",this.outline=this.options.outline||"@1",this.shapes=this.options.shapes,this.fixedColors=this.options.fixedColors||[],this.join=this.options.join||"@1",this.join&&this.join.indexOf(":")>-1&&(this.shapeJoin=this.join.split(":")[0],console.log({join:this.join,shapejoin:this.shapeJoin})),await this.$nextTick(),this.isInitialized=!0,this.updateConfig()},methods:{updateOpacity(e){this.opacity=e,this.updateConfig()},thinkAboutJoin(){if(this.shapeJoin)return;const e=Object.keys(this.datasets[this.shapes]||{});e.length==1?this.shapeJoin=e[0]:this.showJoinPicker=!0},joinClicked(e){console.log(e),this.shapeJoin=e||"",this.showJoinPicker=!1},clickedSingleColor(e,t){e=="outline"?this.outlineSingleColor=t:this.fillSingleColor=t,this.updateConfig()},buildColors(e,t){let r=[...Jt(e,t||parseInt(this.steps))],o=!!e.reverse;return this.flip&&(o=!o),o&&(r=r.reverse()),r},updateConfig(){if(!this.isInitialized)return;const e=JSON.parse(JSON.stringify(this.options));if(e.shapes=this.shapes,this.projection&&(e.projection=this.projection),e.metric=this.metric,e.metric=="@2"&&(e.metric=this.fillSingleColor||"#4e79a7"),(this.metric=="@1"||this.metric=="@2")&&(this.join="@1",this.normalize="@1"),this.diff&&this.diff!=="None"&&(e.diff=this.diff,e.diffRelative=this.diffRelative),e.join=this.join=="@1"?"":`${this.shapeJoin}:${this.join.substring(1+this.join.indexOf(":"))}`,e.normalize=this.normalize=="@1"?"":this.normalize,e.outline=this.outline,e.outline=="@1"&&(e.outline=""),e.outline=="@2"&&(e.outline=this.outlineSingleColor||"#f4f4f4"),this.fixedColors.length)e.fixedColors=[...this.fixedColors];else if(this.metric.indexOf(":")>-1){const t=Jt({ramp:this.colormap,style:Kt.sequential},9);this.isInvertedColor&&t.reverse(),e.fixedColors=t}e.opacity=this.opacity/100,this.$emit("update",e)}}});var nu=function(){var t=this,r=t._self._c;return t._self._setupProxy,r("div",{staticClass:"layer-config flex-col"},[r("div",{staticClass:"panel-title flex-row",on:{click:function(o){return t.$emit("open")}}},[t._m(0),r("span",{staticClass:"closer",attrs:{title:"Remove layer"},on:{click:function(o){return t.$emit("update","delete")}}},[r("i",{staticClass:"fas fa-trash"})])]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.open,expression:"open"}],staticClass:"panel-content flex-col"},[r("div",{staticClass:"widget-row"},[r("dataset-selector",{attrs:{datasets:t.datasets},on:{update:function(o){t.shapes=o}},model:{value:t.shapes,callback:function(o){t.shapes=o},expression:"shapes"}},[r("p",{staticClass:"tight"},[t._v("Shapes")])])],1),r("div",{staticClass:"widget-row flex-col"},[r("column-selector",{attrs:{extra:t.solidColors,datasets:t.datasets},on:{update:function(o){t.metric=o}},model:{value:t.metric,callback:function(o){t.metric=o},expression:"metric"}},[r("p",{staticClass:"tight"},[t._v("Fill")])]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.metric=="@2",expression:"metric=='@2'"}],staticClass:"colorbar flex-row single"},t._l(t.simpleColors,function(o){return r("div",{key:o,staticClass:"single-color",class:{active:t.fillSingleColor==o},style:{backgroundColor:`${o}`},on:{click:function(n){return t.clickedSingleColor("metric",o)}}})}),0)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:t.metric.indexOf(":")>-1,expression:"metric.indexOf(':') > -1"}],staticClass:"widget-row"},[r("div",{staticClass:"widget flex1"},[r("column-selector",{attrs:{extra:t.joinOptions,datasets:t.getJoinOptions},on:{update:function(o){t.join=o}},model:{value:t.join,callback:function(o){t.join=o},expression:"join"}},[r("p",{staticClass:"tight"},[t._v("Join/Count")])])],1),r("div",{staticClass:"widget flex1"},[r("column-selector",{attrs:{extra:["None"],datasets:t.datasets},on:{update:function(o){t.normalize=o}},model:{value:t.normalize,callback:function(o){t.normalize=o},expression:"normalize"}},[r("p",{staticClass:"tight"},[t._v("Normalize")])])],1)]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.metric.indexOf(":")>-1,expression:"metric.indexOf(':') > -1"}],staticClass:"widget-row"},[r("div",{staticClass:"widget flex1"},[r("column-selector",{attrs:{extra:["None"],datasets:t.datasets},on:{update:function(o){t.diff=o}},model:{value:t.diff,callback:function(o){t.diff=o},expression:"diff"}},[r("p",{staticClass:"tight"},[t._v("Diff vs.")])])],1),r("div",{staticClass:"widget flex1"},[r("p",{staticClass:"tight",staticStyle:{"margin-bottom":"6px"}},[t._v("% Diff")]),r("b-switch",{staticClass:"is-small",model:{value:t.diffRelative,callback:function(o){t.diffRelative=o},expression:"diffRelative"}})],1)]),t.metric.indexOf(":")>-1?r("div",{staticClass:"widget-row flex-col"},[r("p",{staticClass:"tight"},[t._v("Colors")]),r("ColorMapSelector",{staticClass:"color-map-selector",attrs:{value:t.colormap,invert:t.isInvertedColor},on:{onValueChange:function(o){t.colormap=o},onInversionChange:function(o){t.isInvertedColor=!t.isInvertedColor}}})],1):t._e(),r("div",{staticClass:"widget-row flex-col"},[r("p",{staticClass:"tight"},[t._v("Opacity")]),r("b-slider",{staticClass:"slider",attrs:{tooltip:!1},on:{input:t.debOpacity},model:{value:t.opacity,callback:function(o){t.opacity=o},expression:"opacity"}})],1),r("div",{staticClass:"widget-row flex-col"},[r("column-selector",{attrs:{extra:t.solidColors,datasets:{}},on:{update:function(o){t.outline=o}},model:{value:t.outline,callback:function(o){t.outline=o},expression:"outline"}},[r("p",{staticClass:"tight"},[t._v("Outline")])]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.outline=="@2",expression:"outline=='@2'"}],staticClass:"colorbar flex-row single"},t._l(t.simpleColors,function(o){return r("div",{key:o,staticClass:"single-color",class:{active:t.outlineSingleColor==o},style:{backgroundColor:`${o}`},on:{click:function(n){return t.clickedSingleColor("outline",o)}}})}),0)],1)]),t.showJoinPicker?r("modal-id-column-picker",{attrs:{data1:{columns:Object.keys(this.datasets[this.shapes]||{})}},on:{join:function(o){return t.joinClicked(o)}}}):t._e()],1)},su=[function(){var e=this,t=e._self._c;return e._self._setupProxy,t("p",{staticClass:"center flex1"},[t("b",[e._v("Polygons")])])}];var iu=Pe(ou,nu,su,!1,null,"6fac6c79",null,null);const au=iu.exports;class lu extends ur{constructor(r,o){super(r);Y(this,"features");Y(this,"datasets");Y(this,"error");Y(this,"layerOptions");Y(this,"deckData");this.datasets=r.datasets,this.features=[],this.layerOptions=o,this.error="",this.deckData={colors:"",outline:""}}configPanel(){return au}async updateConfig(r){if(console.log("NEW OPTIONS!",r),this.layerOptions={...r},r!=="delete")try{await this.assembleData()}catch(o){console.error(o),this.features=[],this.error=""+o}}guessInitialParameters(){const r=Object.keys(this.datasets);for(const o of r)if(this.datamanager.getFeatureCollection(o)){this.layerOptions.shapes=o;break}}async assembleData(){var r;this.error="",this.layerOptions.shapes||this.guessInitialParameters(),this.layerOptions.shapes&&(this.features=this.datamanager.getFeatureCollection(this.layerOptions.shapes)),this.layerOptions.metric=="@1"?this.deckData.colors="":(r=this.layerOptions.metric)!=null&&r.startsWith("#")&&(this.deckData.colors=ar.get.rgb(this.layerOptions.metric).slice(0,3)),this.layerOptions.outline?this.deckData.outline=ar.get.rgb(this.layerOptions.outline).slice(0,3):this.deckData.outline="",this.layerOptions.metric.indexOf(":")>-1&&(this.deckData.colors=await this.generateColors())}updateStatus(r){console.log("NEED TO SEND STATUS:",r)}async generateColors(){var f,g,h,v;const r=Rr(new Vr),[o,n]=this.layerOptions.metric.split(":")||[],[s,i]=((f=this.layerOptions.normalize)==null?void 0:f.split(":"))||[],[a,l]=((g=this.layerOptions.diff)==null?void 0:g.split(":"))||[];if((h=this.layerOptions)!=null&&h.join&&((v=this.layerOptions)==null?void 0:v.join.indexOf(":"))>-1){const[T,E]=this.layerOptions.join.split(":"),S=this.datasets[this.layerOptions.shapes][T].values;await r.buildFeatureLookup(T,S);const x=this.datasets[o][E];(await r.buildDatasetLookup({joinColumns:this.layerOptions.join,dataColumn:x})).values}const c=this.datasets[o][n],d=s&&i?this.datasets[s][i]:null,u=a&&l?this.datasets[a][l]:null;return await r.buildColorArray({numFeatures:this.features.length,dataColumn:c,diffColumn:u,normalColumn:d,options:this.layerOptions,datasetIds:Object.keys(this.datasets)},on(this.updateStatus))}deckLayer(){if(this.error)throw Error(this.error);let r=[78,121,167,255];return Array.isArray(this.deckData.colors)&&(r=this.deckData.colors),ArrayBuffer.isView(this.deckData.colors)&&(r=(o,n)=>[this.deckData.colors[n.index*3+0],this.deckData.colors[n.index*3+1],this.deckData.colors[n.index*3+2],255]),new Qs({id:"polygonLayer-"+this.getKey(),data:this.features,getFillColor:r,getLineColor:this.deckData.outline,stroked:!!this.deckData.outline,filled:!!this.deckData.colors,getLineWidth:16,highlightColor:[255,255,255,128],autoHighlight:!0,opacity:"opacity"in this.layerOptions?this.layerOptions.opacity:1,pickable:!0,updateTriggers:{getFillColor:r},transitions:{getFillColor:300},parameters:{depthTest:!1},glOptions:{preserveDrawingBuffer:!1,fp64:!1}})}}const Yr={arcs:Gc,lines:qc,points:ru,polygons:lu};console.log({allThumbIcons:ns});const cu=window.flate,uu=ke({name:"ShapeFilePlugin",components:{Draggable:cc},props:{layers:{type:Array,required:!0},datasets:{type:Object,required:!0},theme:{type:Object,required:!0}},data(){return{swLogo:Rs,section:0,openSection:0,layerList:[],isReordering:!1,isStillActive:!0,allThumbs:ns}},computed:{datasetKeys(){return Object.keys(this.datasets)}},watch:{layers(){this.isReordering||(this.layerList=this.layers)},async layerList(){this.isReordering=!0,this.$emit("update",{command:"reorder",layers:this.layerList}),await this.$nextTick(),this.isReordering=!1}},mounted(){this.layerList=[...this.layers]},beforeDestroy(){this.isStillActive=!1},methods:{async save(){let{zoom:e,bearing:t,pitch:r,center:o,longitude:n,latitude:s}=ve.state.viewState,i=o;i||(i=`${n}, ${s}`),Array.isArray(i)&&(i=`${n}, ${s}`);const a={title:"My Map",description:"",type:"layers",theme:this.theme.bg,roads:this.theme.roads,center:i,zoom:e,bearing:t,pitch:r},l=this.layers.map(u=>Object.assign({type:u.type},{...u.layerOptions}));a.datasets={},a.layers=l;const c=JSON.stringify(a.layers);console.log({layerConfigText:c});for(const u of Object.keys(this.datasets)){const p=this.datasets[u],f={};for(const g of[]){const h=`${u}:${g}`;if(console.log(h),!c.includes(h))continue;console.log("  saving it");const v=p[g].values;if(wt.identifyTypedArray(v).startsWith("Float")){const T=cu.gzip_encode_raw(new Uint8Array(v.buffer)),E=await wt.bytesToBase64DataUrl(T);console.log({column:g,base64:E}),f[g]={type:wt.identifyTypedArray(v),data:E}}else f[g]={type:"String",data:p[g].values}}a.datasets[u]=f,a.datasets[u]=`#${u} path/filename goes here #`}a.bearing||delete a.bearing,a.pitch||delete a.pitch,a.roads=="below"&&delete a.roads;const d=Mr.dump(a,{flowLevel:3});console.log(d),this.$emit("save",d)},getLayerConfig(e){const r=Yr[e.layerOptions.type].configPanel();return console.log("GOT config",r),r},async updatePanelConfig(e,t,r){const o=r=="delete"?{command:"delete",index:t}:null;o||await e.updateConfig(r),this.$emit("update",o)}}});var du=function(){var t=this,r=t._self._c;return t._self._setupProxy,r("div",{staticClass:"layer-configurator"},[r("div",{staticClass:"flex-row"},[r("div",{staticClass:"simwrapper-logo flex1"},[r("img",{attrs:{width:110,src:t.swLogo}}),r("p",{staticClass:"save-button",on:{click:t.save}},[t._v("SAVE…")])])]),r("div",{staticClass:"sections flex-row"},[r("p",{staticClass:"s1"},[r("span",{staticClass:"section-title",class:{"is-active":t.section==0},on:{click:function(o){t.section=0}}},[t._v("Layers")])]),r("p",{staticClass:"s1"},[r("span",{staticClass:"section-title",class:{"is-active":t.section==1},on:{click:function(o){t.section=1}}},[t._v("Data"),t.datasetKeys.length?r("span",[t._v(" ("+t._s(t.datasetKeys.length)+")")]):t._e()])]),r("p",{staticClass:"s1"},[r("span",{staticClass:"section-title",class:{"is-active":t.section==2},on:{click:function(o){t.section=2}}},[t._v("Theme")])])]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.section==0,expression:"section==0"}],staticClass:"layers-section flex1"},[r("p",{staticClass:"tight"},[t._v("Add Layer +")]),r("div",{staticClass:"add-buttons"},t._l(Object.keys(t.allThumbs),function(o){return r("div",{key:`${o}`,staticClass:"add-button",on:{click:function(n){return t.$emit("add",`${o}`)}}},[r("img",{attrs:{src:t.allThumbs[o],width:"32"}}),r("p",[t._v(t._s(o))])])}),0),r("div",{staticClass:"scrollable"},[r("Draggable",{model:{value:t.layerList,callback:function(o){t.layerList=o},expression:"layerList"}},[r("transition-group",t._l(t.layerList,function(o,n){return r(o.configPanel(),{key:o.getKey(),tag:"div",staticClass:"layer",attrs:{options:o.layerOptions,datasets:t.datasets,open:n==t.openSection},on:{open:function(s){t.openSection=n},update:function(s){return t.updatePanelConfig(o,n,s)}}})}),1)],1)],1)]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.section==1,expression:"section==1"}],staticClass:"data-section flex1 flex-col"},[r("b-button",{staticClass:"btn-add-data",on:{click:function(o){return t.$emit("addData")}}},[t._v("Add Data...")]),r("p",{staticClass:"dataset-label"},[t._v("Datasets")]),t._l(Object.keys(t.datasets),function(o){return r("div",{staticClass:"show-dataset flex-row"},[r("p",{staticClass:"flex1"},[t._v(t._s(o))]),r("span",{staticClass:"closer",attrs:{title:"Remove layer"},on:{click:function(n){return t.$emit("update","delete")}}},[r("i",{staticClass:"fas fa-trash"})])])})],2),r("div",{directives:[{name:"show",rawName:"v-show",value:t.section==2,expression:"section==2"}],staticClass:"theme-section flex1 flex-col"},[r("div",{staticClass:"flex-row"},[r("p",{staticClass:"flex2"},[t._v("Map theme")]),r("div",{staticClass:"flex3 flex-row"},[r("b-button",{staticClass:"bb is-small",class:{"is-link":t.theme.bg=="off"},attrs:{expanded:""},on:{click:function(o){return t.$emit("theme",{bg:"off"})}}},[t._v(" Off ")]),r("b-button",{staticClass:"bb is-small",class:{"is-link":t.theme.bg=="light"},attrs:{expanded:""},on:{click:function(o){return t.$emit("theme",{bg:"light"})}}},[t._v("Light")]),r("b-button",{staticClass:"bb is-small",class:{"is-link":t.theme.bg=="dark"},attrs:{expanded:""},on:{click:function(o){return t.$emit("theme",{bg:"dark"})}}},[t._v("Dark")])],1)]),r("div",{staticClass:"flex-row",staticStyle:{"margin-top":"1rem"}},[r("p",{staticClass:"flex2"},[t._v("Show roads")]),r("div",{staticClass:"flex3 flex-row"},[r("b-button",{staticClass:"bb is-small",class:{"is-link":t.theme.roads=="off"},attrs:{expanded:""},on:{click:function(o){return t.$emit("theme",{roads:"off"})}}},[t._v(" Off ")]),r("b-button",{staticClass:"bb is-small",class:{"is-link":t.theme.roads=="above"},attrs:{expanded:""},on:{click:function(o){return t.$emit("theme",{roads:"above"})}}},[t._v("Above")]),r("b-button",{staticClass:"bb is-small",class:{"is-link":t.theme.roads=="below"},attrs:{expanded:""},on:{click:function(o){return t.$emit("theme",{roads:"below"})}}},[t._v("Below")])],1)]),r("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"flex-row",staticStyle:{"margin-top":"1rem"}},[r("p",{staticClass:"flex2"},[t._v("Place names")]),r("div",{staticClass:"flex3 flex-row"},[r("b-button",{staticClass:"is-small",class:{"is-link":t.theme.labels=="off"},attrs:{expanded:""},on:{click:function(o){return t.$emit("theme",{labels:"off"})}}},[t._v(" Off ")]),r("b-button",{staticClass:"is-small",class:{"is-link":t.theme.labels=="on"},attrs:{expanded:""},on:{click:function(o){return t.$emit("theme",{labels:"on"})}}},[t._v(" On ")])],1)])])])},pu=[];var fu=Pe(uu,du,pu,!1,null,"66e9bd93",null,null);const hu=fu.exports;function fr(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof process=="object"&&process.version!==void 0?`Node.js/${process.version.substr(1)} (${null}; ${process.arch})`:"<environment undetectable>"}var hr={exports:{}},gu=us;function us(e,t,r,o){if(typeof r!="function")throw new Error("method for before hook must be a function");return o||(o={}),Array.isArray(t)?t.reverse().reduce(function(n,s){return us.bind(null,e,s,n,o)},r)():Promise.resolve().then(function(){return e.registry[t]?e.registry[t].reduce(function(n,s){return s.hook.bind(null,n,o)},r)():r(o)})}var mu=vu;function vu(e,t,r,o){var n=o;e.registry[r]||(e.registry[r]=[]),t==="before"&&(o=function(s,i){return Promise.resolve().then(n.bind(null,i)).then(s.bind(null,i))}),t==="after"&&(o=function(s,i){var a;return Promise.resolve().then(s.bind(null,i)).then(function(l){return a=l,n(a,i)}).then(function(){return a})}),t==="error"&&(o=function(s,i){return Promise.resolve().then(s.bind(null,i)).catch(function(a){return n(a,i)})}),e.registry[r].push({hook:o,orig:n})}var bu=yu;function yu(e,t,r){if(e.registry[t]){var o=e.registry[t].map(function(n){return n.orig}).indexOf(r);o!==-1&&e.registry[t].splice(o,1)}}var ds=gu,Eu=mu,Tu=bu,Bo=Function.bind,Ho=Bo.bind(Bo);function ps(e,t,r){var o=Ho(Tu,null).apply(null,r?[t,r]:[t]);e.api={remove:o},e.remove=o,["before","error","after","wrap"].forEach(function(n){var s=r?[t,n,r]:[t,n];e[n]=e.api[n]=Ho(Eu,null).apply(null,s)})}function wu(){var e="h",t={registry:{}},r=ds.bind(null,t,e);return ps(r,t,e),r}function fs(){var e={registry:{}},t=ds.bind(null,e);return ps(t,e),t}var zo=!1;function ut(){return zo||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),zo=!0),fs()}ut.Singular=wu.bind();ut.Collection=fs.bind();hr.exports=ut;hr.exports.Hook=ut;hr.exports.Singular=ut.Singular;var Cu=hr.exports.Collection=ut.Collection,xu="9.0.5",Su=`octokit-endpoint.js/${xu} ${fr()}`,Ou={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":Su},mediaType:{format:""}};function _u(e){return e?Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{}):{}}function Au(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const r=Object.prototype.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Function.prototype.call(r)===Function.prototype.call(e)}function hs(e,t){const r=Object.assign({},e);return Object.keys(t).forEach(o=>{Au(t[o])?o in e?r[o]=hs(e[o],t[o]):Object.assign(r,{[o]:t[o]}):Object.assign(r,{[o]:t[o]})}),r}function Wo(e){for(const t in e)e[t]===void 0&&delete e[t];return e}function Kr(e,t,r){var n;if(typeof t=="string"){let[s,i]=t.split(" ");r=Object.assign(i?{method:s,url:i}:{url:s},r)}else r=Object.assign({},t);r.headers=_u(r.headers),Wo(r),Wo(r.headers);const o=hs(e||{},r);return r.url==="/graphql"&&(e&&((n=e.mediaType.previews)!=null&&n.length)&&(o.mediaType.previews=e.mediaType.previews.filter(s=>!o.mediaType.previews.includes(s)).concat(o.mediaType.previews)),o.mediaType.previews=(o.mediaType.previews||[]).map(s=>s.replace(/-preview/,""))),o}function ku(e,t){const r=/\?/.test(e)?"&":"?",o=Object.keys(t);return o.length===0?e:e+r+o.map(n=>n==="q"?"q="+t.q.split("+").map(encodeURIComponent).join("+"):`${n}=${encodeURIComponent(t[n])}`).join("&")}var Pu=/\{[^}]+\}/g;function Du(e){return e.replace(/^\W+|\W+$/g,"").split(/,/)}function Fu(e){const t=e.match(Pu);return t?t.map(Du).reduce((r,o)=>r.concat(o),[]):[]}function Vo(e,t){const r={__proto__:null};for(const o of Object.keys(e))t.indexOf(o)===-1&&(r[o]=e[o]);return r}function gs(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(t){return/%[0-9A-Fa-f]/.test(t)||(t=encodeURI(t).replace(/%5B/g,"[").replace(/%5D/g,"]")),t}).join("")}function at(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function gt(e,t,r){return t=e==="+"||e==="#"?gs(t):at(t),r?at(r)+"="+t:t}function tt(e){return e!=null}function Dr(e){return e===";"||e==="&"||e==="?"}function Gu(e,t,r,o){var n=e[r],s=[];if(tt(n)&&n!=="")if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")n=n.toString(),o&&o!=="*"&&(n=n.substring(0,parseInt(o,10))),s.push(gt(t,n,Dr(t)?r:""));else if(o==="*")Array.isArray(n)?n.filter(tt).forEach(function(i){s.push(gt(t,i,Dr(t)?r:""))}):Object.keys(n).forEach(function(i){tt(n[i])&&s.push(gt(t,n[i],i))});else{const i=[];Array.isArray(n)?n.filter(tt).forEach(function(a){i.push(gt(t,a))}):Object.keys(n).forEach(function(a){tt(n[a])&&(i.push(at(a)),i.push(gt(t,n[a].toString())))}),Dr(t)?s.push(at(r)+"="+i.join(",")):i.length!==0&&s.push(i.join(","))}else t===";"?tt(n)&&s.push(at(r)):n===""&&(t==="&"||t==="?")?s.push(at(r)+"="):n===""&&s.push("");return s}function Ru(e){return{expand:Lu.bind(null,e)}}function Lu(e,t){var r=["+","#",".","/",";","?","&"];return e=e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(o,n,s){if(n){let a="";const l=[];if(r.indexOf(n.charAt(0))!==-1&&(a=n.charAt(0),n=n.substr(1)),n.split(/,/g).forEach(function(c){var d=/([^:\*]*)(?::(\d+)|(\*))?/.exec(c);l.push(Gu(t,a,d[1],d[2]||d[3]))}),a&&a!=="+"){var i=",";return a==="?"?i="&":a!=="#"&&(i=a),(l.length!==0?a:"")+l.join(i)}else return l.join(",")}else return gs(s)}),e==="/"?e:e.replace(/\/$/,"")}function ms(e){var d;let t=e.method.toUpperCase(),r=(e.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),o=Object.assign({},e.headers),n,s=Vo(e,["method","baseUrl","url","headers","request","mediaType"]);const i=Fu(r);r=Ru(r).expand(s),/^http/.test(r)||(r=e.baseUrl+r);const a=Object.keys(e).filter(u=>i.includes(u)).concat("baseUrl"),l=Vo(s,a);if(!/application\/octet-stream/i.test(o.accept)&&(e.mediaType.format&&(o.accept=o.accept.split(/,/).map(u=>u.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${e.mediaType.format}`)).join(",")),r.endsWith("/graphql")&&(d=e.mediaType.previews)!=null&&d.length)){const u=o.accept.match(/[\w-]+(?=-preview)/g)||[];o.accept=u.concat(e.mediaType.previews).map(p=>{const f=e.mediaType.format?`.${e.mediaType.format}`:"+json";return`application/vnd.github.${p}-preview${f}`}).join(",")}return["GET","HEAD"].includes(t)?r=ku(r,l):"data"in l?n=l.data:Object.keys(l).length&&(n=l),!o["content-type"]&&typeof n<"u"&&(o["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(t)&&typeof n>"u"&&(n=""),Object.assign({method:t,url:r,headers:o},typeof n<"u"?{body:n}:null,e.request?{request:e.request}:null)}function Iu(e,t,r){return ms(Kr(e,t,r))}function vs(e,t){const r=Kr(e,t),o=Iu.bind(null,r);return Object.assign(o,{DEFAULTS:r,defaults:vs.bind(null,r),merge:Kr.bind(null,r),parse:ms})}var ju=vs(null,Ou);class Yo extends Error{constructor(t){super(t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}}var po={exports:{}},$u=bs;function bs(e,t){if(e&&t)return bs(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(o){r[o]=e[o]}),r;function r(){for(var o=new Array(arguments.length),n=0;n<o.length;n++)o[n]=arguments[n];var s=e.apply(this,o),i=o[o.length-1];return typeof s=="function"&&s!==i&&Object.keys(i).forEach(function(a){s[a]=i[a]}),s}}var ys=$u;po.exports=ys(Yt);po.exports.strict=ys(Es);Yt.proto=Yt(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Yt(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Es(this)},configurable:!0})});function Yt(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function Es(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}var Uu=po.exports;const Ts=Xr(Uu);var Mu=Ts(e=>console.warn(e)),Nu=Ts(e=>console.warn(e)),mt=class extends Error{constructor(e,t,r){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=t;let o;"headers"in r&&typeof r.headers<"u"&&(o=r.headers),"response"in r&&(this.response=r.response,o=r.response.headers);const n=Object.assign({},r.request);r.request.headers.authorization&&(n.headers=Object.assign({},r.request.headers,{authorization:r.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),n.url=n.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=n,Object.defineProperty(this,"code",{get(){return Mu(new Yo("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),t}}),Object.defineProperty(this,"headers",{get(){return Nu(new Yo("[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.")),o||{}}})}},Bu="8.4.0";function Hu(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const r=Object.prototype.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Function.prototype.call(r)===Function.prototype.call(e)}function zu(e){return e.arrayBuffer()}function Ko(e){var a,l,c,d;const t=e.request&&e.request.log?e.request.log:console,r=((a=e.request)==null?void 0:a.parseSuccessResponseBody)!==!1;(Hu(e.body)||Array.isArray(e.body))&&(e.body=JSON.stringify(e.body));let o={},n,s,{fetch:i}=globalThis;if((l=e.request)!=null&&l.fetch&&(i=e.request.fetch),!i)throw new Error("fetch is not set. Please pass a fetch implementation as new Octokit({ request: { fetch }}). Learn more at https://github.com/octokit/octokit.js/#fetch-missing");return i(e.url,{method:e.method,body:e.body,redirect:(c=e.request)==null?void 0:c.redirect,headers:e.headers,signal:(d=e.request)==null?void 0:d.signal,...e.body&&{duplex:"half"}}).then(async u=>{s=u.url,n=u.status;for(const p of u.headers)o[p[0]]=p[1];if("deprecation"in o){const p=o.link&&o.link.match(/<([^>]+)>; rel="deprecation"/),f=p&&p.pop();t.warn(`[@octokit/request] "${e.method} ${e.url}" is deprecated. It is scheduled to be removed on ${o.sunset}${f?`. See ${f}`:""}`)}if(!(n===204||n===205)){if(e.method==="HEAD"){if(n<400)return;throw new mt(u.statusText,n,{response:{url:s,status:n,headers:o,data:void 0},request:e})}if(n===304)throw new mt("Not modified",n,{response:{url:s,status:n,headers:o,data:await Fr(u)},request:e});if(n>=400){const p=await Fr(u);throw new mt(Wu(p),n,{response:{url:s,status:n,headers:o,data:p},request:e})}return r?await Fr(u):u.body}}).then(u=>({status:n,url:s,headers:o,data:u})).catch(u=>{if(u instanceof mt)throw u;if(u.name==="AbortError")throw u;let p=u.message;throw u.name==="TypeError"&&"cause"in u&&(u.cause instanceof Error?p=u.cause.message:typeof u.cause=="string"&&(p=u.cause)),new mt(p,500,{request:e})})}async function Fr(e){const t=e.headers.get("content-type");return/application\/json/.test(t)?e.json().catch(()=>e.text()).catch(()=>""):!t||/^text\/|charset=utf-8$/.test(t)?e.text():zu(e)}function Wu(e){if(typeof e=="string")return e;let t;return"documentation_url"in e?t=` - ${e.documentation_url}`:t="","message"in e?Array.isArray(e.errors)?`${e.message}: ${e.errors.map(JSON.stringify).join(", ")}${t}`:`${e.message}${t}`:`Unknown error: ${JSON.stringify(e)}`}function Jr(e,t){const r=e.defaults(t);return Object.assign(function(n,s){const i=r.merge(n,s);if(!i.request||!i.request.hook)return Ko(r.parse(i));const a=(l,c)=>Ko(r.parse(r.merge(l,c)));return Object.assign(a,{endpoint:r,defaults:Jr.bind(null,r)}),i.request.hook(a,i)},{endpoint:r,defaults:Jr.bind(null,r)})}var qr=Jr(ju,{headers:{"user-agent":`octokit-request.js/${Bu} ${fr()}`}}),Vu="7.1.0";function Yu(e){return`Request failed due to following response errors:
`+e.errors.map(t=>` - ${t.message}`).join(`
`)}var Ku=class extends Error{constructor(e,t,r){super(Yu(r)),this.request=e,this.headers=t,this.response=r,this.name="GraphqlResponseError",this.errors=r.errors,this.data=r.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},Ju=["method","baseUrl","url","headers","request","query","mediaType"],qu=["query","method","url"],Jo=/\/api\/v3\/?$/;function Xu(e,t,r){if(r){if(typeof t=="string"&&"query"in r)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const i in r)if(qu.includes(i))return Promise.reject(new Error(`[@octokit/graphql] "${i}" cannot be used as variable name`))}const o=typeof t=="string"?Object.assign({query:t},r):t,n=Object.keys(o).reduce((i,a)=>Ju.includes(a)?(i[a]=o[a],i):(i.variables||(i.variables={}),i.variables[a]=o[a],i),{}),s=o.baseUrl||e.endpoint.DEFAULTS.baseUrl;return Jo.test(s)&&(n.url=s.replace(Jo,"/api/graphql")),e(n).then(i=>{if(i.data.errors){const a={};for(const l of Object.keys(i.headers))a[l]=i.headers[l];throw new Ku(n,a,i.data)}return i.data.data})}function fo(e,t){const r=e.defaults(t);return Object.assign((n,s)=>Xu(r,n,s),{defaults:fo.bind(null,r),endpoint:r.endpoint})}fo(qr,{headers:{"user-agent":`octokit-graphql.js/${Vu} ${fr()}`},method:"POST",url:"/graphql"});function Zu(e){return fo(e,{method:"POST",url:"/graphql"})}var Qu=/^v1\./,ed=/^ghs_/,td=/^ghu_/;async function rd(e){const t=e.split(/\./).length===3,r=Qu.test(e)||ed.test(e),o=td.test(e);return{type:"token",token:e,tokenType:t?"app":r?"installation":o?"user-to-server":"oauth"}}function od(e){return e.split(/\./).length===3?`bearer ${e}`:`token ${e}`}async function nd(e,t,r,o){const n=t.endpoint.merge(r,o);return n.headers.authorization=od(e),t(n)}var sd=function(t){if(!t)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof t!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return t=t.replace(/^(token|bearer) +/i,""),Object.assign(rd.bind(null,t),{hook:nd.bind(null,t)})},ws="5.2.0",qo=()=>{},id=console.warn.bind(console),ad=console.error.bind(console),Xo=`octokit-core.js/${ws} ${fr()}`,ct,ld=(ct=class{static defaults(t){return class extends this{constructor(...o){const n=o[0]||{};if(typeof t=="function"){super(t(n));return}super(Object.assign({},t,n,n.userAgent&&t.userAgent?{userAgent:`${n.userAgent} ${t.userAgent}`}:null))}}}static plugin(...t){var n;const r=this.plugins;return n=class extends this{},n.plugins=r.concat(t.filter(i=>!r.includes(i))),n}constructor(t={}){const r=new Cu,o={baseUrl:qr.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},t.request,{hook:r.bind(null,"request")}),mediaType:{previews:[],format:""}};if(o.headers["user-agent"]=t.userAgent?`${t.userAgent} ${Xo}`:Xo,t.baseUrl&&(o.baseUrl=t.baseUrl),t.previews&&(o.mediaType.previews=t.previews),t.timeZone&&(o.headers["time-zone"]=t.timeZone),this.request=qr.defaults(o),this.graphql=Zu(this.request).defaults(o),this.log=Object.assign({debug:qo,info:qo,warn:id,error:ad},t.log),this.hook=r,t.authStrategy){const{authStrategy:s,...i}=t,a=s(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:i},t.auth));r.wrap("request",a.hook),this.auth=a}else if(!t.auth)this.auth=async()=>({type:"unauthenticated"});else{const s=sd(t.auth);r.wrap("request",s.hook),this.auth=s}const n=this.constructor;for(let s=0;s<n.plugins.length;++s)Object.assign(this,n.plugins[s](this,t))}},ct.VERSION=ws,ct.plugins=[],ct),cd="4.0.1";function Cs(e){e.hook.wrap("request",(t,r)=>{e.log.debug("request",r);const o=Date.now(),n=e.request.endpoint.parse(r),s=n.url.replace(r.baseUrl,"");return t(r).then(i=>(e.log.info(`${n.method} ${s} - ${i.status} in ${Date.now()-o}ms`),i)).catch(i=>{throw e.log.info(`${n.method} ${s} - ${i.status} in ${Date.now()-o}ms`),i})})}Cs.VERSION=cd;var ud="11.3.1";function dd(e){if(!e.data)return{...e,data:[]};if(!("total_count"in e.data&&!("url"in e.data)))return e;const r=e.data.incomplete_results,o=e.data.repository_selection,n=e.data.total_count;delete e.data.incomplete_results,delete e.data.repository_selection,delete e.data.total_count;const s=Object.keys(e.data)[0],i=e.data[s];return e.data=i,typeof r<"u"&&(e.data.incomplete_results=r),typeof o<"u"&&(e.data.repository_selection=o),e.data.total_count=n,e}function ho(e,t,r){const o=typeof t=="function"?t.endpoint(r):e.request.endpoint(t,r),n=typeof t=="function"?t:e.request,s=o.method,i=o.headers;let a=o.url;return{[Symbol.asyncIterator]:()=>({async next(){if(!a)return{done:!0};try{const l=await n({method:s,url:a,headers:i}),c=dd(l);return a=((c.headers.link||"").match(/<([^>]+)>;\s*rel="next"/)||[])[1],{value:c}}catch(l){if(l.status!==409)throw l;return a="",{value:{status:200,headers:{},data:[]}}}}})}}function xs(e,t,r,o){return typeof r=="function"&&(o=r,r=void 0),Ss(e,[],ho(e,t,r)[Symbol.asyncIterator](),o)}function Ss(e,t,r,o){return r.next().then(n=>{if(n.done)return t;let s=!1;function i(){s=!0}return t=t.concat(o?o(n.value,i):n.value.data),s?t:Ss(e,t,r,o)})}Object.assign(xs,{iterator:ho});function Os(e){return{paginate:Object.assign(xs.bind(null,e),{iterator:ho.bind(null,e)})}}Os.VERSION=ud;var pd="13.2.2",fd={actions:{addCustomLabelsToSelfHostedRunnerForOrg:["POST /orgs/{org}/actions/runners/{runner_id}/labels"],addCustomLabelsToSelfHostedRunnerForRepo:["POST /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],addSelectedRepoToOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],addSelectedRepoToOrgVariable:["PUT /orgs/{org}/actions/variables/{name}/repositories/{repository_id}"],approveWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/approve"],cancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/cancel"],createEnvironmentVariable:["POST /repos/{owner}/{repo}/environments/{environment_name}/variables"],createOrUpdateEnvironmentSecret:["PUT /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/actions/secrets/{secret_name}"],createOrgVariable:["POST /orgs/{org}/actions/variables"],createRegistrationTokenForOrg:["POST /orgs/{org}/actions/runners/registration-token"],createRegistrationTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/registration-token"],createRemoveTokenForOrg:["POST /orgs/{org}/actions/runners/remove-token"],createRemoveTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/remove-token"],createRepoVariable:["POST /repos/{owner}/{repo}/actions/variables"],createWorkflowDispatch:["POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches"],deleteActionsCacheById:["DELETE /repos/{owner}/{repo}/actions/caches/{cache_id}"],deleteActionsCacheByKey:["DELETE /repos/{owner}/{repo}/actions/caches{?key,ref}"],deleteArtifact:["DELETE /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],deleteEnvironmentSecret:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}"],deleteEnvironmentVariable:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}"],deleteOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}"],deleteOrgVariable:["DELETE /orgs/{org}/actions/variables/{name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/actions/secrets/{secret_name}"],deleteRepoVariable:["DELETE /repos/{owner}/{repo}/actions/variables/{name}"],deleteSelfHostedRunnerFromOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}"],deleteSelfHostedRunnerFromRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}"],deleteWorkflowRun:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}"],deleteWorkflowRunLogs:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],disableSelectedRepositoryGithubActionsOrganization:["DELETE /orgs/{org}/actions/permissions/repositories/{repository_id}"],disableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/disable"],downloadArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}/{archive_format}"],downloadJobLogsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}/logs"],downloadWorkflowRunAttemptLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/logs"],downloadWorkflowRunLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],enableSelectedRepositoryGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories/{repository_id}"],enableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/enable"],forceCancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/force-cancel"],generateRunnerJitconfigForOrg:["POST /orgs/{org}/actions/runners/generate-jitconfig"],generateRunnerJitconfigForRepo:["POST /repos/{owner}/{repo}/actions/runners/generate-jitconfig"],getActionsCacheList:["GET /repos/{owner}/{repo}/actions/caches"],getActionsCacheUsage:["GET /repos/{owner}/{repo}/actions/cache/usage"],getActionsCacheUsageByRepoForOrg:["GET /orgs/{org}/actions/cache/usage-by-repository"],getActionsCacheUsageForOrg:["GET /orgs/{org}/actions/cache/usage"],getAllowedActionsOrganization:["GET /orgs/{org}/actions/permissions/selected-actions"],getAllowedActionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/selected-actions"],getArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],getCustomOidcSubClaimForRepo:["GET /repos/{owner}/{repo}/actions/oidc/customization/sub"],getEnvironmentPublicKey:["GET /repos/{owner}/{repo}/environments/{environment_name}/secrets/public-key"],getEnvironmentSecret:["GET /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}"],getEnvironmentVariable:["GET /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}"],getGithubActionsDefaultWorkflowPermissionsOrganization:["GET /orgs/{org}/actions/permissions/workflow"],getGithubActionsDefaultWorkflowPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/workflow"],getGithubActionsPermissionsOrganization:["GET /orgs/{org}/actions/permissions"],getGithubActionsPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions"],getJobForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}"],getOrgPublicKey:["GET /orgs/{org}/actions/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}"],getOrgVariable:["GET /orgs/{org}/actions/variables/{name}"],getPendingDeploymentsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],getRepoPermissions:["GET /repos/{owner}/{repo}/actions/permissions",{},{renamed:["actions","getGithubActionsPermissionsRepository"]}],getRepoPublicKey:["GET /repos/{owner}/{repo}/actions/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/actions/secrets/{secret_name}"],getRepoVariable:["GET /repos/{owner}/{repo}/actions/variables/{name}"],getReviewsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/approvals"],getSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}"],getSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}"],getWorkflow:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}"],getWorkflowAccessToRepository:["GET /repos/{owner}/{repo}/actions/permissions/access"],getWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}"],getWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}"],getWorkflowRunUsage:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/timing"],getWorkflowUsage:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/timing"],listArtifactsForRepo:["GET /repos/{owner}/{repo}/actions/artifacts"],listEnvironmentSecrets:["GET /repos/{owner}/{repo}/environments/{environment_name}/secrets"],listEnvironmentVariables:["GET /repos/{owner}/{repo}/environments/{environment_name}/variables"],listJobsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs"],listJobsForWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/jobs"],listLabelsForSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}/labels"],listLabelsForSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],listOrgSecrets:["GET /orgs/{org}/actions/secrets"],listOrgVariables:["GET /orgs/{org}/actions/variables"],listRepoOrganizationSecrets:["GET /repos/{owner}/{repo}/actions/organization-secrets"],listRepoOrganizationVariables:["GET /repos/{owner}/{repo}/actions/organization-variables"],listRepoSecrets:["GET /repos/{owner}/{repo}/actions/secrets"],listRepoVariables:["GET /repos/{owner}/{repo}/actions/variables"],listRepoWorkflows:["GET /repos/{owner}/{repo}/actions/workflows"],listRunnerApplicationsForOrg:["GET /orgs/{org}/actions/runners/downloads"],listRunnerApplicationsForRepo:["GET /repos/{owner}/{repo}/actions/runners/downloads"],listSelectedReposForOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}/repositories"],listSelectedReposForOrgVariable:["GET /orgs/{org}/actions/variables/{name}/repositories"],listSelectedRepositoriesEnabledGithubActionsOrganization:["GET /orgs/{org}/actions/permissions/repositories"],listSelfHostedRunnersForOrg:["GET /orgs/{org}/actions/runners"],listSelfHostedRunnersForRepo:["GET /repos/{owner}/{repo}/actions/runners"],listWorkflowRunArtifacts:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts"],listWorkflowRuns:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs"],listWorkflowRunsForRepo:["GET /repos/{owner}/{repo}/actions/runs"],reRunJobForWorkflowRun:["POST /repos/{owner}/{repo}/actions/jobs/{job_id}/rerun"],reRunWorkflow:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun"],reRunWorkflowFailedJobs:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun-failed-jobs"],removeAllCustomLabelsFromSelfHostedRunnerForOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}/labels"],removeAllCustomLabelsFromSelfHostedRunnerForRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],removeCustomLabelFromSelfHostedRunnerForOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}/labels/{name}"],removeCustomLabelFromSelfHostedRunnerForRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels/{name}"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],removeSelectedRepoFromOrgVariable:["DELETE /orgs/{org}/actions/variables/{name}/repositories/{repository_id}"],reviewCustomGatesForRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/deployment_protection_rule"],reviewPendingDeploymentsForRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],setAllowedActionsOrganization:["PUT /orgs/{org}/actions/permissions/selected-actions"],setAllowedActionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/selected-actions"],setCustomLabelsForSelfHostedRunnerForOrg:["PUT /orgs/{org}/actions/runners/{runner_id}/labels"],setCustomLabelsForSelfHostedRunnerForRepo:["PUT /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],setCustomOidcSubClaimForRepo:["PUT /repos/{owner}/{repo}/actions/oidc/customization/sub"],setGithubActionsDefaultWorkflowPermissionsOrganization:["PUT /orgs/{org}/actions/permissions/workflow"],setGithubActionsDefaultWorkflowPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/workflow"],setGithubActionsPermissionsOrganization:["PUT /orgs/{org}/actions/permissions"],setGithubActionsPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories"],setSelectedReposForOrgVariable:["PUT /orgs/{org}/actions/variables/{name}/repositories"],setSelectedRepositoriesEnabledGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories"],setWorkflowAccessToRepository:["PUT /repos/{owner}/{repo}/actions/permissions/access"],updateEnvironmentVariable:["PATCH /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}"],updateOrgVariable:["PATCH /orgs/{org}/actions/variables/{name}"],updateRepoVariable:["PATCH /repos/{owner}/{repo}/actions/variables/{name}"]},activity:{checkRepoIsStarredByAuthenticatedUser:["GET /user/starred/{owner}/{repo}"],deleteRepoSubscription:["DELETE /repos/{owner}/{repo}/subscription"],deleteThreadSubscription:["DELETE /notifications/threads/{thread_id}/subscription"],getFeeds:["GET /feeds"],getRepoSubscription:["GET /repos/{owner}/{repo}/subscription"],getThread:["GET /notifications/threads/{thread_id}"],getThreadSubscriptionForAuthenticatedUser:["GET /notifications/threads/{thread_id}/subscription"],listEventsForAuthenticatedUser:["GET /users/{username}/events"],listNotificationsForAuthenticatedUser:["GET /notifications"],listOrgEventsForAuthenticatedUser:["GET /users/{username}/events/orgs/{org}"],listPublicEvents:["GET /events"],listPublicEventsForRepoNetwork:["GET /networks/{owner}/{repo}/events"],listPublicEventsForUser:["GET /users/{username}/events/public"],listPublicOrgEvents:["GET /orgs/{org}/events"],listReceivedEventsForUser:["GET /users/{username}/received_events"],listReceivedPublicEventsForUser:["GET /users/{username}/received_events/public"],listRepoEvents:["GET /repos/{owner}/{repo}/events"],listRepoNotificationsForAuthenticatedUser:["GET /repos/{owner}/{repo}/notifications"],listReposStarredByAuthenticatedUser:["GET /user/starred"],listReposStarredByUser:["GET /users/{username}/starred"],listReposWatchedByUser:["GET /users/{username}/subscriptions"],listStargazersForRepo:["GET /repos/{owner}/{repo}/stargazers"],listWatchedReposForAuthenticatedUser:["GET /user/subscriptions"],listWatchersForRepo:["GET /repos/{owner}/{repo}/subscribers"],markNotificationsAsRead:["PUT /notifications"],markRepoNotificationsAsRead:["PUT /repos/{owner}/{repo}/notifications"],markThreadAsDone:["DELETE /notifications/threads/{thread_id}"],markThreadAsRead:["PATCH /notifications/threads/{thread_id}"],setRepoSubscription:["PUT /repos/{owner}/{repo}/subscription"],setThreadSubscription:["PUT /notifications/threads/{thread_id}/subscription"],starRepoForAuthenticatedUser:["PUT /user/starred/{owner}/{repo}"],unstarRepoForAuthenticatedUser:["DELETE /user/starred/{owner}/{repo}"]},apps:{addRepoToInstallation:["PUT /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","addRepoToInstallationForAuthenticatedUser"]}],addRepoToInstallationForAuthenticatedUser:["PUT /user/installations/{installation_id}/repositories/{repository_id}"],checkToken:["POST /applications/{client_id}/token"],createFromManifest:["POST /app-manifests/{code}/conversions"],createInstallationAccessToken:["POST /app/installations/{installation_id}/access_tokens"],deleteAuthorization:["DELETE /applications/{client_id}/grant"],deleteInstallation:["DELETE /app/installations/{installation_id}"],deleteToken:["DELETE /applications/{client_id}/token"],getAuthenticated:["GET /app"],getBySlug:["GET /apps/{app_slug}"],getInstallation:["GET /app/installations/{installation_id}"],getOrgInstallation:["GET /orgs/{org}/installation"],getRepoInstallation:["GET /repos/{owner}/{repo}/installation"],getSubscriptionPlanForAccount:["GET /marketplace_listing/accounts/{account_id}"],getSubscriptionPlanForAccountStubbed:["GET /marketplace_listing/stubbed/accounts/{account_id}"],getUserInstallation:["GET /users/{username}/installation"],getWebhookConfigForApp:["GET /app/hook/config"],getWebhookDelivery:["GET /app/hook/deliveries/{delivery_id}"],listAccountsForPlan:["GET /marketplace_listing/plans/{plan_id}/accounts"],listAccountsForPlanStubbed:["GET /marketplace_listing/stubbed/plans/{plan_id}/accounts"],listInstallationReposForAuthenticatedUser:["GET /user/installations/{installation_id}/repositories"],listInstallationRequestsForAuthenticatedApp:["GET /app/installation-requests"],listInstallations:["GET /app/installations"],listInstallationsForAuthenticatedUser:["GET /user/installations"],listPlans:["GET /marketplace_listing/plans"],listPlansStubbed:["GET /marketplace_listing/stubbed/plans"],listReposAccessibleToInstallation:["GET /installation/repositories"],listSubscriptionsForAuthenticatedUser:["GET /user/marketplace_purchases"],listSubscriptionsForAuthenticatedUserStubbed:["GET /user/marketplace_purchases/stubbed"],listWebhookDeliveries:["GET /app/hook/deliveries"],redeliverWebhookDelivery:["POST /app/hook/deliveries/{delivery_id}/attempts"],removeRepoFromInstallation:["DELETE /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","removeRepoFromInstallationForAuthenticatedUser"]}],removeRepoFromInstallationForAuthenticatedUser:["DELETE /user/installations/{installation_id}/repositories/{repository_id}"],resetToken:["PATCH /applications/{client_id}/token"],revokeInstallationAccessToken:["DELETE /installation/token"],scopeToken:["POST /applications/{client_id}/token/scoped"],suspendInstallation:["PUT /app/installations/{installation_id}/suspended"],unsuspendInstallation:["DELETE /app/installations/{installation_id}/suspended"],updateWebhookConfigForApp:["PATCH /app/hook/config"]},billing:{getGithubActionsBillingOrg:["GET /orgs/{org}/settings/billing/actions"],getGithubActionsBillingUser:["GET /users/{username}/settings/billing/actions"],getGithubPackagesBillingOrg:["GET /orgs/{org}/settings/billing/packages"],getGithubPackagesBillingUser:["GET /users/{username}/settings/billing/packages"],getSharedStorageBillingOrg:["GET /orgs/{org}/settings/billing/shared-storage"],getSharedStorageBillingUser:["GET /users/{username}/settings/billing/shared-storage"]},checks:{create:["POST /repos/{owner}/{repo}/check-runs"],createSuite:["POST /repos/{owner}/{repo}/check-suites"],get:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}"],getSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}"],listAnnotations:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations"],listForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-runs"],listForSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs"],listSuitesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-suites"],rerequestRun:["POST /repos/{owner}/{repo}/check-runs/{check_run_id}/rerequest"],rerequestSuite:["POST /repos/{owner}/{repo}/check-suites/{check_suite_id}/rerequest"],setSuitesPreferences:["PATCH /repos/{owner}/{repo}/check-suites/preferences"],update:["PATCH /repos/{owner}/{repo}/check-runs/{check_run_id}"]},codeScanning:{deleteAnalysis:["DELETE /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}{?confirm_delete}"],getAlert:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}",{},{renamedParameters:{alert_id:"alert_number"}}],getAnalysis:["GET /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}"],getCodeqlDatabase:["GET /repos/{owner}/{repo}/code-scanning/codeql/databases/{language}"],getDefaultSetup:["GET /repos/{owner}/{repo}/code-scanning/default-setup"],getSarif:["GET /repos/{owner}/{repo}/code-scanning/sarifs/{sarif_id}"],listAlertInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances"],listAlertsForOrg:["GET /orgs/{org}/code-scanning/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/code-scanning/alerts"],listAlertsInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances",{},{renamed:["codeScanning","listAlertInstances"]}],listCodeqlDatabases:["GET /repos/{owner}/{repo}/code-scanning/codeql/databases"],listRecentAnalyses:["GET /repos/{owner}/{repo}/code-scanning/analyses"],updateAlert:["PATCH /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}"],updateDefaultSetup:["PATCH /repos/{owner}/{repo}/code-scanning/default-setup"],uploadSarif:["POST /repos/{owner}/{repo}/code-scanning/sarifs"]},codesOfConduct:{getAllCodesOfConduct:["GET /codes_of_conduct"],getConductCode:["GET /codes_of_conduct/{key}"]},codespaces:{addRepositoryForSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}/repositories/{repository_id}"],addSelectedRepoToOrgSecret:["PUT /orgs/{org}/codespaces/secrets/{secret_name}/repositories/{repository_id}"],checkPermissionsForDevcontainer:["GET /repos/{owner}/{repo}/codespaces/permissions_check"],codespaceMachinesForAuthenticatedUser:["GET /user/codespaces/{codespace_name}/machines"],createForAuthenticatedUser:["POST /user/codespaces"],createOrUpdateOrgSecret:["PUT /orgs/{org}/codespaces/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],createOrUpdateSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}"],createWithPrForAuthenticatedUser:["POST /repos/{owner}/{repo}/pulls/{pull_number}/codespaces"],createWithRepoForAuthenticatedUser:["POST /repos/{owner}/{repo}/codespaces"],deleteForAuthenticatedUser:["DELETE /user/codespaces/{codespace_name}"],deleteFromOrganization:["DELETE /orgs/{org}/members/{username}/codespaces/{codespace_name}"],deleteOrgSecret:["DELETE /orgs/{org}/codespaces/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],deleteSecretForAuthenticatedUser:["DELETE /user/codespaces/secrets/{secret_name}"],exportForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/exports"],getCodespacesForUserInOrg:["GET /orgs/{org}/members/{username}/codespaces"],getExportDetailsForAuthenticatedUser:["GET /user/codespaces/{codespace_name}/exports/{export_id}"],getForAuthenticatedUser:["GET /user/codespaces/{codespace_name}"],getOrgPublicKey:["GET /orgs/{org}/codespaces/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/codespaces/secrets/{secret_name}"],getPublicKeyForAuthenticatedUser:["GET /user/codespaces/secrets/public-key"],getRepoPublicKey:["GET /repos/{owner}/{repo}/codespaces/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],getSecretForAuthenticatedUser:["GET /user/codespaces/secrets/{secret_name}"],listDevcontainersInRepositoryForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/devcontainers"],listForAuthenticatedUser:["GET /user/codespaces"],listInOrganization:["GET /orgs/{org}/codespaces",{},{renamedParameters:{org_id:"org"}}],listInRepositoryForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces"],listOrgSecrets:["GET /orgs/{org}/codespaces/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/codespaces/secrets"],listRepositoriesForSecretForAuthenticatedUser:["GET /user/codespaces/secrets/{secret_name}/repositories"],listSecretsForAuthenticatedUser:["GET /user/codespaces/secrets"],listSelectedReposForOrgSecret:["GET /orgs/{org}/codespaces/secrets/{secret_name}/repositories"],preFlightWithRepoForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/new"],publishForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/publish"],removeRepositoryForSecretForAuthenticatedUser:["DELETE /user/codespaces/secrets/{secret_name}/repositories/{repository_id}"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/codespaces/secrets/{secret_name}/repositories/{repository_id}"],repoMachinesForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/machines"],setRepositoriesForSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}/repositories"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/codespaces/secrets/{secret_name}/repositories"],startForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/start"],stopForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/stop"],stopInOrganization:["POST /orgs/{org}/members/{username}/codespaces/{codespace_name}/stop"],updateForAuthenticatedUser:["PATCH /user/codespaces/{codespace_name}"]},copilot:{addCopilotSeatsForTeams:["POST /orgs/{org}/copilot/billing/selected_teams"],addCopilotSeatsForUsers:["POST /orgs/{org}/copilot/billing/selected_users"],cancelCopilotSeatAssignmentForTeams:["DELETE /orgs/{org}/copilot/billing/selected_teams"],cancelCopilotSeatAssignmentForUsers:["DELETE /orgs/{org}/copilot/billing/selected_users"],getCopilotOrganizationDetails:["GET /orgs/{org}/copilot/billing"],getCopilotSeatDetailsForUser:["GET /orgs/{org}/members/{username}/copilot"],listCopilotSeats:["GET /orgs/{org}/copilot/billing/seats"],usageMetricsForEnterprise:["GET /enterprises/{enterprise}/copilot/usage"],usageMetricsForOrg:["GET /orgs/{org}/copilot/usage"],usageMetricsForTeam:["GET /orgs/{org}/team/{team_slug}/copilot/usage"]},dependabot:{addSelectedRepoToOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],deleteOrgSecret:["DELETE /orgs/{org}/dependabot/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],getAlert:["GET /repos/{owner}/{repo}/dependabot/alerts/{alert_number}"],getOrgPublicKey:["GET /orgs/{org}/dependabot/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/dependabot/secrets/{secret_name}"],getRepoPublicKey:["GET /repos/{owner}/{repo}/dependabot/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],listAlertsForEnterprise:["GET /enterprises/{enterprise}/dependabot/alerts"],listAlertsForOrg:["GET /orgs/{org}/dependabot/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/dependabot/alerts"],listOrgSecrets:["GET /orgs/{org}/dependabot/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/dependabot/secrets"],listSelectedReposForOrgSecret:["GET /orgs/{org}/dependabot/secrets/{secret_name}/repositories"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories"],updateAlert:["PATCH /repos/{owner}/{repo}/dependabot/alerts/{alert_number}"]},dependencyGraph:{createRepositorySnapshot:["POST /repos/{owner}/{repo}/dependency-graph/snapshots"],diffRange:["GET /repos/{owner}/{repo}/dependency-graph/compare/{basehead}"],exportSbom:["GET /repos/{owner}/{repo}/dependency-graph/sbom"]},emojis:{get:["GET /emojis"]},gists:{checkIsStarred:["GET /gists/{gist_id}/star"],create:["POST /gists"],createComment:["POST /gists/{gist_id}/comments"],delete:["DELETE /gists/{gist_id}"],deleteComment:["DELETE /gists/{gist_id}/comments/{comment_id}"],fork:["POST /gists/{gist_id}/forks"],get:["GET /gists/{gist_id}"],getComment:["GET /gists/{gist_id}/comments/{comment_id}"],getRevision:["GET /gists/{gist_id}/{sha}"],list:["GET /gists"],listComments:["GET /gists/{gist_id}/comments"],listCommits:["GET /gists/{gist_id}/commits"],listForUser:["GET /users/{username}/gists"],listForks:["GET /gists/{gist_id}/forks"],listPublic:["GET /gists/public"],listStarred:["GET /gists/starred"],star:["PUT /gists/{gist_id}/star"],unstar:["DELETE /gists/{gist_id}/star"],update:["PATCH /gists/{gist_id}"],updateComment:["PATCH /gists/{gist_id}/comments/{comment_id}"]},git:{createBlob:["POST /repos/{owner}/{repo}/git/blobs"],createCommit:["POST /repos/{owner}/{repo}/git/commits"],createRef:["POST /repos/{owner}/{repo}/git/refs"],createTag:["POST /repos/{owner}/{repo}/git/tags"],createTree:["POST /repos/{owner}/{repo}/git/trees"],deleteRef:["DELETE /repos/{owner}/{repo}/git/refs/{ref}"],getBlob:["GET /repos/{owner}/{repo}/git/blobs/{file_sha}"],getCommit:["GET /repos/{owner}/{repo}/git/commits/{commit_sha}"],getRef:["GET /repos/{owner}/{repo}/git/ref/{ref}"],getTag:["GET /repos/{owner}/{repo}/git/tags/{tag_sha}"],getTree:["GET /repos/{owner}/{repo}/git/trees/{tree_sha}"],listMatchingRefs:["GET /repos/{owner}/{repo}/git/matching-refs/{ref}"],updateRef:["PATCH /repos/{owner}/{repo}/git/refs/{ref}"]},gitignore:{getAllTemplates:["GET /gitignore/templates"],getTemplate:["GET /gitignore/templates/{name}"]},interactions:{getRestrictionsForAuthenticatedUser:["GET /user/interaction-limits"],getRestrictionsForOrg:["GET /orgs/{org}/interaction-limits"],getRestrictionsForRepo:["GET /repos/{owner}/{repo}/interaction-limits"],getRestrictionsForYourPublicRepos:["GET /user/interaction-limits",{},{renamed:["interactions","getRestrictionsForAuthenticatedUser"]}],removeRestrictionsForAuthenticatedUser:["DELETE /user/interaction-limits"],removeRestrictionsForOrg:["DELETE /orgs/{org}/interaction-limits"],removeRestrictionsForRepo:["DELETE /repos/{owner}/{repo}/interaction-limits"],removeRestrictionsForYourPublicRepos:["DELETE /user/interaction-limits",{},{renamed:["interactions","removeRestrictionsForAuthenticatedUser"]}],setRestrictionsForAuthenticatedUser:["PUT /user/interaction-limits"],setRestrictionsForOrg:["PUT /orgs/{org}/interaction-limits"],setRestrictionsForRepo:["PUT /repos/{owner}/{repo}/interaction-limits"],setRestrictionsForYourPublicRepos:["PUT /user/interaction-limits",{},{renamed:["interactions","setRestrictionsForAuthenticatedUser"]}]},issues:{addAssignees:["POST /repos/{owner}/{repo}/issues/{issue_number}/assignees"],addLabels:["POST /repos/{owner}/{repo}/issues/{issue_number}/labels"],checkUserCanBeAssigned:["GET /repos/{owner}/{repo}/assignees/{assignee}"],checkUserCanBeAssignedToIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/assignees/{assignee}"],create:["POST /repos/{owner}/{repo}/issues"],createComment:["POST /repos/{owner}/{repo}/issues/{issue_number}/comments"],createLabel:["POST /repos/{owner}/{repo}/labels"],createMilestone:["POST /repos/{owner}/{repo}/milestones"],deleteComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}"],deleteLabel:["DELETE /repos/{owner}/{repo}/labels/{name}"],deleteMilestone:["DELETE /repos/{owner}/{repo}/milestones/{milestone_number}"],get:["GET /repos/{owner}/{repo}/issues/{issue_number}"],getComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}"],getEvent:["GET /repos/{owner}/{repo}/issues/events/{event_id}"],getLabel:["GET /repos/{owner}/{repo}/labels/{name}"],getMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}"],list:["GET /issues"],listAssignees:["GET /repos/{owner}/{repo}/assignees"],listComments:["GET /repos/{owner}/{repo}/issues/{issue_number}/comments"],listCommentsForRepo:["GET /repos/{owner}/{repo}/issues/comments"],listEvents:["GET /repos/{owner}/{repo}/issues/{issue_number}/events"],listEventsForRepo:["GET /repos/{owner}/{repo}/issues/events"],listEventsForTimeline:["GET /repos/{owner}/{repo}/issues/{issue_number}/timeline"],listForAuthenticatedUser:["GET /user/issues"],listForOrg:["GET /orgs/{org}/issues"],listForRepo:["GET /repos/{owner}/{repo}/issues"],listLabelsForMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels"],listLabelsForRepo:["GET /repos/{owner}/{repo}/labels"],listLabelsOnIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/labels"],listMilestones:["GET /repos/{owner}/{repo}/milestones"],lock:["PUT /repos/{owner}/{repo}/issues/{issue_number}/lock"],removeAllLabels:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels"],removeAssignees:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/assignees"],removeLabel:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels/{name}"],setLabels:["PUT /repos/{owner}/{repo}/issues/{issue_number}/labels"],unlock:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/lock"],update:["PATCH /repos/{owner}/{repo}/issues/{issue_number}"],updateComment:["PATCH /repos/{owner}/{repo}/issues/comments/{comment_id}"],updateLabel:["PATCH /repos/{owner}/{repo}/labels/{name}"],updateMilestone:["PATCH /repos/{owner}/{repo}/milestones/{milestone_number}"]},licenses:{get:["GET /licenses/{license}"],getAllCommonlyUsed:["GET /licenses"],getForRepo:["GET /repos/{owner}/{repo}/license"]},markdown:{render:["POST /markdown"],renderRaw:["POST /markdown/raw",{headers:{"content-type":"text/plain; charset=utf-8"}}]},meta:{get:["GET /meta"],getAllVersions:["GET /versions"],getOctocat:["GET /octocat"],getZen:["GET /zen"],root:["GET /"]},migrations:{deleteArchiveForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/archive"],deleteArchiveForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/archive"],downloadArchiveForOrg:["GET /orgs/{org}/migrations/{migration_id}/archive"],getArchiveForAuthenticatedUser:["GET /user/migrations/{migration_id}/archive"],getStatusForAuthenticatedUser:["GET /user/migrations/{migration_id}"],getStatusForOrg:["GET /orgs/{org}/migrations/{migration_id}"],listForAuthenticatedUser:["GET /user/migrations"],listForOrg:["GET /orgs/{org}/migrations"],listReposForAuthenticatedUser:["GET /user/migrations/{migration_id}/repositories"],listReposForOrg:["GET /orgs/{org}/migrations/{migration_id}/repositories"],listReposForUser:["GET /user/migrations/{migration_id}/repositories",{},{renamed:["migrations","listReposForAuthenticatedUser"]}],startForAuthenticatedUser:["POST /user/migrations"],startForOrg:["POST /orgs/{org}/migrations"],unlockRepoForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/repos/{repo_name}/lock"],unlockRepoForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/repos/{repo_name}/lock"]},oidc:{getOidcCustomSubTemplateForOrg:["GET /orgs/{org}/actions/oidc/customization/sub"],updateOidcCustomSubTemplateForOrg:["PUT /orgs/{org}/actions/oidc/customization/sub"]},orgs:{addSecurityManagerTeam:["PUT /orgs/{org}/security-managers/teams/{team_slug}"],assignTeamToOrgRole:["PUT /orgs/{org}/organization-roles/teams/{team_slug}/{role_id}"],assignUserToOrgRole:["PUT /orgs/{org}/organization-roles/users/{username}/{role_id}"],blockUser:["PUT /orgs/{org}/blocks/{username}"],cancelInvitation:["DELETE /orgs/{org}/invitations/{invitation_id}"],checkBlockedUser:["GET /orgs/{org}/blocks/{username}"],checkMembershipForUser:["GET /orgs/{org}/members/{username}"],checkPublicMembershipForUser:["GET /orgs/{org}/public_members/{username}"],convertMemberToOutsideCollaborator:["PUT /orgs/{org}/outside_collaborators/{username}"],createCustomOrganizationRole:["POST /orgs/{org}/organization-roles"],createInvitation:["POST /orgs/{org}/invitations"],createOrUpdateCustomProperties:["PATCH /orgs/{org}/properties/schema"],createOrUpdateCustomPropertiesValuesForRepos:["PATCH /orgs/{org}/properties/values"],createOrUpdateCustomProperty:["PUT /orgs/{org}/properties/schema/{custom_property_name}"],createWebhook:["POST /orgs/{org}/hooks"],delete:["DELETE /orgs/{org}"],deleteCustomOrganizationRole:["DELETE /orgs/{org}/organization-roles/{role_id}"],deleteWebhook:["DELETE /orgs/{org}/hooks/{hook_id}"],enableOrDisableSecurityProductOnAllOrgRepos:["POST /orgs/{org}/{security_product}/{enablement}"],get:["GET /orgs/{org}"],getAllCustomProperties:["GET /orgs/{org}/properties/schema"],getCustomProperty:["GET /orgs/{org}/properties/schema/{custom_property_name}"],getMembershipForAuthenticatedUser:["GET /user/memberships/orgs/{org}"],getMembershipForUser:["GET /orgs/{org}/memberships/{username}"],getOrgRole:["GET /orgs/{org}/organization-roles/{role_id}"],getWebhook:["GET /orgs/{org}/hooks/{hook_id}"],getWebhookConfigForOrg:["GET /orgs/{org}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}"],list:["GET /organizations"],listAppInstallations:["GET /orgs/{org}/installations"],listBlockedUsers:["GET /orgs/{org}/blocks"],listCustomPropertiesValuesForRepos:["GET /orgs/{org}/properties/values"],listFailedInvitations:["GET /orgs/{org}/failed_invitations"],listForAuthenticatedUser:["GET /user/orgs"],listForUser:["GET /users/{username}/orgs"],listInvitationTeams:["GET /orgs/{org}/invitations/{invitation_id}/teams"],listMembers:["GET /orgs/{org}/members"],listMembershipsForAuthenticatedUser:["GET /user/memberships/orgs"],listOrgRoleTeams:["GET /orgs/{org}/organization-roles/{role_id}/teams"],listOrgRoleUsers:["GET /orgs/{org}/organization-roles/{role_id}/users"],listOrgRoles:["GET /orgs/{org}/organization-roles"],listOrganizationFineGrainedPermissions:["GET /orgs/{org}/organization-fine-grained-permissions"],listOutsideCollaborators:["GET /orgs/{org}/outside_collaborators"],listPatGrantRepositories:["GET /orgs/{org}/personal-access-tokens/{pat_id}/repositories"],listPatGrantRequestRepositories:["GET /orgs/{org}/personal-access-token-requests/{pat_request_id}/repositories"],listPatGrantRequests:["GET /orgs/{org}/personal-access-token-requests"],listPatGrants:["GET /orgs/{org}/personal-access-tokens"],listPendingInvitations:["GET /orgs/{org}/invitations"],listPublicMembers:["GET /orgs/{org}/public_members"],listSecurityManagerTeams:["GET /orgs/{org}/security-managers"],listWebhookDeliveries:["GET /orgs/{org}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /orgs/{org}/hooks"],patchCustomOrganizationRole:["PATCH /orgs/{org}/organization-roles/{role_id}"],pingWebhook:["POST /orgs/{org}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeCustomProperty:["DELETE /orgs/{org}/properties/schema/{custom_property_name}"],removeMember:["DELETE /orgs/{org}/members/{username}"],removeMembershipForUser:["DELETE /orgs/{org}/memberships/{username}"],removeOutsideCollaborator:["DELETE /orgs/{org}/outside_collaborators/{username}"],removePublicMembershipForAuthenticatedUser:["DELETE /orgs/{org}/public_members/{username}"],removeSecurityManagerTeam:["DELETE /orgs/{org}/security-managers/teams/{team_slug}"],reviewPatGrantRequest:["POST /orgs/{org}/personal-access-token-requests/{pat_request_id}"],reviewPatGrantRequestsInBulk:["POST /orgs/{org}/personal-access-token-requests"],revokeAllOrgRolesTeam:["DELETE /orgs/{org}/organization-roles/teams/{team_slug}"],revokeAllOrgRolesUser:["DELETE /orgs/{org}/organization-roles/users/{username}"],revokeOrgRoleTeam:["DELETE /orgs/{org}/organization-roles/teams/{team_slug}/{role_id}"],revokeOrgRoleUser:["DELETE /orgs/{org}/organization-roles/users/{username}/{role_id}"],setMembershipForUser:["PUT /orgs/{org}/memberships/{username}"],setPublicMembershipForAuthenticatedUser:["PUT /orgs/{org}/public_members/{username}"],unblockUser:["DELETE /orgs/{org}/blocks/{username}"],update:["PATCH /orgs/{org}"],updateMembershipForAuthenticatedUser:["PATCH /user/memberships/orgs/{org}"],updatePatAccess:["POST /orgs/{org}/personal-access-tokens/{pat_id}"],updatePatAccesses:["POST /orgs/{org}/personal-access-tokens"],updateWebhook:["PATCH /orgs/{org}/hooks/{hook_id}"],updateWebhookConfigForOrg:["PATCH /orgs/{org}/hooks/{hook_id}/config"]},packages:{deletePackageForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}"],deletePackageForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}"],deletePackageForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}"],deletePackageVersionForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getAllPackageVersionsForAPackageOwnedByAnOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByOrg"]}],getAllPackageVersionsForAPackageOwnedByTheAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByAuthenticatedUser"]}],getAllPackageVersionsForPackageOwnedByAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions"],getPackageForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}"],getPackageForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}"],getPackageForUser:["GET /users/{username}/packages/{package_type}/{package_name}"],getPackageVersionForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],listDockerMigrationConflictingPackagesForAuthenticatedUser:["GET /user/docker/conflicts"],listDockerMigrationConflictingPackagesForOrganization:["GET /orgs/{org}/docker/conflicts"],listDockerMigrationConflictingPackagesForUser:["GET /users/{username}/docker/conflicts"],listPackagesForAuthenticatedUser:["GET /user/packages"],listPackagesForOrganization:["GET /orgs/{org}/packages"],listPackagesForUser:["GET /users/{username}/packages"],restorePackageForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForUser:["POST /users/{username}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageVersionForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForUser:["POST /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"]},projects:{addCollaborator:["PUT /projects/{project_id}/collaborators/{username}"],createCard:["POST /projects/columns/{column_id}/cards"],createColumn:["POST /projects/{project_id}/columns"],createForAuthenticatedUser:["POST /user/projects"],createForOrg:["POST /orgs/{org}/projects"],createForRepo:["POST /repos/{owner}/{repo}/projects"],delete:["DELETE /projects/{project_id}"],deleteCard:["DELETE /projects/columns/cards/{card_id}"],deleteColumn:["DELETE /projects/columns/{column_id}"],get:["GET /projects/{project_id}"],getCard:["GET /projects/columns/cards/{card_id}"],getColumn:["GET /projects/columns/{column_id}"],getPermissionForUser:["GET /projects/{project_id}/collaborators/{username}/permission"],listCards:["GET /projects/columns/{column_id}/cards"],listCollaborators:["GET /projects/{project_id}/collaborators"],listColumns:["GET /projects/{project_id}/columns"],listForOrg:["GET /orgs/{org}/projects"],listForRepo:["GET /repos/{owner}/{repo}/projects"],listForUser:["GET /users/{username}/projects"],moveCard:["POST /projects/columns/cards/{card_id}/moves"],moveColumn:["POST /projects/columns/{column_id}/moves"],removeCollaborator:["DELETE /projects/{project_id}/collaborators/{username}"],update:["PATCH /projects/{project_id}"],updateCard:["PATCH /projects/columns/cards/{card_id}"],updateColumn:["PATCH /projects/columns/{column_id}"]},pulls:{checkIfMerged:["GET /repos/{owner}/{repo}/pulls/{pull_number}/merge"],create:["POST /repos/{owner}/{repo}/pulls"],createReplyForReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies"],createReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],createReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments"],deletePendingReview:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],deleteReviewComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}"],dismissReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/dismissals"],get:["GET /repos/{owner}/{repo}/pulls/{pull_number}"],getReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],getReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}"],list:["GET /repos/{owner}/{repo}/pulls"],listCommentsForReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments"],listCommits:["GET /repos/{owner}/{repo}/pulls/{pull_number}/commits"],listFiles:["GET /repos/{owner}/{repo}/pulls/{pull_number}/files"],listRequestedReviewers:["GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],listReviewComments:["GET /repos/{owner}/{repo}/pulls/{pull_number}/comments"],listReviewCommentsForRepo:["GET /repos/{owner}/{repo}/pulls/comments"],listReviews:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],merge:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/merge"],removeRequestedReviewers:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],requestReviewers:["POST /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],submitReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/events"],update:["PATCH /repos/{owner}/{repo}/pulls/{pull_number}"],updateBranch:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/update-branch"],updateReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],updateReviewComment:["PATCH /repos/{owner}/{repo}/pulls/comments/{comment_id}"]},rateLimit:{get:["GET /rate_limit"]},reactions:{createForCommitComment:["POST /repos/{owner}/{repo}/comments/{comment_id}/reactions"],createForIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/reactions"],createForIssueComment:["POST /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],createForPullRequestReviewComment:["POST /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],createForRelease:["POST /repos/{owner}/{repo}/releases/{release_id}/reactions"],createForTeamDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],createForTeamDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"],deleteForCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}/reactions/{reaction_id}"],deleteForIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/reactions/{reaction_id}"],deleteForIssueComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions/{reaction_id}"],deleteForPullRequestComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions/{reaction_id}"],deleteForRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}/reactions/{reaction_id}"],deleteForTeamDiscussion:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions/{reaction_id}"],deleteForTeamDiscussionComment:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions/{reaction_id}"],listForCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}/reactions"],listForIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/reactions"],listForIssueComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],listForPullRequestReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],listForRelease:["GET /repos/{owner}/{repo}/releases/{release_id}/reactions"],listForTeamDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],listForTeamDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"]},repos:{acceptInvitation:["PATCH /user/repository_invitations/{invitation_id}",{},{renamed:["repos","acceptInvitationForAuthenticatedUser"]}],acceptInvitationForAuthenticatedUser:["PATCH /user/repository_invitations/{invitation_id}"],addAppAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],addCollaborator:["PUT /repos/{owner}/{repo}/collaborators/{username}"],addStatusCheckContexts:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],addTeamAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],addUserAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],cancelPagesDeployment:["POST /repos/{owner}/{repo}/pages/deployments/{pages_deployment_id}/cancel"],checkAutomatedSecurityFixes:["GET /repos/{owner}/{repo}/automated-security-fixes"],checkCollaborator:["GET /repos/{owner}/{repo}/collaborators/{username}"],checkPrivateVulnerabilityReporting:["GET /repos/{owner}/{repo}/private-vulnerability-reporting"],checkVulnerabilityAlerts:["GET /repos/{owner}/{repo}/vulnerability-alerts"],codeownersErrors:["GET /repos/{owner}/{repo}/codeowners/errors"],compareCommits:["GET /repos/{owner}/{repo}/compare/{base}...{head}"],compareCommitsWithBasehead:["GET /repos/{owner}/{repo}/compare/{basehead}"],createAutolink:["POST /repos/{owner}/{repo}/autolinks"],createCommitComment:["POST /repos/{owner}/{repo}/commits/{commit_sha}/comments"],createCommitSignatureProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],createCommitStatus:["POST /repos/{owner}/{repo}/statuses/{sha}"],createDeployKey:["POST /repos/{owner}/{repo}/keys"],createDeployment:["POST /repos/{owner}/{repo}/deployments"],createDeploymentBranchPolicy:["POST /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies"],createDeploymentProtectionRule:["POST /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules"],createDeploymentStatus:["POST /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],createDispatchEvent:["POST /repos/{owner}/{repo}/dispatches"],createForAuthenticatedUser:["POST /user/repos"],createFork:["POST /repos/{owner}/{repo}/forks"],createInOrg:["POST /orgs/{org}/repos"],createOrUpdateCustomPropertiesValues:["PATCH /repos/{owner}/{repo}/properties/values"],createOrUpdateEnvironment:["PUT /repos/{owner}/{repo}/environments/{environment_name}"],createOrUpdateFileContents:["PUT /repos/{owner}/{repo}/contents/{path}"],createOrgRuleset:["POST /orgs/{org}/rulesets"],createPagesDeployment:["POST /repos/{owner}/{repo}/pages/deployments"],createPagesSite:["POST /repos/{owner}/{repo}/pages"],createRelease:["POST /repos/{owner}/{repo}/releases"],createRepoRuleset:["POST /repos/{owner}/{repo}/rulesets"],createTagProtection:["POST /repos/{owner}/{repo}/tags/protection"],createUsingTemplate:["POST /repos/{template_owner}/{template_repo}/generate"],createWebhook:["POST /repos/{owner}/{repo}/hooks"],declineInvitation:["DELETE /user/repository_invitations/{invitation_id}",{},{renamed:["repos","declineInvitationForAuthenticatedUser"]}],declineInvitationForAuthenticatedUser:["DELETE /user/repository_invitations/{invitation_id}"],delete:["DELETE /repos/{owner}/{repo}"],deleteAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],deleteAdminBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],deleteAnEnvironment:["DELETE /repos/{owner}/{repo}/environments/{environment_name}"],deleteAutolink:["DELETE /repos/{owner}/{repo}/autolinks/{autolink_id}"],deleteBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection"],deleteCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}"],deleteCommitSignatureProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],deleteDeployKey:["DELETE /repos/{owner}/{repo}/keys/{key_id}"],deleteDeployment:["DELETE /repos/{owner}/{repo}/deployments/{deployment_id}"],deleteDeploymentBranchPolicy:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}"],deleteFile:["DELETE /repos/{owner}/{repo}/contents/{path}"],deleteInvitation:["DELETE /repos/{owner}/{repo}/invitations/{invitation_id}"],deleteOrgRuleset:["DELETE /orgs/{org}/rulesets/{ruleset_id}"],deletePagesSite:["DELETE /repos/{owner}/{repo}/pages"],deletePullRequestReviewProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],deleteRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}"],deleteReleaseAsset:["DELETE /repos/{owner}/{repo}/releases/assets/{asset_id}"],deleteRepoRuleset:["DELETE /repos/{owner}/{repo}/rulesets/{ruleset_id}"],deleteTagProtection:["DELETE /repos/{owner}/{repo}/tags/protection/{tag_protection_id}"],deleteWebhook:["DELETE /repos/{owner}/{repo}/hooks/{hook_id}"],disableAutomatedSecurityFixes:["DELETE /repos/{owner}/{repo}/automated-security-fixes"],disableDeploymentProtectionRule:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/{protection_rule_id}"],disablePrivateVulnerabilityReporting:["DELETE /repos/{owner}/{repo}/private-vulnerability-reporting"],disableVulnerabilityAlerts:["DELETE /repos/{owner}/{repo}/vulnerability-alerts"],downloadArchive:["GET /repos/{owner}/{repo}/zipball/{ref}",{},{renamed:["repos","downloadZipballArchive"]}],downloadTarballArchive:["GET /repos/{owner}/{repo}/tarball/{ref}"],downloadZipballArchive:["GET /repos/{owner}/{repo}/zipball/{ref}"],enableAutomatedSecurityFixes:["PUT /repos/{owner}/{repo}/automated-security-fixes"],enablePrivateVulnerabilityReporting:["PUT /repos/{owner}/{repo}/private-vulnerability-reporting"],enableVulnerabilityAlerts:["PUT /repos/{owner}/{repo}/vulnerability-alerts"],generateReleaseNotes:["POST /repos/{owner}/{repo}/releases/generate-notes"],get:["GET /repos/{owner}/{repo}"],getAccessRestrictions:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],getAdminBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],getAllDeploymentProtectionRules:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules"],getAllEnvironments:["GET /repos/{owner}/{repo}/environments"],getAllStatusCheckContexts:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts"],getAllTopics:["GET /repos/{owner}/{repo}/topics"],getAppsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps"],getAutolink:["GET /repos/{owner}/{repo}/autolinks/{autolink_id}"],getBranch:["GET /repos/{owner}/{repo}/branches/{branch}"],getBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection"],getBranchRules:["GET /repos/{owner}/{repo}/rules/branches/{branch}"],getClones:["GET /repos/{owner}/{repo}/traffic/clones"],getCodeFrequencyStats:["GET /repos/{owner}/{repo}/stats/code_frequency"],getCollaboratorPermissionLevel:["GET /repos/{owner}/{repo}/collaborators/{username}/permission"],getCombinedStatusForRef:["GET /repos/{owner}/{repo}/commits/{ref}/status"],getCommit:["GET /repos/{owner}/{repo}/commits/{ref}"],getCommitActivityStats:["GET /repos/{owner}/{repo}/stats/commit_activity"],getCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}"],getCommitSignatureProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],getCommunityProfileMetrics:["GET /repos/{owner}/{repo}/community/profile"],getContent:["GET /repos/{owner}/{repo}/contents/{path}"],getContributorsStats:["GET /repos/{owner}/{repo}/stats/contributors"],getCustomDeploymentProtectionRule:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/{protection_rule_id}"],getCustomPropertiesValues:["GET /repos/{owner}/{repo}/properties/values"],getDeployKey:["GET /repos/{owner}/{repo}/keys/{key_id}"],getDeployment:["GET /repos/{owner}/{repo}/deployments/{deployment_id}"],getDeploymentBranchPolicy:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}"],getDeploymentStatus:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses/{status_id}"],getEnvironment:["GET /repos/{owner}/{repo}/environments/{environment_name}"],getLatestPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/latest"],getLatestRelease:["GET /repos/{owner}/{repo}/releases/latest"],getOrgRuleSuite:["GET /orgs/{org}/rulesets/rule-suites/{rule_suite_id}"],getOrgRuleSuites:["GET /orgs/{org}/rulesets/rule-suites"],getOrgRuleset:["GET /orgs/{org}/rulesets/{ruleset_id}"],getOrgRulesets:["GET /orgs/{org}/rulesets"],getPages:["GET /repos/{owner}/{repo}/pages"],getPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/{build_id}"],getPagesDeployment:["GET /repos/{owner}/{repo}/pages/deployments/{pages_deployment_id}"],getPagesHealthCheck:["GET /repos/{owner}/{repo}/pages/health"],getParticipationStats:["GET /repos/{owner}/{repo}/stats/participation"],getPullRequestReviewProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],getPunchCardStats:["GET /repos/{owner}/{repo}/stats/punch_card"],getReadme:["GET /repos/{owner}/{repo}/readme"],getReadmeInDirectory:["GET /repos/{owner}/{repo}/readme/{dir}"],getRelease:["GET /repos/{owner}/{repo}/releases/{release_id}"],getReleaseAsset:["GET /repos/{owner}/{repo}/releases/assets/{asset_id}"],getReleaseByTag:["GET /repos/{owner}/{repo}/releases/tags/{tag}"],getRepoRuleSuite:["GET /repos/{owner}/{repo}/rulesets/rule-suites/{rule_suite_id}"],getRepoRuleSuites:["GET /repos/{owner}/{repo}/rulesets/rule-suites"],getRepoRuleset:["GET /repos/{owner}/{repo}/rulesets/{ruleset_id}"],getRepoRulesets:["GET /repos/{owner}/{repo}/rulesets"],getStatusChecksProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],getTeamsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams"],getTopPaths:["GET /repos/{owner}/{repo}/traffic/popular/paths"],getTopReferrers:["GET /repos/{owner}/{repo}/traffic/popular/referrers"],getUsersWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users"],getViews:["GET /repos/{owner}/{repo}/traffic/views"],getWebhook:["GET /repos/{owner}/{repo}/hooks/{hook_id}"],getWebhookConfigForRepo:["GET /repos/{owner}/{repo}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}"],listActivities:["GET /repos/{owner}/{repo}/activity"],listAutolinks:["GET /repos/{owner}/{repo}/autolinks"],listBranches:["GET /repos/{owner}/{repo}/branches"],listBranchesForHeadCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/branches-where-head"],listCollaborators:["GET /repos/{owner}/{repo}/collaborators"],listCommentsForCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/comments"],listCommitCommentsForRepo:["GET /repos/{owner}/{repo}/comments"],listCommitStatusesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/statuses"],listCommits:["GET /repos/{owner}/{repo}/commits"],listContributors:["GET /repos/{owner}/{repo}/contributors"],listCustomDeploymentRuleIntegrations:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/apps"],listDeployKeys:["GET /repos/{owner}/{repo}/keys"],listDeploymentBranchPolicies:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies"],listDeploymentStatuses:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],listDeployments:["GET /repos/{owner}/{repo}/deployments"],listForAuthenticatedUser:["GET /user/repos"],listForOrg:["GET /orgs/{org}/repos"],listForUser:["GET /users/{username}/repos"],listForks:["GET /repos/{owner}/{repo}/forks"],listInvitations:["GET /repos/{owner}/{repo}/invitations"],listInvitationsForAuthenticatedUser:["GET /user/repository_invitations"],listLanguages:["GET /repos/{owner}/{repo}/languages"],listPagesBuilds:["GET /repos/{owner}/{repo}/pages/builds"],listPublic:["GET /repositories"],listPullRequestsAssociatedWithCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls"],listReleaseAssets:["GET /repos/{owner}/{repo}/releases/{release_id}/assets"],listReleases:["GET /repos/{owner}/{repo}/releases"],listTagProtection:["GET /repos/{owner}/{repo}/tags/protection"],listTags:["GET /repos/{owner}/{repo}/tags"],listTeams:["GET /repos/{owner}/{repo}/teams"],listWebhookDeliveries:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /repos/{owner}/{repo}/hooks"],merge:["POST /repos/{owner}/{repo}/merges"],mergeUpstream:["POST /repos/{owner}/{repo}/merge-upstream"],pingWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeAppAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],removeCollaborator:["DELETE /repos/{owner}/{repo}/collaborators/{username}"],removeStatusCheckContexts:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],removeStatusCheckProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],removeTeamAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],removeUserAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],renameBranch:["POST /repos/{owner}/{repo}/branches/{branch}/rename"],replaceAllTopics:["PUT /repos/{owner}/{repo}/topics"],requestPagesBuild:["POST /repos/{owner}/{repo}/pages/builds"],setAdminBranchProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],setAppAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],setStatusCheckContexts:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],setTeamAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],setUserAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],testPushWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/tests"],transfer:["POST /repos/{owner}/{repo}/transfer"],update:["PATCH /repos/{owner}/{repo}"],updateBranchProtection:["PUT /repos/{owner}/{repo}/branches/{branch}/protection"],updateCommitComment:["PATCH /repos/{owner}/{repo}/comments/{comment_id}"],updateDeploymentBranchPolicy:["PUT /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}"],updateInformationAboutPagesSite:["PUT /repos/{owner}/{repo}/pages"],updateInvitation:["PATCH /repos/{owner}/{repo}/invitations/{invitation_id}"],updateOrgRuleset:["PUT /orgs/{org}/rulesets/{ruleset_id}"],updatePullRequestReviewProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],updateRelease:["PATCH /repos/{owner}/{repo}/releases/{release_id}"],updateReleaseAsset:["PATCH /repos/{owner}/{repo}/releases/assets/{asset_id}"],updateRepoRuleset:["PUT /repos/{owner}/{repo}/rulesets/{ruleset_id}"],updateStatusCheckPotection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks",{},{renamed:["repos","updateStatusCheckProtection"]}],updateStatusCheckProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],updateWebhook:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}"],updateWebhookConfigForRepo:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}/config"],uploadReleaseAsset:["POST /repos/{owner}/{repo}/releases/{release_id}/assets{?name,label}",{baseUrl:"https://uploads.github.com"}]},search:{code:["GET /search/code"],commits:["GET /search/commits"],issuesAndPullRequests:["GET /search/issues"],labels:["GET /search/labels"],repos:["GET /search/repositories"],topics:["GET /search/topics"],users:["GET /search/users"]},secretScanning:{getAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"],listAlertsForEnterprise:["GET /enterprises/{enterprise}/secret-scanning/alerts"],listAlertsForOrg:["GET /orgs/{org}/secret-scanning/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/secret-scanning/alerts"],listLocationsForAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}/locations"],updateAlert:["PATCH /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"]},securityAdvisories:{createFork:["POST /repos/{owner}/{repo}/security-advisories/{ghsa_id}/forks"],createPrivateVulnerabilityReport:["POST /repos/{owner}/{repo}/security-advisories/reports"],createRepositoryAdvisory:["POST /repos/{owner}/{repo}/security-advisories"],createRepositoryAdvisoryCveRequest:["POST /repos/{owner}/{repo}/security-advisories/{ghsa_id}/cve"],getGlobalAdvisory:["GET /advisories/{ghsa_id}"],getRepositoryAdvisory:["GET /repos/{owner}/{repo}/security-advisories/{ghsa_id}"],listGlobalAdvisories:["GET /advisories"],listOrgRepositoryAdvisories:["GET /orgs/{org}/security-advisories"],listRepositoryAdvisories:["GET /repos/{owner}/{repo}/security-advisories"],updateRepositoryAdvisory:["PATCH /repos/{owner}/{repo}/security-advisories/{ghsa_id}"]},teams:{addOrUpdateMembershipForUserInOrg:["PUT /orgs/{org}/teams/{team_slug}/memberships/{username}"],addOrUpdateProjectPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/projects/{project_id}"],addOrUpdateRepoPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],checkPermissionsForProjectInOrg:["GET /orgs/{org}/teams/{team_slug}/projects/{project_id}"],checkPermissionsForRepoInOrg:["GET /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],create:["POST /orgs/{org}/teams"],createDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],createDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions"],deleteDiscussionCommentInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],deleteDiscussionInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],deleteInOrg:["DELETE /orgs/{org}/teams/{team_slug}"],getByName:["GET /orgs/{org}/teams/{team_slug}"],getDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],getDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],getMembershipForUserInOrg:["GET /orgs/{org}/teams/{team_slug}/memberships/{username}"],list:["GET /orgs/{org}/teams"],listChildInOrg:["GET /orgs/{org}/teams/{team_slug}/teams"],listDiscussionCommentsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],listDiscussionsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions"],listForAuthenticatedUser:["GET /user/teams"],listMembersInOrg:["GET /orgs/{org}/teams/{team_slug}/members"],listPendingInvitationsInOrg:["GET /orgs/{org}/teams/{team_slug}/invitations"],listProjectsInOrg:["GET /orgs/{org}/teams/{team_slug}/projects"],listReposInOrg:["GET /orgs/{org}/teams/{team_slug}/repos"],removeMembershipForUserInOrg:["DELETE /orgs/{org}/teams/{team_slug}/memberships/{username}"],removeProjectInOrg:["DELETE /orgs/{org}/teams/{team_slug}/projects/{project_id}"],removeRepoInOrg:["DELETE /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],updateDiscussionCommentInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],updateDiscussionInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],updateInOrg:["PATCH /orgs/{org}/teams/{team_slug}"]},users:{addEmailForAuthenticated:["POST /user/emails",{},{renamed:["users","addEmailForAuthenticatedUser"]}],addEmailForAuthenticatedUser:["POST /user/emails"],addSocialAccountForAuthenticatedUser:["POST /user/social_accounts"],block:["PUT /user/blocks/{username}"],checkBlocked:["GET /user/blocks/{username}"],checkFollowingForUser:["GET /users/{username}/following/{target_user}"],checkPersonIsFollowedByAuthenticated:["GET /user/following/{username}"],createGpgKeyForAuthenticated:["POST /user/gpg_keys",{},{renamed:["users","createGpgKeyForAuthenticatedUser"]}],createGpgKeyForAuthenticatedUser:["POST /user/gpg_keys"],createPublicSshKeyForAuthenticated:["POST /user/keys",{},{renamed:["users","createPublicSshKeyForAuthenticatedUser"]}],createPublicSshKeyForAuthenticatedUser:["POST /user/keys"],createSshSigningKeyForAuthenticatedUser:["POST /user/ssh_signing_keys"],deleteEmailForAuthenticated:["DELETE /user/emails",{},{renamed:["users","deleteEmailForAuthenticatedUser"]}],deleteEmailForAuthenticatedUser:["DELETE /user/emails"],deleteGpgKeyForAuthenticated:["DELETE /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","deleteGpgKeyForAuthenticatedUser"]}],deleteGpgKeyForAuthenticatedUser:["DELETE /user/gpg_keys/{gpg_key_id}"],deletePublicSshKeyForAuthenticated:["DELETE /user/keys/{key_id}",{},{renamed:["users","deletePublicSshKeyForAuthenticatedUser"]}],deletePublicSshKeyForAuthenticatedUser:["DELETE /user/keys/{key_id}"],deleteSocialAccountForAuthenticatedUser:["DELETE /user/social_accounts"],deleteSshSigningKeyForAuthenticatedUser:["DELETE /user/ssh_signing_keys/{ssh_signing_key_id}"],follow:["PUT /user/following/{username}"],getAuthenticated:["GET /user"],getByUsername:["GET /users/{username}"],getContextForUser:["GET /users/{username}/hovercard"],getGpgKeyForAuthenticated:["GET /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","getGpgKeyForAuthenticatedUser"]}],getGpgKeyForAuthenticatedUser:["GET /user/gpg_keys/{gpg_key_id}"],getPublicSshKeyForAuthenticated:["GET /user/keys/{key_id}",{},{renamed:["users","getPublicSshKeyForAuthenticatedUser"]}],getPublicSshKeyForAuthenticatedUser:["GET /user/keys/{key_id}"],getSshSigningKeyForAuthenticatedUser:["GET /user/ssh_signing_keys/{ssh_signing_key_id}"],list:["GET /users"],listBlockedByAuthenticated:["GET /user/blocks",{},{renamed:["users","listBlockedByAuthenticatedUser"]}],listBlockedByAuthenticatedUser:["GET /user/blocks"],listEmailsForAuthenticated:["GET /user/emails",{},{renamed:["users","listEmailsForAuthenticatedUser"]}],listEmailsForAuthenticatedUser:["GET /user/emails"],listFollowedByAuthenticated:["GET /user/following",{},{renamed:["users","listFollowedByAuthenticatedUser"]}],listFollowedByAuthenticatedUser:["GET /user/following"],listFollowersForAuthenticatedUser:["GET /user/followers"],listFollowersForUser:["GET /users/{username}/followers"],listFollowingForUser:["GET /users/{username}/following"],listGpgKeysForAuthenticated:["GET /user/gpg_keys",{},{renamed:["users","listGpgKeysForAuthenticatedUser"]}],listGpgKeysForAuthenticatedUser:["GET /user/gpg_keys"],listGpgKeysForUser:["GET /users/{username}/gpg_keys"],listPublicEmailsForAuthenticated:["GET /user/public_emails",{},{renamed:["users","listPublicEmailsForAuthenticatedUser"]}],listPublicEmailsForAuthenticatedUser:["GET /user/public_emails"],listPublicKeysForUser:["GET /users/{username}/keys"],listPublicSshKeysForAuthenticated:["GET /user/keys",{},{renamed:["users","listPublicSshKeysForAuthenticatedUser"]}],listPublicSshKeysForAuthenticatedUser:["GET /user/keys"],listSocialAccountsForAuthenticatedUser:["GET /user/social_accounts"],listSocialAccountsForUser:["GET /users/{username}/social_accounts"],listSshSigningKeysForAuthenticatedUser:["GET /user/ssh_signing_keys"],listSshSigningKeysForUser:["GET /users/{username}/ssh_signing_keys"],setPrimaryEmailVisibilityForAuthenticated:["PATCH /user/email/visibility",{},{renamed:["users","setPrimaryEmailVisibilityForAuthenticatedUser"]}],setPrimaryEmailVisibilityForAuthenticatedUser:["PATCH /user/email/visibility"],unblock:["DELETE /user/blocks/{username}"],unfollow:["DELETE /user/following/{username}"],updateAuthenticated:["PATCH /user"]}},hd=fd,Xe=new Map;for(const[e,t]of Object.entries(hd))for(const[r,o]of Object.entries(t)){const[n,s,i]=o,[a,l]=n.split(/ /),c=Object.assign({method:a,url:l},s);Xe.has(e)||Xe.set(e,new Map),Xe.get(e).set(r,{scope:e,methodName:r,endpointDefaults:c,decorations:i})}var gd={has({scope:e},t){return Xe.get(e).has(t)},getOwnPropertyDescriptor(e,t){return{value:this.get(e,t),configurable:!0,writable:!0,enumerable:!0}},defineProperty(e,t,r){return Object.defineProperty(e.cache,t,r),!0},deleteProperty(e,t){return delete e.cache[t],!0},ownKeys({scope:e}){return[...Xe.get(e).keys()]},set(e,t,r){return e.cache[t]=r},get({octokit:e,scope:t,cache:r},o){if(r[o])return r[o];const n=Xe.get(t).get(o);if(!n)return;const{endpointDefaults:s,decorations:i}=n;return i?r[o]=vd(e,t,o,s,i):r[o]=e.request.defaults(s),r[o]}};function md(e){const t={};for(const r of Xe.keys())t[r]=new Proxy({octokit:e,scope:r,cache:{}},gd);return t}function vd(e,t,r,o,n){const s=e.request.defaults(o);function i(...a){let l=s.endpoint.merge(...a);if(n.mapToData)return l=Object.assign({},l,{data:l[n.mapToData],[n.mapToData]:void 0}),s(l);if(n.renamed){const[c,d]=n.renamed;e.log.warn(`octokit.${t}.${r}() has been renamed to octokit.${c}.${d}()`)}if(n.deprecated&&e.log.warn(n.deprecated),n.renamedParameters){const c=s.endpoint.merge(...a);for(const[d,u]of Object.entries(n.renamedParameters))d in c&&(e.log.warn(`"${d}" parameter is deprecated for "octokit.${t}.${r}()". Use "${u}" instead`),u in c||(c[u]=c[d]),delete c[d]);return s(c)}return s(...a)}return Object.assign(i,s)}function _s(e){const t=md(e);return{...t,rest:t}}_s.VERSION=pd;var bd="20.1.1",Zo=ld.plugin(Cs,_s,Os).defaults({userAgent:`octokit-rest.js/${bd}`});const yd="/site/",Ed=ke({name:"SaveMapModal",components:{},props:{yaml:{type:String,required:!0}},data(){return{isStillActive:!0,statusText:"&nbsp;"}},methods:{async downloadYaml(){this.statusText="Saving...",await this.$nextTick();var e=document.createElement("a");e.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(this.yaml)),e.setAttribute("download","viz-layers-map.yaml"),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e),this.$emit("close")},async uploadGist(){this.statusText="Contacting GitHub...",await this.$nextTick();const e=`viz-layers-${Math.floor(Math.random()*100)}.yaml`,t={};t[e]={content:this.yaml};let r=localStorage.getItem("github-oauth-token")||"";if(r)try{const i=new Zo({auth:r});console.log("CREATING GIST:",e),this.statusText="Creating Gist...",await this.$nextTick();const a=await i.gists.create({public:!0,files:t});console.log("Gist created:",a.data.html_url),console.log("Gist created:",a.data.id);const l=`simwrapper.github.io${yd}gist/${a.data.id}`;return this.statusText=`<p>Gist id: <b>${a.data.id}</b></p>
            <p>Saved on GitHub at <a href="https://gist.github.com/${a.data.id}">gist.github.com</a></p>
            <p><br/>View on SimWrapper at<br/><a target="_blank" href="https://${l}">${l}</a></p>`,a.data.html_url}catch(i){console.error("GIST FAIL",i),alert("Failed to save GitHub Gist: "+i)}finally{}this.statusText="Requesting authorization...",await this.$nextTick();const o=this.promptUserForGithubAuth();let n=1;for(;n<=10&&this.isStillActive;){await new Promise(l=>setTimeout(l,n*2*1e3)),console.log(n);const a=await(await fetch(`https://simwrapper-oauth-github.fly.dev/get_auth_token?id=${o}`)).json();if(a.token){r=a.token;break}n++}if(!r&&this.isStillActive){console.error("token timeout"),this.$emit("error","GitHub Authentication timeout. Try again later.");return}localStorage.setItem("github-oauth-token",r);const s=new Zo({auth:r});console.log("CREATING GIST:",e),this.statusText="Creating Gist...",await this.$nextTick();try{const i=await s.gists.create({public:!0,files:t});return console.log("Gist created:",i.data.html_url),i.data.html_url}catch(i){console.error("GIST FAILED AFTER GOOD AUTH:",i)}finally{this.$emit("close")}},promptUserForGithubAuth(){localStorage.setItem("github-oauth-token","");const e=Math.floor(1e15*Math.random());return window.open(`https://simwrapper-oauth-github.fly.dev/auth/github?id=${e}`,"_blank","location=yes,height=570,width=520,scrollbars=yes,status=yes"),e},keyListener(e){e.keyCode===27&&this.$emit("close")}},async mounted(){window.addEventListener("keyup",this.keyListener)},beforeDestroy(){window.removeEventListener("keyup",this.keyListener),this.isStillActive=!1}});var Td=function(){var t=this,r=t._self._c;return t._self._setupProxy,r("div",{staticClass:"save-map-modal fade-in"},[r("div",{staticClass:"modal-content"},[r("h1",{staticClass:"blue"},[t._v("Save Map"),r("p",{staticClass:"close-button",on:{click:function(o){return t.$emit("close")}}},[r("i",{staticClass:"fas fa-times"})])]),r("div",{staticClass:"save-options flex-row"},[r("b-button",{staticClass:"is-outlined save-option flex1",class:t.$store.state.isDarkMode?"is-white":"is-link",on:{click:function(o){return t.downloadYaml()}}},[r("i",{staticClass:"fas fa-download",staticStyle:{"font-size":"20px","margin-bottom":"5px"}}),r("br"),t._v("Download"),r("br"),t._v("YAML file")])],1),r("p",{staticClass:"status-text",domProps:{innerHTML:t._s(`<p>${t.statusText}</p>`)}},[t._v(t._s(t.statusText))]),r("p",{staticClass:"disclaimer"},[t._v("SimWrapper is a client-side application with no server backend. Data stays on your machine unless you choose to upload it to a cloud service such as GitHub.")])])])},wd=[];var Cd=Pe(Ed,Td,wd,!1,null,"7503c32c",null,null);const xd=Cd.exports,Qo=window.flate,Sd=ke({name:"LayerMap",components:{AllLayers:wl,AddDataModal:_l,SaveMapModal:xd,BackgroundMapOnTop:$s,DrawingTool:Ys,LayerConfigurator:hu,ZoomButtons:ei},props:{configFromDashboard:{type:Object},datamanager:{type:Object},root:{type:String,required:!0},subfolder:{type:String,required:!0},thumbnail:Boolean,yamlConfig:String},data(){return{isPanelHidden:!1,isPanelReallyHidden:!1,mapLayers:[],showAddData:!1,showSaveMapYAML:"",theme:{bg:ve.state.isDarkMode?"dark":"light",roads:"below",labels:"on"},cbDatasetJoined:void 0,legendStore:new ri,globalStore:ve,globalState:ve.state,viewId:Math.floor(1e12*Math.random()),isEmbedded:!1,isLoaded:!1,statusText:"Loading...",needsInitialMapExtent:!0,triggerScreenshot:0,datasets:{},datasetKeyToFilename:{},myDataManager:this.datamanager||new zs(this.root,this.subfolder),config:{},filterDefinitions:[],resizer:null,thumbnailUrl:"url('assets/thumbnail.jpg') no-repeat;",tooltipHtml:"",vizDetails:{title:"",description:"",datasets:{},useSlider:!1,projection:"",thumbnail:"",filters:[],zoom:null,center:null,pitch:null,bearing:null,tooltip:[],layers:[]}}},computed:{fileApi(){return new ti(this.fileSystem,ve)},fileSystem(){const e=this.$store.state.svnProjects.filter(t=>t.slug===this.root);if(e.length===0)throw console.log("no such project"),Error;return e[0]},datasetChoices(){return Object.keys(this.datasets)},urlThumbnail(){return this.thumbnailUrl}},watch:{"globalState.viewState"(){Ve[this.viewId]&&Ve[this.viewId]()},"globalState.colorScheme"(){this.$nextTick().then(e=>{this.theme.bg=this.globalState.isDarkMode?"dark":"light",this.mapLayers=[...this.mapLayers]})}},methods:{async toggleHidePanel(){this.isPanelReallyHidden?(this.isPanelReallyHidden=!1,setTimeout(()=>{this.isPanelReallyHidden=!1,this.isPanelHidden=!1},50)):(this.isPanelHidden=!0,this.isPanelReallyHidden=!1,setTimeout(()=>{this.isPanelReallyHidden=!0},250))},emitError(e){this.$emit("error",e)},addNewLayer(e){const t=Yr[e];if(t){console.log("NEW LAYER",e);const r={datasets:this.datasets,datamanager:this.myDataManager},o=new t(r,{type:e});this.mapLayers.unshift(o),this.mapLayers=[...this.mapLayers]}},updateTheme(e){e.bg&&this.$store.commit("setTheme",e.bg),e.roads&&(this.theme.roads=e.roads)},updateLayers(e){(e==null?void 0:e.command)=="reorder"&&e.layers&&(this.mapLayers=[...e.layers]),this.mapLayers=this.mapLayers.filter((t,r)=>e&&(e.command="delete")?r!==e.index:!0)},takeScreenshot(){this.triggerScreenshot++},setEmbeddedMode(){"embed"in this.$route.query&&(console.log("EMBEDDED MODE"),this.isEmbedded=!0,this.$store.commit("setShowLeftBar",!1),this.$store.commit("setFullWidth",!0))},setupLogoMover(){this.resizer=new ResizeObserver(this.moveLogo);const e=document.getElementById(`container-${this.viewId}`);this.resizer.observe(e)},moveLogo(){const e=document.getElementById(`container-${this.viewId}`),t=e==null?void 0:e.querySelector(".mapboxgl-ctrl-bottom-left");if(t){const r=e.clientWidth>640?"280px":"36px";t.style.right=r}},columnsInDataset(e){const t=this.datasets[e];return Object.keys(t)},truncateFractionalPart(e,t){if(typeof e!="number")return e;let r=""+e;return r.includes(".")&&r.indexOf(".")===r.lastIndexOf(".")&&/\d$/.test(r)?r.substring(0,1+t+r.lastIndexOf(".")):e},cbTooltip(e,t){this.tooltipHtml=""},honorQueryParameters(){this.$route.query},convertCommasToArray(e){return e===void 0?[]:(Array.isArray(e)||(e.indexOf(",")>-1?e=e.split(",").map(t=>t.trim()):e=[e.trim()]),e)},async getVizDetails(){const e={datasets:{},display:{fill:{}}};if(this.configFromDashboard)this.config=JSON.parse(JSON.stringify(this.configFromDashboard)),this.vizDetails=Object.assign({},e,this.configFromDashboard);else{const r=(this.yamlConfig??"").toLocaleLowerCase();if(r!=null&&r.endsWith("yaml")||r!=null&&r.endsWith("yml")){const o=await this.loadYamlConfig();this.config=o,this.vizDetails=Object.assign({},e,o)}if(/(\.geojson)(|\.gz)$/.test(r)||/\.shp$/.test(r)||/network\.avro$/.test(r)){const o=`${r.endsWith("shp")?"Shapefile":"File"}: ${this.yamlConfig}`;this.vizDetails=Object.assign({},e,this.vizDetails,{title:o,description:this.subfolder,shapes:this.yamlConfig}),this.config=JSON.parse(JSON.stringify(this.vizDetails))}}const t=this.vizDetails.title||"Map";this.$emit("title",t)},async loadYamlConfig(){const e=this.yamlConfig??"",t=e.indexOf("/")>-1?e:this.subfolder+"/"+e;try{const o=await this.fileApi.getFileText(t);return Mr.load(o)}catch(o){const n=""+o;n.startsWith("YAMLSemantic")&&this.$emit("error",`${t}: ${n}`),console.log(`${t} not found, trying config folders`)}const{vizes:r}=await this.fileApi.findAllYamlConfigs(this.subfolder);if(r[e])try{const o=await this.fileApi.getFileText(r[e]);return Mr.load(o)}catch{console.error(`Also failed to load ${r[e]}`)}this.$emit("error","Could not load YAML: "+t)},async handleNewDataset(e){const{key:t,dataTable:r,filename:o}=e,n=t,s=o||n;console.log("HANDLE NEW DATSET:",n,s),this.myDataManager.setPreloadedDataset({key:this.datasetKeyToFilename[n],dataTable:r}),this.vizDetails.datasets[n]={file:s},this.vizDetails=Object.assign({},this.vizDetails),this.datasets[n]=r,this.datasets=Object.assign({},this.datasets)},async handleMapClick(e){try{const{x:t,y:r,data:o}=e.points[0],n=this.config.groupBy,s=t}catch(t){console.error(t)}},async loadDatasets(){const e=Object.keys(this.vizDetails.datasets);for(const t of e)t in this.datasets||await this.loadDataset(t)},async addDataset(e){const{dataset:t,geojson:r,file:o}=e;if(t&&(console.log("ADDING",t),this.myDataManager.setPreloadedDataset(t),this.showAddData=!1,this.datasets[t.key]=t.dataTable,this.datasets={...this.datasets}),r){console.log("FEATURES",r,o);let n=""+((o==null?void 0:o.name)||"GeoJSON");n.toLocaleLowerCase().endsWith(".geojson")&&(n=n.substring(0,n.length-8)),await this.myDataManager.registerFeatures(n,r.features,{}),this.showAddData=!1;const s=await this.myDataManager.getDataset({dataset:n});this.datasets[n]=s.allRows,this.datasets={...this.datasets}}},async loadDataset(e){if(console.log("### LOAD",e),!!e)try{const t=this.config.datasets[e];return typeof t=="string"?await this.loadDatasetFromFile(e):t.file?await this.loadDatasetFromFile(e):Array.isArray(t)?await this.loadDatasetEmbedded(e):await this.loadDatasetEmbedded(e)}catch(t){const r=""+t;console.error(r),this.$emit("error",`Error loading ${e}: ${r}`)}},async loadDatasetFromFile(e){const t=typeof this.config.datasets[e]=="string"?this.config.datasets[e]:this.config.datasets[e].file;if(this.statusText=`Loading dataset ${t} ...`,t.toLocaleLowerCase().indexOf("geojson")>-1){const i=await this.fileApi.getFileJson(`${this.subfolder}/${t}`);await this.addDataset({geojson:i,file:{name:e}});return}await this.$nextTick();let r={dataset:t};typeof this.config.datasets[e]!="string"&&(r=Object.assign(r,this.config.datasets[e])),this.datasetKeyToFilename[e]=t;const o=await this.myDataManager.getDataset(r),n=typeof this.config.datasets[e]=="string"?Object.keys(o.allRows)[0]:this.config.datasets[e].join,s=(n==null?void 0:n.split(":"))||[];s.length==1&&s.push(s[0]),this.datasets[e]=o.allRows,await this.$nextTick()},async loadDatasetEmbedded(e){const t=this.config.datasets[e],r={};for(const o of Object.keys(t)){let n,s={name:o};const i=t[o];if(Array.isArray(i)&&(n=i,s.type=Ke.STRING),i.data){if(i.type=="String"&&(s.type=Ke.STRING,n=i.data),i.type=="Float32Array"){const a=await wt.dataUrlToBytes(i.data),l=Qo.gzip_decode_raw(a);s.type=Ke.NUMBER,n=new Float32Array(l.buffer)}if(i.type=="Float64Array"){const a=await wt.dataUrlToBytes(i.data),l=Qo.gzip_decode_raw(a);s.type=Ke.NUMBER,n=new Float64Array(l.buffer)}}if(!n){this.$emit("error",`Unable to parse ${e} ${o}`);continue}s.values=n,r[o]=s,delete this.config.datasets[e]}this.myDataManager.setPreloadedDataset({key:e,dataTable:r}),this.datasets[e]=r},clearData(){this.datasets={}},setStartingMap(){this.$store.commit("setMapCamera",{zoom:this.vizDetails.zoom||4,bearing:this.vizDetails.bearing||0,pitch:this.vizDetails.pitch||0,longitude:15,latitude:45,initial:!0}),this.needsInitialMapExtent=!1},setMapCenter(){this.vizDetails.center&&typeof this.vizDetails.center=="string"&&(this.vizDetails.center=this.vizDetails.center.split(",").map(e=>parseFloat(e)),this.config.center=this.config.center.split(",").map(e=>parseFloat(e))),this.vizDetails.center||(this.vizDetails.center=[-122.4,37.75]),this.needsInitialMapExtent&&this.vizDetails.center&&(this.$store.commit("setMapCamera",{center:this.vizDetails.center,zoom:this.vizDetails.zoom||9,bearing:this.vizDetails.bearing||0,pitch:this.vizDetails.pitch||0,longitude:this.vizDetails.center?this.vizDetails.center[0]:0,latitude:this.vizDetails.center?this.vizDetails.center[1]:0,initial:!1}),this.needsInitialMapExtent=!1)},initializeLayers(){for(const e of this.vizDetails.layers)this.setupLayer(e)},setupLayer(e){const t=Yr[e.type];if(t){console.log("INIT",e.type);const r={datasets:this.datasets,datamanager:this.myDataManager};try{const o=new t(r,e);this.mapLayers.push(o)}catch(o){this.$emit("error",o)}}},async loadConfig(){try{if(this.clearData(),await this.getVizDetails(),this.thumbnail)return;this.setEmbeddedMode(),this.setupLogoMover(),await this.loadDatasets(),console.log("DATA LOADED",this.datasets),this.isLoaded=!0,this.$emit("isLoaded"),this.datasets=Object.assign({},this.datasets),this.config.datasets=JSON.parse(JSON.stringify(this.datasets)),this.vizDetails=Object.assign({},this.vizDetails),this.honorQueryParameters(),this.setMapCenter(),this.initializeLayers(),this.statusText=""}catch(e){this.statusText="",this.$emit("error",""+e),this.$emit("isLoaded")}}},async mounted(){if(this.root||this.configFromDashboard){this.loadConfig();return}this.clearData(),this.setEmbeddedMode(),this.setupLogoMover(),this.setMapCenter(),this.$emit("isLoaded"),this.isLoaded=!0,this.statusText="",setTimeout(()=>{this.showAddData=!0},500)},beforeDestroy(){var e;delete Ve[this.viewId],Ve[1e3+this.viewId]&&(Ve[1e3+this.viewId]([]),delete Ve[1e3+this.viewId]),this.clearData(),this.legendStore.clear(),(e=this.resizer)==null||e.disconnect(),this.$store.commit("setFullScreen",!1)}});var Od=function(){var t=this,r=t._self._c;return t._self._setupProxy,r("div",{staticClass:"layer-map",class:{"hide-thumbnail":!t.thumbnail},attrs:{oncontextmenu:"return false"}},[r("layer-configurator",{directives:[{name:"show",rawName:"v-show",value:!t.isPanelReallyHidden,expression:"!isPanelReallyHidden"}],staticClass:"layer-configurator",class:{"is-hide-me":t.isPanelHidden},attrs:{layers:t.mapLayers,datasets:t.datasets,theme:t.theme},on:{add:t.addNewLayer,save:function(o){t.showSaveMapYAML=o},addData:function(o){t.showAddData=!0},update:t.updateLayers,theme:t.updateTheme}}),t.thumbnail?t._e():r("div",{staticClass:"my-map",attrs:{id:`container-${t.viewId}`}},[r("p",{staticClass:"btn-show-hide"},[r("i",{staticClass:"fas",class:`fa-chevron-circle-${t.isPanelReallyHidden?"right":"left"}`,on:{click:function(o){return t.toggleHidePanel()}}})]),r("all-layers",{directives:[{name:"show",rawName:"v-show",value:!t.needsInitialMapExtent,expression:"!needsInitialMapExtent"}],attrs:{viewId:t.viewId,layers:t.mapLayers,cbError:t.emitError}}),t.theme.roads=="above"?r("background-map-on-top"):t._e(),t.isLoaded&&!t.thumbnail?r("zoom-buttons"):t._e()],1),t.showAddData?r("add-data-modal",{on:{close:function(o){t.showAddData=!1},update:t.addDataset}}):t._e(),t.showSaveMapYAML?r("save-map-modal",{attrs:{yaml:t.showSaveMapYAML},on:{close:function(o){t.showSaveMapYAML=""}}}):t._e()],1)},_d=[];var Ad=Pe(Sd,Od,_d,!1,null,"162d0d70",null,null);const ap=Ad.exports;export{ap as default};
//# sourceMappingURL=LayerMap-11364e11.js.map
