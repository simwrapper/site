import{a as g,b,d as C,n as P}from"./index-24c2379b.js";import{l as L}from"./Coords-23d23a7c.js";import{P as S}from"./PathOffsetLayer-df4f8747.js";import{G as x}from"./geojson-layer-4489d197.js";const f=g(L);var m=f.hasOwnProperty("default")?f.default:f;function k(r){return r.length>=2&&typeof r[0]=="number"&&typeof r[1]=="number"}function u(r,e){return k(r)?e(r):r.map(function(t){return u(t,e)})}function E(r){if(r==null||typeof r!="object")return r;var e=r.constructor();for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);return e}function l(r,e,t){if(t==null)return t;var n=E(t),s=l.bind(this,r,e);switch(t.type){case"Feature":n.geometry=s(t.geometry);break;case"FeatureCollection":n.features=n.features.map(s);break;case"GeometryCollection":n.geometries=n.geometries.map(s);break;default:r(n);break}return e&&e(n),n}function v(r,e){var t=r.crs,n;if(t===void 0)throw new Error('Unable to detect CRS, GeoJSON has no "crs" property.');if(t.type==="name"?n=e[t.properties.name]:t.type==="EPSG"&&(n=e["EPSG:"+t.properties.code]),!n)throw new Error("CRS defined in crs section could not be identified: "+JSON.stringify(t));return n}function h(r,e){return typeof r=="string"||r instanceof String?e[r]||m.Proj(r):r}function M(r){var e=[Number.MAX_VALUE,Number.MAX_VALUE],t=[-Number.MAX_VALUE,-Number.MAX_VALUE];return l(function(n){u(n.coordinates,function(s){e[0]=Math.min(e[0],s[0]),e[1]=Math.min(e[1],s[1]),t[0]=Math.max(t[0],s[0]),t[1]=Math.max(t[1],s[1])})},null,r),[e[0],e[1],t[0],t[1]]}function y(r,e,t,n){n=n||{},e?e=h(e,n):e=v(r,n),t=h(t,n);var s=m(e,t).forward.bind(s);function o(i){var d=s(i);return i.length===3&&i[2]!==void 0&&d[2]===void 0&&(d[2]=i[2]),d}var a=function(i){i.crs&&delete i.crs,i.coordinates=u(i.coordinates,o)},c=function(i){i.bbox&&(i.bbox=M(i))};return l(a,c,r)}var w={detectCrs:v,reproject:y,reverse:function(r){return l(function(e){e.coordinates=u(e.coordinates,function(t){return[t[1],t[0]]})},null,r)},toWgs84:function(r,e,t){return y(r,e,m.WGS84,t)}};const D=b(w);function O(r,e){const{transitions:t,updateTriggers:n}=r.props,s={updateTriggers:{},transitions:t&&{getPosition:t.geometry}};for(const o in e){const a=e[o];let c=r.props[o];o.startsWith("get")&&(c=r.getSubLayerAccessor(c),s.updateTriggers[a]=n[o],t&&(s.transitions[a]=t[o])),s[a]=c}return s}const G={NONE:0,LEFT:1,RIGHT:2},p={type:S,props:{lineWidthUnits:"widthUnits",lineWidthScale:"widthScale",lineWidthMinPixels:"widthMinPixels",lineWidthMaxPixels:"widthMaxPixels",lineJointRounded:"jointRounded",lineCapRounded:"capRounded",lineMiterLimit:"miterLimit",lineBillboard:"billboard",getLineColor:"getColor",getLineWidth:"getWidth"}};class _ extends x{constructor(e){super(e)}_renderLineLayers(){const{extruded:e,stroked:t}=this.props,{layerProps:n}=this.state,s="polygons-stroke",o="linestrings",a=!e&&t&&this.shouldRenderSubLayer(s,n.polygonsOutline.data)&&this.getSubLayerClass(s,p.type),c=this.shouldRenderSubLayer(o,n.lines.data)&&this.getSubLayerClass(o,p.type);if(a||c){const i=O(this,p.props);return[a&&new a(i,this.getSubLayerProps({id:s,updateTriggers:i.updateTriggers}),n.polygonsOutline),c&&new c(i,this.getSubLayerProps({id:o,updateTriggers:i.updateTriggers}),n.lines)]}return null}getShaders(){return{...super.getShaders(),inject:{"vs:#decl":`
            attribute float instanceOffset;
            varying float offset;
            `,"vs:#main-start":`
            offset = instanceOffset;
            `,"fs:#decl":`
            varying float offset;
            `,"fs:#main-start":`
            if (offset == 1.0 && vPathPosition.x < 0.0) {
                discard;
            }
            if (offset == 2.0 && vPathPosition.x > 0.0) {
                discard;
            }
            if (offset == 0.0 && abs(vPathPosition.x) > 0.5) {
                discard;
            }
        `}}}}_.layerName="GeojsonOffsetLayer";_.defaultProps={getOffset:{type:"accessor",value:G.RIGHT}};const A={messages:{en:{},de:{}}},T=["id","ID","TAZ","AB"],I=C({name:"ModalJoinColumnPicker",i18n:A,props:{data1:{type:Object,required:!0}},data(){return{selected1:0}},computed:{columns(){return[...this.data1.columns].sort()}},methods:{clickedJoin(){this.$emit("join",this.columns[this.selected1])},clickedCancel(){this.$emit("join","")}},mounted(){for(const r of T){const e=this.columns.indexOf(r);if(e>-1){this.selected1=e;break}}}});var R=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"join-picker"},[t("div",{staticClass:"picker-panel"},[e._m(0),t("p",{staticClass:"subheader"},[e._v("Which property contains the unique ID for each feature?")]),t("div",{staticClass:"split-panel"},[t("div",{staticClass:"column"},[t("p",[t("b",[e._v(e._s(e.data1.title))])]),t("div",{staticClass:"options-box"},e._l(e.columns,function(n,s){return t("p",{key:"@"+s,class:{selected:s===e.selected1},on:{click:function(o){e.selected1=s}}},[e._v(e._s(n))])}),0)])]),t("div",{staticClass:"buttons"},[t("div",{staticClass:"button-holder"},[t("button",{staticClass:"button",on:{click:e.clickedCancel}},[e._v("Cancel")]),t("button",{staticClass:"button is-primary",on:{click:e.clickedJoin}},[e._v("Select")])])])])])},N=[function(){var r=this,e=r._self._c;return r._self._setupProxy,e("p",{staticClass:"header"},[e("b",[r._v("Select ID Column")])])}];var W=P(I,R,N,!1,null,"f681571b",null,null);const X=W.exports;export{_ as G,X as M,D as r};
//# sourceMappingURL=ModalIdColumnPicker-cf633da6.js.map
